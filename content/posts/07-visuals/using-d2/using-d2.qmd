---
title: "Using D2 for Diagrams"
date: 23/Nov/2023
date-modified: "`r Sys.Date()`"
author: "Arvind V"
---

## Introdcution
Following the instructions at:\
1. <https://github.com/data-intuitive/quarto-d2>\
2. <https://d2lang.com/>\


```{.d2}
logs: {
  shape: page
  style.multiple: true
}
user: User {shape: person}
network: Network {
  tower: Cell Tower {
    satellites: {
      shape: stored_data
      style.multiple: true
    }

    satellites -> transmitter
    satellites -> transmitter
    satellites -> transmitter
    transmitter
  }
  processor: Data Processor {
    storage: Storage {
      shape: cylinder
      style.multiple: true
    }
  }
  portal: Online Portal {
    UI
  }

  tower.transmitter -> processor: phone logs
}
server: API Server

user -> network.tower: Make call
network.processor -> server
network.processor -> server
network.processor -> server

server -> logs
server -> logs
server -> logs: persist

server -> network.portal.UI: display
user -> network.portal.UI: access {
  style.stroke-dash: 3
}
```




```{.d2}
pg: PostgreSQL; pg.shape: hexagon
Cloud: my cloud; Cloud.shape: cloud
SQLite; Cassandra

```


```{.d2}
Write Replica Canada <-> Write Replica Australia

Read Replica <- Master
Write Replica -> Master

Read Replica 1 -- Read Replica 2

```

```{.d2}
Arvind {shape: person}
Shubha {shape: person}
Kalpana {shape: person}
Arvind <-> Shubha : "money" {
  style.stroke: red
  source-arrowhead: {
  label: 1
  shape: circle 
  style.filled: true}

  target-arrowhead: {
    shape: diamond
    style.filled: true
    label: ?}
    }
    
Arvind <-> Shubha : More money {
  style.stroke: blue
  source-arrowhead: {
  label: 2
  shape: circle 
  style.filled: true}

  target-arrowhead: {
    shape: diamond
    style.filled: true
    label: OK}
    }
    
Arvind -> Shubha : Still More money
Kalpana -> Shubha: Money



b <-> c: "Reality is just a crutch for people who can't handle science fiction" {

  source-arrowhead.label: 2
  source-arrowhead.shape: circle

  target-arrowhead: {
    shape: diamond
    style.filled: true
    label: *

  }

}


```



## Containers

```{.d2}
Cloud {shape: cloud}
Cloud.My Cloud {shape: cloud}
```

