---
title: "\U0001F3C3 Rhythm"
subtitle: "Ups and Downs, Rhymes and Reasons, Seasons and Rhythms"
abstract: ""
date: 2024-May-12
date-modified: "`r Sys.Date()`"
order: 32
categories:
- Correlations
- Line Plots

---

```{r setup, include=FALSE}
library(blogdown)
library(tidyverse)
library(downloadthis)
library(knitr)
library(kableExtra)
```

## {{< iconify fe beginner >}} What graphs will we see today?


| Variable #1 | Variable #2 | Chart Names | Chart Shape |
|:--------:|:--------:|:----------:|:-------------:|
|Quant| Quant|  Line Plot | {{< iconify healthicons chart-line size=4x >}} {{< iconify la chart-line size=4x >}}|

## {{< iconify tabler variable >}} What kind of Data Variables will we choose?

::: column-page-inset-right
```{r}
#| message: false
#| echo: false
#| warning: false
library(tidyverse)
read_csv("../../../../materials/Data/pronouns.csv") %>% 
  filter(No == "1") %>% 
  kbl() %>%
  kable_paper("hover", full_width = T)
  
```
:::


## {{< iconify icons8 idea >}} Inspiration

[Ek Ledecky bheegi-bhaagi si](https://youtu.be/mxYNdy-0CEs), is it?

![LinePlot Inspiration <https://fivethirtyeight.com/features/katie-ledecky-is-the-present-and-the-future-of-swimming/>](images/ledecky.png){#fig-lineplot-inspiration}

Yeh Ledecky hai, ya jal-pari?

>In @fig-lineplot-inspiration, the black line is the average of the 50 best times at each distance since 2000. The top 200 times for each distance since 2000 are also plotted, with light orange lines each representing one swimmer.
>
> Her races and her career essentially follow the same pattern â€” the more she swims, the more she separates from the field.

Her 1500 metres record timing is better than the best time for 800m!!`r emoji::emoji("scream")`

## {{< iconify mdi food-processor-outline >}} How do these Chart(s) Work?

Line Plots take two separate Quant variables as inputs. Each of the variables is mapped to a position, or coordinate: one for the X-axis, and the other for the Y-axis. Each pair of *observations* from the two Quant variables ( which would be in one row!) give us a `point`. All this much is identical with the [Scatter Plot](../30-ScatterPlots#index.qmd). 

And here, the points are connected together and sometimes thrown away altogether, leaving just the line. 

Looking at the lines, we get a very *function-al* sense of the variation: is it upward or downward? Is it linear or nonlinear? Is it periodic or seasonal...all these questions can be answered with Line Charts.  

::: callout-important
### When one variable is Time?
Line charts often have one variable as a *time* variable. In such case the data is said to be a **time series**. We *might* deal with [Time Series](../80-Time/index.qmd) later. 

:::

## {{< iconify ph chart-scatter-bold  >}} Plotting a Scatter Plot

::: {.panel-tabset .nav-pills style="background: whitesmoke;"}

### Using Orange

Although this widget exists, ![](https://orangedatamining.com/widget-catalog/widget-icons/__optimized-images__/Visualize-Line%20Plot.png), it does not provide quite the kind of *Line Chart* is considered standard in the data viz industry. 

Nonetheless, let us at least look at this data in Orange, before plotting it elsewhere. Yes, peasants. 

{{< downloadthis rawGraphs/LineChart/RIAA-RevenuesPerMusicFormat.csv dname="MusicRevenueData" label="Download the RIAA Music Revenue data" icon="database-fill-down" type="info" >}}

Import this into Orange and see...(sigh)

![RIAA Revenues Data Table](../../../../materials/images/Orange/music-data-table.png){#fig-riaa-data-table}


@fig-riaa-data-table states that there are 432 data points, with 7 variables in the dataset; some missing data. 

For now, the variables we need are :

::: callout-note
### Quantitative Data

-   `Year`: (int) Year in which RIAA revenue was logged
-   `Value (For Charting)`: (int) Revenue in million USD
We can ignore the rest for now, unless we plan to work more with this data, and need to know more. The other numerical data showing *billions* of USD are not easily decipherable, an example of data that is not documented well...

:::

::: callout-note
### Qualitative Data

-   `Category`: (chr) Form of the Music released ( CD etc..)

:::

### Using RAWgraphs

{{< video https://youtu.be/38nbSYy4VWw >}}

{{< downloadthis rawGraphs/LineChart/TutorialLineChart.rawgraphs dname="TutorialLineChart" label="Download the RAWGraphs Line Chart Tutorial File" icon="database-fill-down" type="info" >}}

Upload this into <https://app.rawgraphs.io/> and play! Here is something we can create there:

![](images/music.png)

### Using DataWrapper

<https://academy.datawrapper.de/article/23-how-to-create-a-line-chart>

Here be dragons: DataWrapper wants the data in [*wide format*](https://www.wikiwand.com/en/Wide_and_narrow_data): each `Format` of music needs to have its figures in a separate column! `r emoji::emoji("facepalm")`. And this is not a data transformation that we can achieve within DataWrapper. Bah.

We are probably better off plotting a regular scatter plot. Here too there seem to be limitations because we are not able to colour the series based on type of music `Format`. 

:::

## What is the Story here?
- Over the years different music formats have had their place in the sun
- All *physical* forms are on the wane; *streaming* music is the current mode of music consumption.

## The Shape of [~~You~~](https://youtu.be/JGwWNGJdvx8) Data

Never mind that silly song now. 

As mentioned above, data can be in [wide or long form](https://www.wikiwand.com/en/Wide_and_narrow_data). How does one imagine this shape-shifting that seems needed now and then? Let's see. 

::: callout-important
### Long Form and Wide Form Data
Several tools such as DataWrapper (and others, yes, I admit, even with code, as we will see) need data transformed to a specific **shape**. We should now look at this *idea* of *shape* in data. Consider the data tables below:

```{r}
#| label: fig-pivotting-data
#| echo: false
#| layout-ncol: 2
#| column: body-outset-right

## Wide Form
set.seed(4)
df4 <- tibble(Product = c("G1", "G2", "G3"),
              Power = runif(3), 
              Cost = runif(3),
              Harmony = runif(3),
              Style = runif(3),
              Size = runif(3),
              Manufacturability = runif(3),
              Durability = runif(3),
              Universality = runif(3))
df4 %>% kbl()
## 
df4 %>% 
  tidyr::pivot_longer(cols = -Product, names_to = "Parameter", values_to = "Rating") %>% kbl()

```

What we have done is:\
- convert all the variable names into a stacked column `Parameter`\
- Put all the numbers into another column `Rating`\
- Repeated the `Product` column values as many times as needed to cover all `Parameter`s (8 times).\

See the gif below to get an idea of how this transformation can be worked reversibly. (Yeah, never mind the code also.)

![](../../../../materials/images/tidyr-pivoting.gif)
:::

So how can we actually do this? Turns out there are some nice people at U. San Diego who have built an R-oriented app called [Radiant  for Business Analytics](https://radiant-rstats.github.io/docs/about.html) that can do this pretty much click-and-point style, though it is nowhere as much fun as Orange. Head off there:\

<https://vnijs.shinyapps.io/radiant>

We upload our original data, pivot it, and download the pivotted data. Peasants. Now the pivotted wide-form data should work in DataWrapper. 

Whatever. 


## {{< iconify game-icons sad-crab >}} Dataset: Cancer


### {{< iconify file-icons influxdata >}} Examine the Data




### {{< iconify streamline dictionary-language-book-solid >}} Data Dictionary

::: callout-note
### Quantitative Data

:::

::: callout-note
### Qualitative Data

-   `Diagnosis`: (text) (B)enign, or (M)alignant

:::


### {{< iconify material-symbols query-stats >}} Research Questions

::: callout-note
## Question
Q1. 

:::



::: callout-note
## Question
Q2. 


:::


### {{< iconify game-icons secret-book >}} What is the Story Here?

## {{< iconify bi person-up >}} Your Turn

## {{< iconify mingcute thought-line >}} Wait, But Why?



## {{< iconify ooui references-ltr >}} References

1. Charles Chambliss (1989). [*The Mundanity of Excellence: An ethnographical report on  Stratification and Olympic Swimmers*.](https://academics.hamilton.edu/documents/themundanityofexcellence.pdf)

1. Nijs V (2023). _radiant: Business Analytics using R and Shiny_. R
  package version 1.6.0, <https://github.com/radiant-rstats/radiant>.

