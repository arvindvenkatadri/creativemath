---
title: "\U0001F4CA Distributions"
subtitle: "Distributions"
author: "Arvind Venkatadri"
date: 15/Nov/2022
date-modified: "`r Sys.Date()`"
abstract: "Quant Variable Graphs and their Siblings"
order: 20
format: html
#fig-format: retina
code-fold: true
code-summary: Show the Code
code-tools: true
code-line-numbers: true
code-overflow: wrap
code-copy: true
fig-align: center
reference-location: margin
cap-location: margin
highlight-style: dracula
df-print: paged
section-divs: true
number-sections: true
execute: 
  freeze: auto
tags:
- Qual Variables and Quant Variables
- Bar and Column Charts
- Histograms and Density Plots
- Box Plots
---

## {{< fa folder-open >}} Slides and Tutorials

|                                                            |                                                                                                                          |                                                                                                    |                                                                                        |
|-----------------|----------------------|------------------|-----------------|
| <a href="./files/distributions.qmd"><i class="fa-brands    
    fa-r-project"></i> R Tutorial</a>                        | <a href="./files/distributions.ows"> <iconify-icon icon="fluent-emoji:orange-circle"></iconify-icon> Orange Tutorial</a> | <a href="./files/distributions.rda"> <i class="fa-solid fa-person-rays"></i> Radiant Tutorial</a>  | <a href="./files/data/qdd-data.zip"> <i class="fa-solid fa-database"></i> Datasets</a> |

```{r}
#| label: setup
#| include: false
# knitr::opts_chunk$set(echo = , message = FALSE, warning = FALSE)
library(fontawesome)
library(blogdown)
library(tidyverse)
library(mosaic)
library(downloadthis)
library(palmerpenguins)
library(patchwork)
# #remotes::install_github("R-CoderDotCom/ridgeline@main")
# library(ridgeline)
library(ggridges)

```

## What graphs will we see today?

Some of the very basic and commonly used plots for data are:

-   Bar and Column Charts
-   Histograms and Frequency Distributions
-   Box Plots
-   2D Hexbins Plots and 2D Frequency Distributions
-   Ridge Plots ( Quant + Qual variables)

## Histograms and Frequency Distributions

Histograms are best to show the distribution of raw *quantitative
data*,by displaying the number of values that fall within defined
ranges, often called *buckets* or *bins*.

Although histograms may look similar to column charts, the two are
different. First, histograms show *continuous data*, and usually you can
adjust the bucket ranges to explore frequency patterns. For example, you
can shift histogram buckets from 0-1, 1-2, 2-3, etc. to 0-2, 2-4, etc.
By contrast, column charts show *categorical data*, such as the number
of apples, bananas, carrots, etc. Second, histograms do not usually show
spaces between buckets because these are *continuous values*, while
column charts show spaces to separate each *category*.

Let us listen to the late great Hans Rosling from the [Gapminder
Project](https://www.gapminder.org), which aims at telling stories of
the world with data, to remove systemic biases about poverty, income and
gender related issues.

{{< video https://vimeo.com/127511255 >}}

## Examine the Data

Let us look at the popular `mpg` dataset ( from R ) using
`mosaic::inspect()`. We get two new pieces of output (i.e. two new
dataframes), *describing* the Qual and Quant variables separately:

```{r}
#| label: mpg-inspect-1
inspect(mpg)

```

::: column-margin
We can save and see the outputs separately:

```{r mpg-inspect-2, eval=FALSE}

mpg_describe <- inspect(mpg)

mpg_describe$categorical
mpg_describe$quantitative

```
:::

There is a lot of Description generated by the `mosaic::inspect()`
command ! What can we say about the dataset and its variables? How big
is the dataset? How many variables? What types are they, Quant or Qual?
If they are Qual, what are the *levels*? Are they *ordered* levels?
Discuss!

## Some Sample Charts for Quant Data Distributions

```{r}
#| label: charts

# library(tidyverse)
# library(patchwork)
# library(ggridges)

mpg <- mpg %>% mutate(drv= as_factor(drv))
p <- ggplot(mpg, alpha = 0.3) 
p1 <- p + geom_histogram(aes(x = hwy, fill = drv)) + labs(title = "Histogram")
p2 <- p + geom_density(aes(x = hwy, fill = drv))+ labs(title = "Frequency Density")
p3 <- p + geom_boxplot(aes(x = drv, y = hwy, fill = drv))+ labs(title = "Boxplot")
p4 <- p + geom_violin(aes(x = drv, y = hwy, fill = drv))+ labs(title = "Violin")

(p1+p3)/(p2+p4) + plot_layout(nrow = 3) + plot_annotation(title = "Single Quant Variable",subtitle = "And one Qual Variable too", tag_levels = 'A') & theme_minimal()

```

```{r}
#| label: more-charts
mpg <- mpg %>% mutate(drv= as_factor(drv))

p5 <- p + geom_density_ridges(aes(x = hwy, y = drv, fill = drv), alpha = 0.3, rel_min_height = 0.005) +
  scale_y_discrete(expand = c(0.01, 0)) +
  scale_x_continuous(expand = c(0.01, 0)) +
  theme_ridges() + labs(title = "Ridge Plot")

p7 <- p + geom_hex(aes(x = hwy, y = cty, fill = drv))+ labs(title = "Hex Bin Plot")
p8 <- p + geom_density_2d(aes(x = hwy, y = cty))+ labs(title = "2D Density Plot")

(p7 + p8) / p5 + plot_layout(guides = 'keep') + 
  plot_annotation(title = "Two Quant Variables",subtitle = "And one Qual Variable too", tag_levels = 'A') & theme_minimal()

```

## {{< iconify orange-circle >}} A Workflow in Orange

How does one visualize Distributions in Orange?

{{< video https://www.youtube.com/embed/kKg22hjgFBI >}}

<a href="./files/distributions.ows">
<iconify-icon icon="fluent-emoji:orange-circle"></iconify-icon> Orange
Tutorial</a>

Download the Orange Workflow file by clicking the icon above, save the
file, and open it in Orange.

## {{< fa person-rays >}} A Workflow in Radiant

<a href="./files/correlations.rda">
<i class="fa-solid fa-person-rays"></i> Radiant Tutorial</a>  

Download the Radiant Workflow statefile by clicking the icon above, an
upload/open it in Radiant. You need to start radiant from the
`Add-In`menu in RStudio.

## {{< fa brands r-project >}} A Workflow in R

<a href="./files/distributions.qmd"><i class="fa-brands
fa-r-project"></i> R Tutorial</a>  

Download the Quarto tutorial file by clicking the icon above and open it
in RStudio or <https://rstudio.cloud> .

## Conclusion

-   Histograms, Frequency Distributions, and Box Plots are used for
    Quantitative data variables
-   Histograms "dwell upon" **counts**, **ranges**, **means** and
    **standard deviations**
-   Frequency Density plots "dwell upon" **probabilities** and
    **densities**
-   Box Plots "dwell upon" **medians** and **Quartiles**
-   Qualitative data variables can be plotted as **counts**, using Bar
    Charts, or using Heat Maps
-   2D density plots are used for describing *two quant* variables\*
-   Ridge Plots are **density plots** used for describing one Quant and
    one Qual variable (by inherent splitting)
-   We can split all these plots on the basis of another Qualitative
    variable.(Ridge Plots are already split)

## Your Turn

<a href="./files/data/qdd-data.zip">
<i class="fa-solid fa-database"></i> Datasets</a>

1.  Click on the Dataset Icon above, and unzip that archive. Try to make
    distribution plots with each of the three tools.

2.  A dataset from calmcode.io <https://calmcode.io/datasets.html>\

3.  Old Faithful Data in R ( Find it!)

`inspect` the dataset in each case and develop a set of Questions, that
can be answered by appropriate stat measures, or by using a chart to
show the distribution.

## References

1.  See the scrolly animation for a histogram at this website:
    **Exploring Histograms, an essay by Aran Lunzer and Amelia
    McNamara** <https://tinlizzie.org/histograms/?s=09>

2.  Minimal R using `mosaic`.
    <https://cran.r-project.org/web/packages/mosaic/vignettes/MinimalRgg.pdf>
