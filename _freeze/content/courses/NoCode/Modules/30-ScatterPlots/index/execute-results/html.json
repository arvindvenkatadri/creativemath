{
  "hash": "d9451fe850892b9aa235349893ac4482",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"\\U0001F3C3 If you wish to go anywhere, you must run twice as fast as that.\"\nsubtitle: \"Relations and Correlations\"\ndate: 2024-April-25\ndate-modified: \"2024-04-26\"\norder: 30\nabstract: \"How one variable changes with another\"\ncategories:\n- Correlations\n- Scatter and Bubble Plots\n- Regression Lines\nexternal_link: \"\"\nlinks:\n# - icon: linkedin\n#   icon_pack: fab\n#   name: \n#   url: https://linkedin.com/arvindvenkatadri\n# - icon: twitter\n#   icon_pack: fab\n#   name: \n#   url: https://twitter.com/arvind_v\nslides: \"\"\nurl_code: \"\"\nurl_pdf: \"\"\nurl_slides: \"\"\nurl_video: \"\"\n---\n\n\n\n\n## {{< iconify fe beginner >}} What graphs will we see today?\n\n\n| Variable #1 | Variable #2 | Chart Names | Chart Shape |\n|:--------:|:--------:|:----------:|:-------------:|\n|Quant| Quant|  Scatter Plot | {{< iconify ph chart-scatter-bold size=4x >}}  |\n\n## {{< iconify tabler variable >}} What kind of Data Variables will we choose?\n\n::: column-page-inset-right\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-paper lightable-hover\" style='font-family: \"Arial Narrow\", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> No </th>\n   <th style=\"text-align:left;\"> Pronoun </th>\n   <th style=\"text-align:left;\"> Answer </th>\n   <th style=\"text-align:left;\"> Variable/Scale </th>\n   <th style=\"text-align:left;\"> Example </th>\n   <th style=\"text-align:left;\"> What Operations? </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> How Many / Much / Heavy? Few? Seldom? Often? When? </td>\n   <td style=\"text-align:left;\"> Quantities, with Scale and a Zero Value.Differences and Ratios /Products are meaningful. </td>\n   <td style=\"text-align:left;\"> Quantitative/Ratio </td>\n   <td style=\"text-align:left;\"> Length,Height,Temperature in Kelvin,Activity,Dose Amount,Reaction Rate,Flow Rate,Concentration,Pulse,Survival Rate </td>\n   <td style=\"text-align:left;\"> Correlation </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n\n## {{< iconify mdi food-processor-outline >}} How do these Chart(s) Work?\nScatter Plots take two separate Quant variables as inputs. Each of the variables is mapped to a position, or coordinate: one for the X-axis, and the other for the Y-axis. Each pair of *observations* from the two Quant variables ( which would be in one row!) give us a `point` in the Scatter Plot. \n\nLooking at these *clouds of points* gives us an intuitive sense of the relationship between the two Quant variables, how one varies with the other. A cloud that slopes upward to the right indicates a *positive* relationship between the two; a cloud that slopes down to the right indicates a *negative one. An amorphous cloud that does not discernably slope in either way would lead us to infer that there is little or no relationship between the variables. \n\n::: callout-important\n## Slope and the Correlation Coefficient are Related\nUnder the assumption of a *linear relationship* between the two Quant variables, we plot a straight trend line, or **regression line** through the cloud of point,as a line that best represents that linear relationship. The **slope** of the regression line is directly linked to the **Pearson Correlation Coefficient** between the two variables.\n:::\n\n\n## {{< iconify ph chart-scatter-bold  >}} Plotting a Scatter Plot\n\n::: {.panel-tabset .nav-pills style=\"background: whitesmoke;\"}\n\n### Using Orange\n\nWe can use the now (overly) familiar `iris` dataset to plot our first scatter plot. Download the workflow file below:\n\n\n{{< downloadthis orange/scatter.ows dname=\"scatter\" label=\"Download the Scatter Plot Workflow\" icon=\"database-fill-down\" type=\"info\" >}}\n\n\n\n![Iris Scatter Plot](../../../../materials/images/Orange/iris-scatter-plot.png){#fig-iris-scatter-plot}\n\n\n- Try setting shapes and colours, and try plotting a \"regression line\". Do you get one line, or several? Why, or why not? How can you switch between the two \"methods\"?\n- Try other pairs of Quant variables in the dataset. \n- Which plot is the *most informative*? Why?\n\n\n### Using RAWgraphs\n\n<https://youtu.be/FafXHMmau1M>\n\n\n### Using DataWrapper\n\n<https://academy.datawrapper.de/article/65-how-to-create-a-scatter-plot>\n\n:::\n\n## What is the Story here?\n- There are three species of iris flowers and they are \"separable\" based on combinations of their quantitative measurements. \n- Some pairs of Quant variables create Scatter Plots that are quite *disjoint* and allow easy identification of the `species` variable.\n- In a ML model for this dataset, the `species` variable is most likely to be the `target variable` while the rest are `predictors`. \n\n\n\n## {{< iconify game-icons sad-crab >}} Dataset: Cancer\n\nLet us examine a fairly complex dataset pertaining to cancer, and analyze that with scatter plots.\n\n\n{{< downloadthis data/cancer.csv dname=\"cancer\" label=\"Download the Cancer dataset\" icon=\"database-fill-down\" type=\"info\" >}}\n\n\n\nWe can use the same Workflow as before. \n\n### {{< iconify file-icons influxdata >}} Examine the Data\n\n![Cancer Data Table](../../../../materials/images/Orange/cancer-data-table.png){#fig-cancer-data-table}\n\n\nFrom @fig-cancer-data-table, we see that there is *one* Qual column `Diagnosis`, and all the remaining 31 columns seem to be some Quant measurements of a total of 569 tumours. (Not all columns are visible)\n\n![Cancer Data Summary Table #1](../../../../materials/images/Orange/cancer-summary-table.png){#fig-cancer-data-summary}\n\n\n@fig-cancer-data-summary gives is histograms and statistics of all the 32 columns. Most histograms seem roughly symmetric, but a detailed look must be taken. \n\n![Cancer Data Summary Table #2](../../../../materials/images/Orange/cancer-summary-table-2.png){#fig-cancer-data-summary-2}\n\nIn @fig-cancer-data-summary-2, we see that there is some imbalance between the *counts* for the one Qual variable, `Diagnosis`.\n\n\n### {{< iconify streamline dictionary-language-book-solid >}} Data Dictionary\n\n::: callout-note\n### Quantitative Data\n|  | |\n|:-------------:|:--------------:|\n|\"Id\"                   |                     |\n| \"Radius (mean)\"        |     \"Texture (mean)\"  |         \n\"Perimeter (mean)\"     |    \"Area (mean)\"              \n\"Smoothness (mean)\"    |    \"Compactness (mean)\"       \n\"Concavity (mean)\"     |    \"Concave points (mean)\"    \n\"Symmetry (mean)\"      |    \"Fractal dimension (mean)\" \n\"Radius (se)\"          |    \"Texture (se)\"             \n\"Perimeter (se)\"       |    \"Area (se)\"                \n\"Smoothness (se)\"      |    \"Compactness (se)\"         \n\"Concavity (se)\"       |     \"Concave points (se)\"      \n\"Symmetry (se)\"        |    \"Fractal dimension (se)\"   \n\"Radius (worst)\"       |    \"Texture (worst)\"          \n\"Perimeter (worst)\"    |    \"Area (worst)\"             \n\"Smoothness (worst)\"   |    \"Compactness (worst)\"      \n\"Concavity (worst)\"    |    \"Concave points (worst)\"   \n\"Symmetry (worst)\"     |    \"Fractal dimension (worst)\"\n\n:::\n- Many of the Quant variables seem to be `mean` measurements, presumably taken over several \"sites\" within the same tumour. \n- Along with the `mean`, there are also measurements of `se` or *standard error* which is, roughly speaking, a measure of the `standard deviation` of the multiple measurements made. \nSo for instance, `Area(mean)` and `Area(se)` are pairs of measurements created using multiple \"sites\" on one tumour. \n- Some other variables are labelled as *worst*, which may be either the `max` or `min` of such a set of \"multi-site\" tumour measurements. \n\n::: callout-important\n### May the (data) Source be with you\nIt is important to note that these are (educated?) guesses; one is best off connecting with the person/agency that provided the data for a precise understanding of variables. This will prevent nonsensical plots/models and inferences from showing up in your work.\n:::\n\n::: callout-note\n### Qualitative Data\n\n-   `Diagnosis`: (text) (B)enign, or (M)alignant\n\n:::\n\n\n### {{< iconify material-symbols query-stats >}} Research Questions\n\n::: callout-note\n## Question\nQ1. Are the `mean` and `se` observations correlated, for a particular variable?\n\n::: {#fig-cancer-scatter-plots layout-ncol=2}\n\n![Cancer Scatter Plot #1](../../../../materials/images/Orange/cancer-area-mean-se.png){#fig-cancer-area-mean-se}\n\n![Cancer Scatter Plot #2](../../../../materials/images/Orange/cancer-radius-mean-se.png){#fig-cancer-radius-mean-se}\n\n![Cancer Scatter Plot #3](../../../../materials/images/Orange/cancer-smoothness-mean-se.png){#fig-cancer-smoothness-mean-se}\n\n![Cancer Scatter Plot #4](../../../../materials/images/Orange/cancer-fractal-means-se.png){#fig-cancer-fractal-mean-se}\n\n\n:::\n\n:::\n\n\n::: callout-note\n## Question\nQ2. Are the `mean` and `worst` observations correlated, for a particular variable?\n\n::: {#fig-cancer-scatter-plots layout-ncol=2}\n![Cancer Scatter Plot #5](../../../../materials/images/Orange/cancer-area-mean-worst.png){#fig-cancer-area-mean-worst}\n\n![Cancer Scatter Plot #6](../../../../materials/images/Orange/cancer-radius-mean-worst.png){#fig-cancer-radius-mean-worst}\n\n![Cancer Scatter Plot #7](../../../../materials/images/Orange/cancer-smoothness-mean-worst.png){#fig-cancer-smoothness-mean-worst}\n\n![Cancer Scatter Plot #8](../../../../materials/images/Orange/cancer-fractal-mean-worst.png){#fig-cancer-fractal-mean-worst}\n\n\n:::\n\n:::\n\n### {{< iconify game-icons secret-book >}} What is the Story Here?\n\nFrom @fig-cancer-area-mean-se, we see that the `area(mean)` and `area(se)` are somewhat correlated; moreover the correlation is slightly higher for the *malignant* tumours ( red dots, appropriately...). This trend shows up also for `radius` in @fig-cancer-radius-mean-se, and for `fractaldimension` in @fig-cancer-fractal-mean-se. However, for `smoothness`, we see much lower correlation {#fig-cancer-smoothness-mean-se}. \n\nFor the `mean` vs `worst` scatter plots, we see decent correlations all around, with each of the graphs showing clouds tilted upward to the right. \n\n\n::: callout-important\n\nTry to remove colours and then plot a regression line. This usually gives a more clear idea of the correlation, without running into problems such as the [Simpson's Paradox](https://towardsdatascience.com/simpsons-paradox-and-interpreting-data-6a0443516765):\n\n![Simpson's Paradox](https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8tP_5zRKNAyVSeexu7RJZg.png){#fig-simpsons-paradox}\n\n:::\n\n\n## {{< iconify bi person-up >}} Your Turn\n\n1. Try to play this online [Correlation Game](https://openintro.shinyapps.io/correlation_game/)\n\n1. Try this dataset on School Expenditure and Grades. \n\n\n{{< downloadthis data/CASchools.csv dname=\"CASchools\" label=\"Download the School Data\" icon=\"database-fill-down\" type=\"info\" >}}\n\n\n\n2. Gas Prices and Consumption, described [here](https://vincentarelbundock.github.io/Rdatasets/doc/AER/OECDGas.html). Note the `log-transformed` Quant data...why do you reckon this was done in the data set itself?\n\n\n{{< downloadthis data/OECDGas.csv dname=\"OECDGas\" label=\"Download the Gas Consumption Data\" icon=\"database-fill-down\" type=\"info\" >}}\n\n\n\n## {{< iconify mingcute thought-line >}} Wait, But Why?\n\n- Scatter Plots, when they show \"linear\" clouds, tell us that there is some relationship between two Quant variables we have just plotted\n- If so, then if one is the target variable you are trying to **design for**, then the other variable is something you might want to **design with**. \n\n::: callout-warning\n- Use your head about the pairs of variables. Do not fall into this [trap](https://pedermisager.org/blog/why_does_correlation_not_equal_causation/))\n:::\n\n## {{< iconify ooui references-ltr >}} References\n\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../../../../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../../../../../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n<link href=\"../../../../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../../../../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}