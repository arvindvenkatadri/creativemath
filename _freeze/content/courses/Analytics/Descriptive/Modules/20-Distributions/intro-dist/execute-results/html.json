{
  "hash": "f774600cb8677a1256ffcb48a7645851",
  "result": {
    "markdown": "---\ntitle: \"\\U0001F4CA Distributions\"\nsubtitle: \"Distributions\"\nauthor: \"Arvind Venkatadri\"\ndate: 15/Nov/2022\ndate-modified: \"2023-09-05\"\nabstract: \"Quant Variable Graphs and their Siblings\"\norder: 20\nimage: preview.jpg\nimage-alt: Image by rawpixel.com\ncategories:\n- Qual Variables\n- Quant Variables\n- Bar Charts\n- Column Charts\n- Histograms\n- Density Plots\n- Box Plots\n---\n\n\n## {{< fa folder-open >}} Slides and Tutorials\n\n|                                                                                                 |                                                                                                                 |                                                                                                    |                                                                                        |\n|------------------|-------------------|------------------|------------------|\n| <a href=\"./files/distributions.qmd\"><i class=\"fa-brands fa-r-project\"></i> R (Static Viz)</a>   | <a href=\"./files/distributions-interactive.qmd\"> <i class=\"fa-brands fa-r-project\"></i> R (Interactive Viz)</a> | <a href=\"./files/distributions.rda\"> <i class=\"fa-solid fa-person-rays\"></i> Radiant Tutorial</a>  | <a href=\"./files/data/qdd-data.zip\"> <i class=\"fa-solid fa-database\"></i> Datasets</a> |\n\n## {{< iconify noto-v1 package >}} Setting up R Packages\n\n\n::: {.cell hash='intro-dist_cache/html/setup_67353fa6925ba46906cc16608cb7ac9d'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(mosaic)\nlibrary(palmerpenguins)\nlibrary(ggformula)\nlibrary(ggridges)\n\nggplot2::theme_set(theme_classic())\n```\n:::\n\n\n## {{< iconify fxemoji japanesesymbolforbeginner >}} What graphs will we see today?\n\nSome of the very basic and commonly used plots for data are:\n\n-   Bar and Column Charts\n-   Histograms and Frequency Distributions\n-   Box Plots\n-   2D Hexbins Plots and 2D Frequency Distributions\n-   Ridge Plots ( Quant + Qual variables)\n\n## {{< iconify icon-park-outline chart-histogram >}} Histograms and Frequency Distributions\n\nHistograms are best to show the distribution of raw *quantitative\ndata*,by displaying the number of values that fall within defined\nranges, often called *buckets* or *bins*.\n\nAlthough histograms may look similar to column charts, the two are\ndifferent. First, histograms show *continuous data*, and usually you can\nadjust the bucket ranges to explore frequency patterns. For example, you\ncan shift histogram buckets from 0-1, 1-2, 2-3, etc. to 0-2, 2-4, etc.\nBy contrast, column charts show *categorical data*, such as the number\nof apples, bananas, carrots, etc. Second, histograms do not usually show\nspaces between buckets because these are *continuous values*, while\ncolumn charts show spaces to separate each *category*.\n\nLet us listen to the late great Hans Rosling from the [Gapminder\nProject](https://www.gapminder.org), which aims at telling stories of\nthe world with data, to remove systemic biases about poverty, income and\ngender related issues.\n\n\n{{< video https://vimeo.com/127511255 >}}\n\n\n\n### {{< iconify file-icons influxdata >}} Examine the Data\n\nLet us look at the popular `mpg` dataset ( from R ) using\n`mosaic::inspect()`. We get two new pieces of output (i.e. two new\ndataframes), *describing* the Qual and Quant variables separately:\n\n\n::: {.cell hash='intro-dist_cache/html/mpg-inspect-1_367dd10fe04236f3c8ebce48bfd9e236'}\n\n```{.r .cell-code}\ninspect(mpg)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\ncategorical variables:  \n          name     class levels   n missing\n1 manufacturer character     15 234       0\n2        model character     38 234       0\n3        trans character     10 234       0\n4          drv character      3 234       0\n5           fl character      5 234       0\n6        class character      7 234       0\n                                   distribution\n1 dodge (15.8%), toyota (14.5%) ...            \n2 caravan 2wd (4.7%) ...                       \n3 auto(l4) (35.5%), manual(m5) (24.8%) ...     \n4 f (45.3%), 4 (44%), r (10.7%)                \n5 r (71.8%), p (22.2%), e (3.4%) ...           \n6 suv (26.5%), compact (20.1%) ...             \n\nquantitative variables:  \n   name   class    min     Q1 median     Q3  max        mean       sd   n\n1 displ numeric    1.6    2.4    3.3    4.6    7    3.471795 1.291959 234\n2  year integer 1999.0 1999.0 2003.5 2008.0 2008 2003.500000 4.509646 234\n3   cyl integer    4.0    4.0    6.0    8.0    8    5.888889 1.611534 234\n4   cty integer    9.0   14.0   17.0   19.0   35   16.858974 4.255946 234\n5   hwy integer   12.0   18.0   24.0   27.0   44   23.440171 5.954643 234\n  missing\n1       0\n2       0\n3       0\n4       0\n5       0\n```\n:::\n:::\n\n\n::: column-margin\nWe can save and see the outputs separately:\n\n\n::: {.cell hash='intro-dist_cache/html/mpg-inspect-2_202151a4f30b826aa47ca10f54b44ddb'}\n\n```{.r .cell-code}\nmpg_describe <- inspect(mpg)\n\nmpg_describe$categorical\nmpg_describe$quantitative\n```\n:::\n\n:::\n\nThere is a lot of Description generated by the `mosaic::inspect()`\ncommand ! What can we say about the dataset and its variables? How big\nis the dataset? How many variables? What types are they, Quant or Qual?\nIf they are Qual, what are the *levels*? Are they *ordered* levels?\nDiscuss!\n\n::: {.callout-tip style=\"background: beige\"}\nNote the standard method for all commands from the `mosaic` package:\n\n`goal( y ~ x | z, data = mydata, …)`\n\nWith `ggformula`, one can create any graph/chart using:\n\n`gf_geometry(y ~ x | z, data = mydata)`\n\nOR\n\n`mydata %>% gf_geometry( y ~ x | z)`\n\nThe second method may be preferable, especially if you have done some\ndata manipulation first! More later!\n:::\n\n### {{< iconify ic round-addchart >}} Some Sample Charts for Quant Data Distributions\n\n\n::: {.cell layout-ncol=\"2\" hash='intro-dist_cache/html/charts_10c28382b334ebd7bcd10ec2a89a71f8'}\n\n```{.r .cell-code}\nmpg <- mpg %>% mutate(drv= as_factor(drv))\n\ngf_histogram(~ hwy, data = mpg) %>%\n  gf_labs(title = \"Histogram of Highway Mileage\")\n```\n\n::: {.cell-output-display}\n![](intro-dist_files/figure-html/charts-1.png){width=2100}\n:::\n\n```{.r .cell-code}\ngf_histogram(~ hwy, fill = ~ drv, alpha = 0.3, data = mpg) %>%\n  gf_labs(title = \"Histogram of Highway Mileage by Drive Train\")\n```\n\n::: {.cell-output-display}\n![](intro-dist_files/figure-html/charts-2.png){width=2100}\n:::\n\n```{.r .cell-code}\ngf_density(~ hwy, data = mpg) %>% \n  gf_labs(title = \"Frequency Density of Highway Mileage\")\n```\n\n::: {.cell-output-display}\n![](intro-dist_files/figure-html/charts-3.png){width=2100}\n:::\n\n```{.r .cell-code}\ngf_density(~ hwy, fill = ~ drv, data = mpg) %>% \n  gf_labs(title = \"Frequency Density by Drive Train\")\n```\n\n::: {.cell-output-display}\n![](intro-dist_files/figure-html/charts-4.png){width=2100}\n:::\n\n```{.r .cell-code}\ngf_boxplot(hwy ~ drv, fill = ~ drv, data = mpg) %>% \n  gf_labs(title = \"Boxplot\")\n```\n\n::: {.cell-output-display}\n![](intro-dist_files/figure-html/charts-5.png){width=2100}\n:::\n\n```{.r .cell-code}\ngf_violin(hwy ~ drv, fill = ~ drv, data = mpg) %>% \n    gf_labs(title = \"Violin\")\n```\n\n::: {.cell-output-display}\n![](intro-dist_files/figure-html/charts-6.png){width=2100}\n:::\n:::\n\n::: {.cell layout-nrow=\"2\" hash='intro-dist_cache/html/more-charts_5cd4867700fb972f006cede2fab5e5fc'}\n\n```{.r .cell-code}\nmpg <- mpg %>% mutate(drv= as_factor(drv))\n\ngf_density_ridges(drv ~ hwy, fill = ~ drv, alpha = 0.3, \n                        rel_min_height = 0.005, data = mpg) %>% \n  gf_refine(scale_y_discrete(expand = c(0.01, 0)),\n            scale_x_continuous(expand = c(0.01, 0))) %>% \n  gf_theme(theme_minimal()) %>% \n  gf_labs(title = \"Ridge Plot\")\n```\n\n::: {.cell-output-display}\n![](intro-dist_files/figure-html/more-charts-1.png){width=2100}\n:::\n\n```{.r .cell-code}\ngf_hex(cty ~ hwy, fill = ~ drv, data = mpg) %>% \n  gf_theme(theme_minimal()) %>% \n  gf_labs(title = \"Hex Bin Plot\")\n```\n\n::: {.cell-output-display}\n![](intro-dist_files/figure-html/more-charts-2.png){width=2100}\n:::\n\n```{.r .cell-code}\ngf_density_2d(cty ~ hwy, data = mpg) %>% \n  gf_theme(theme_minimal()) %>% \n    gf_labs(title = \"2D Density Plot\")\n```\n\n::: {.cell-output-display}\n![](intro-dist_files/figure-html/more-charts-3.png){width=2100}\n:::\n:::\n\n\n## {{< iconify fluent-mdl2 decision-solid >}} Conclusion\n\n-   Histograms, Frequency Distributions, and Box Plots are used for\n    Quantitative data variables\n-   Histograms \"dwell upon\" **counts**, **ranges**, **means** and\n    **standard deviations**\n-   Frequency Density plots \"dwell upon\" **probabilities** and\n    **densities**\n-   Box Plots \"dwell upon\" **medians** and **Quartiles**\n-   Qualitative data variables can be plotted as **counts**, using Bar\n    Charts, or using Heat Maps\n-   2D density plots are used for describing *two quant* variables\n-   Ridge Plots are **density plots** used for describing one Quant and\n    one Qual variable (by inherent splitting)\n-   We can split all these plots on the basis of another Qualitative\n    variable.(Ridge Plots are already split)\n\n## Your Turn\n\n<a href=\"./files/data/qdd-data.zip\">\n<i class=\"fa-solid fa-database\"></i> Datasets</a>\n\n1.  Click on the Dataset Icon above, and unzip that archive. Try to make\n    distribution plots with each of the three tools.\n2.  A dataset from calmcode.io <https://calmcode.io/datasets.html>\n3.  Old Faithful Data in R (sFind it!)\n\n`inspect` the dataset in each case and develop a set of Questions, that\ncan be answered by appropriate stat measures, or by using a chart to\nshow the distribution.\n\n## {{< iconify ooui references-rtl >}} References\n\n1.  See the scrolly animation for a histogram at this website:\n    **Exploring Histograms, an essay by Aran Lunzer and Amelia\n    McNamara** <https://tinlizzie.org/histograms/?s=09>\n2.  Minimal R using `mosaic`.\n    <https://cran.r-project.org/web/packages/mosaic/vignettes/MinimalRgg.pdf>\n3.  [*Plotting multiple plots using purrr::map and ggplot*. Sebastian\n    Sauer](https://data-se.netlify.app/2021/02/06/plotting-multiple-plots-using-purrr-map-and-ggplot/)\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../../../../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../../../../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}