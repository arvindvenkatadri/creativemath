{
  "hash": "0eadff3f9c1874a655ec730bf6278890",
  "result": {
    "markdown": "---\ntitle: \"\\U0001F409 Visualizing Categorical Data\"\nauthor: \"Arvind Venkatadri\"\ndate: 27/Dec/2022\ndate-modified: \"2023-01-29\"\nabstract: Types, Categories, and Counts\norder: 120\nformat: html\n#fig-format: retina\ncode-fold: true\ncode-summary: Show the Code\ncode-tools: true\ncode-line-numbers: true\ncode-overflow: scroll\ncode-block-border-left: true\ncode-block-bg: \"beige\"\ncode-copy: true\nfig-align: center\nreference-location: margin\ncap-location: margin\nhighlight-style: tango\ndf-print: paged\nsection-divs: true\nnumber-sections: true\nexecute: \n  freeze: auto\ntags:\n- Proportions\n- Frequency Tables\n- Contingency Tables\n- Numerical Data in Groups\n- Margins\n- Likert Scale data\n- Bar Plots (for Contingency Tables)\n- Mosaic Plots\n- Balloon Plots\n- Pie Charts\n- Correspondence Analysis\n\n---\n\n\n\n\n## Introduction\n\nTo recall, a categorical **variable** is one for which the possible\nmeasured or assigned values consist of a discrete set of categories,\nwhich may be `ordered` or `unordered`. Some typical examples are:\n\n-   Gender, with categories \"Male,\" \"Female.\"\n-   Marital status, with categories \"Never married,\" \"Married,\"\n    \"Separated,\" \"Divorced,\" \"Widowed.\"\n-   Fielding position (in ~~baseball~~ cricket), with categories\n    \"Slips,\"Cover \",\"Mid-off \"Deep Fine Leg\", \"Close-in\", \"Deep\"...\n-   Side effects (in a pharmacological study), with categories \"None,\"\n    \"Skin rash,\" \"Sleep disorder,\" \"Anxiety,\" . . ..\n-   Political attitude, with categories \"Left,\" \"Center,\" \"Right.\"\n-   Party preference (in India), with categories \"BJP\" \"Congress,\"\n    \"AAP,\" \"TMC\"...\n-   Treatment outcome, with categories \"no improvement,\" \"some\n    improvement,\" or \"marked improvement.\"\n-   Age, with categories \"0--9,\" \"10--19,\" \"20--29,\" \"30--39,\" . . . .\n-   Number of children, with categories 0, 1, 2, . . . .\n\nAs these examples suggest, categorical variables differ in the number of\ncategories: we often distinguish binary variables (or dichotomous\nvariables) such as Gender from those with more than two categories\n(called polytomous variables).\n\n\n{{< video, https://www.youtube.com/embed/7NhNeADL8fA >}}\n\n\n\n## Categorical Data\n\nFrom the `{vcd package}` vignette:\n\n> The first thing you need to know is that categorical data can be\n> represented in **three different forms in R**, and it is sometimes\n> necessary to convert from one form to another, for carrying out\n> statistical tests, fitting models or visualizing the results.\n\n-   Case Data\n-   Frequency Data\n-   Cross-Tabular Count Data\n\nLet us first see examples of each.\n\n### Case Form\n\nContaining *individual observations* with one or more **categorical**\nfactors, used as classifying variables. The total number of observations\nis `nrow(X)`, and the number of variables is `ncol(X)`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnames(Arthritis)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"ID\"        \"Treatment\" \"Sex\"       \"Age\"       \"Improved\" \n```\n:::\n\n```{.r .cell-code}\nclass(Arthritis)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"data.frame\"\n```\n:::\n\n```{.r .cell-code}\nglimpse(Arthritis)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 84\nColumns: 5\n$ ID        <int> 57, 46, 77, 17, 36, 23, 75, 39, 33, 55, 30, 5, 63, 83, 66, 4…\n$ Treatment <fct> Treated, Treated, Treated, Treated, Treated, Treated, Treate…\n$ Sex       <fct> Male, Male, Male, Male, Male, Male, Male, Male, Male, Male, …\n$ Age       <int> 27, 29, 30, 32, 46, 58, 59, 59, 63, 63, 64, 64, 69, 70, 23, …\n$ Improved  <ord> Some, None, None, Marked, Marked, Marked, None, Marked, None…\n```\n:::\n:::\n\n\nFrom Michael Friendly [Discrete Data Analysis and Visualization](/pdf/DataAnalytics/Michael-Friendly-DDAS.pdf) :\n\n> In many circumstances, data is recorded on each individual or\n> experimental unit. Data in this form is called case data, or data in\n> case form.\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic-2\" style=\"font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;\">\n<caption>Arthritis Treatments and Effects (first 6 entries)</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> ID </th>\n   <th style=\"text-align:left;\"> Treatment </th>\n   <th style=\"text-align:left;\"> Sex </th>\n   <th style=\"text-align:right;\"> Age </th>\n   <th style=\"text-align:left;\"> Improved </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 57 </td>\n   <td style=\"text-align:left;\"> Treated </td>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:left;\"> Some </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 46 </td>\n   <td style=\"text-align:left;\"> Treated </td>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:right;\"> 29 </td>\n   <td style=\"text-align:left;\"> None </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 77 </td>\n   <td style=\"text-align:left;\"> Treated </td>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:right;\"> 30 </td>\n   <td style=\"text-align:left;\"> None </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 17 </td>\n   <td style=\"text-align:left;\"> Treated </td>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:right;\"> 32 </td>\n   <td style=\"text-align:left;\"> Marked </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 36 </td>\n   <td style=\"text-align:left;\"> Treated </td>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:right;\"> 46 </td>\n   <td style=\"text-align:left;\"> Marked </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 23 </td>\n   <td style=\"text-align:left;\"> Treated </td>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:right;\"> 58 </td>\n   <td style=\"text-align:left;\"> Marked </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nThe `Arthritis` data set has three factors and two integer\\* variables.\nOne of the three factors `Improved` is an **ordered factor**.\n\n1)  ID\n2)  Treatment: a factor; Placebo or Treated\n3)  Sex: a factor, M / F\n4)  Age: integer\n5)  Improved: **Ordinal factor**; None \\< Some \\< Marked\n\n### Frequency Data\n\nData in frequency form has already been tabulated, by counting over the\n(combinations of ) categories of the table variables. When the data are\nin **case form**, we can always trace any observation back to its\nindividual identifier or data record, since each row is a unique\nobservation or *case*; the reverse is rarely possible.\n\nFrequency Data is usually a data frame, with columns of categorical\nvariables and at least one column containing `frequency` or `count`\ninformation.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstr(GSS)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t6 obs. of  3 variables:\n $ sex  : Factor w/ 2 levels \"female\",\"male\": 1 2 1 2 1 2\n $ party: Factor w/ 3 levels \"dem\",\"indep\",..: 1 1 2 2 3 3\n $ count: num  279 165 73 47 225 191\n```\n:::\n\n```{.r .cell-code}\nGSS %>% \n  kbl(caption = \"General Social Survey\",centering = TRUE) %>%\n  kable_classic_2(html_font = \"Cambria\", full_width = F,)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic-2\" style=\"font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;\">\n<caption>General Social Survey</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> sex </th>\n   <th style=\"text-align:left;\"> party </th>\n   <th style=\"text-align:right;\"> count </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> female </td>\n   <td style=\"text-align:left;\"> dem </td>\n   <td style=\"text-align:right;\"> 279 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> male </td>\n   <td style=\"text-align:left;\"> dem </td>\n   <td style=\"text-align:right;\"> 165 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> female </td>\n   <td style=\"text-align:left;\"> indep </td>\n   <td style=\"text-align:right;\"> 73 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> male </td>\n   <td style=\"text-align:left;\"> indep </td>\n   <td style=\"text-align:right;\"> 47 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> female </td>\n   <td style=\"text-align:left;\"> rep </td>\n   <td style=\"text-align:right;\"> 225 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> male </td>\n   <td style=\"text-align:left;\"> rep </td>\n   <td style=\"text-align:right;\"> 191 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nRespondents in the GSS survey were classified by `sex` and `party`\nidentification.\n\n### Table form\n\n> Table Form Data can be a `matrix`, `array` or `table object`, whose\n> elements are the frequencies in an **n-way table**. The variable names\n> (factors) and their levels are given by `dimnames(X)`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nHairEyeColor\nclass(HairEyeColor)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n, , Sex = Male\n\n       Eye\nHair    Brown Blue Hazel Green\n  Black    32   11    10     3\n  Brown    53   50    25    15\n  Red      10   10     7     7\n  Blond     3   30     5     8\n\n, , Sex = Female\n\n       Eye\nHair    Brown Blue Hazel Green\n  Black    36    9     5     2\n  Brown    66   34    29    14\n  Red      16    7     7     7\n  Blond     4   64     5     8\n\n[1] \"table\"\n```\n:::\n:::\n\n\n`HairEyeColor` is a \"two-way\" table, consisting of **two tables**, one\nfor `Sex = Female` and the other for `Sex = Male`. The total number of\nobservations is `sum(X)`. The number of dimensions of the table is\n`length(dimnames(X))`, and the table sizes are given by\n`sapply(dimnames(X), length)`. The data looks like a n-dimensional cube\nand needs n-way tables to represent.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsum(HairEyeColor)\ndimnames(HairEyeColor)\nsapply(dimnames(HairEyeColor), length)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 592\n$Hair\n[1] \"Black\" \"Brown\" \"Red\"   \"Blond\"\n\n$Eye\n[1] \"Brown\" \"Blue\"  \"Hazel\" \"Green\"\n\n$Sex\n[1] \"Male\"   \"Female\"\n\nHair  Eye  Sex \n   4    4    2 \n```\n:::\n:::\n\n\nWe may need to convert the (multiple) tables into a data frame:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## Convert the two tables into a data frame\nHairEyeColor %>% \n  as_tibble() %>% # Convert\n  head() %>% # Take first few rows to show\n  kbl(caption = \"Hair Eye and Color (First 6 Entries)\") %>% \n  kable_classic_2(html_font = \"Cambria\", full_width = F)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic-2\" style=\"font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;\">\n<caption>Hair Eye and Color (First 6 Entries)</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Hair </th>\n   <th style=\"text-align:left;\"> Eye </th>\n   <th style=\"text-align:left;\"> Sex </th>\n   <th style=\"text-align:right;\"> n </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Black </td>\n   <td style=\"text-align:left;\"> Brown </td>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:right;\"> 32 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Brown </td>\n   <td style=\"text-align:left;\"> Brown </td>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:right;\"> 53 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Red </td>\n   <td style=\"text-align:left;\"> Brown </td>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:right;\"> 10 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Blond </td>\n   <td style=\"text-align:left;\"> Brown </td>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:right;\"> 3 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Black </td>\n   <td style=\"text-align:left;\"> Blue </td>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:right;\"> 11 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Brown </td>\n   <td style=\"text-align:left;\"> Blue </td>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:right;\"> 50 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Creating Contingency Tables\n\nMost plots for Categorical Data ( as we shall see ) require that the data be converted into a *Contigency Table*; even Statistical tests for Proportions ( the $ \\chi^2 $ test ) need Contingency Tables. The *Frequency Table* we encountered earlier is very close to being a full-fledged Contingency Table. \n\nIn this section we understand how to make Contingency Tables from each of the three forms.\n\n\n## What sort of Plots can we make for Categorical Data?\n\nWe have already seen bar plots, which allow us to plot counts of categorical data. However, if there are a large number* of categorical variables or if thecategorical variables have many levels, the bar plot is not adequate. \n\nFrom Michael Friendly:\n\n> The familiar techniques for displaying raw data are often\n> disappointing when applied to categorical data. The simple\n> scatterplot, for example, widely used to show the relation between\n> quantitative response and predictors, when applied to discrete\n> variables, gives a display of the category combinations, with all\n> identical values overplotted, and no representation of their\n> frequency.\n\n> Instead, frequencies of categorical variables are often best\n> represented graphically using **areas** rather than as **position\n> along a scale**. Using the visual attribute:\n\n$$\\pmb{area \\sim frequency}$$\n\n> allows creating novel graphical displays of frequency data for special\n> circumstances.\n\nLet us not look at some sample plots that embody this \"area-frequency\\*\nprinciple.\n\n### Mosaic Plots\n\nA mosaicplot is basically an area-proportional visualization of (typically observed) frequencies, consisting of tiles (corresponding to the cells) created by vertically and horizontally splitting a rectangle recursively. Thus, the area of each tile is proportional to the corresponding cell entry given the dimensions of previous splits.\n\nThe `vcd::mosaic()` function needs the data in *contingency table* form. We will use `vcd::structable()` function to construct one:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nart <- vcd::structable(~ Treatment + Improved, data = Arthritis)\nart\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n          Improved None Some Marked\nTreatment                          \nPlacebo              29    7      7\nTreated              13    7     21\n```\n:::\n\n```{.r .cell-code}\nvcd::mosaic(art, gp = shading_max)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/mosaic-plot-using-vcd-1.png){width=672}\n:::\n\n```{.r .cell-code}\n### Or\n### vcd::mosaic(structable(~ Treatment + Improved, data = Arthritis), gp = shading_max, split_vertical = TRUE)\n```\n:::\n\n\n### Balloon Plots\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhousetasks <- read.delim(\n  system.file(\"demo-data/housetasks.txt\", package = \"ggpubr\"),\n  row.names = 1\n  )\nhead(housetasks, 4)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"\"],\"name\":[\"_rn_\"],\"type\":[\"\"],\"align\":[\"left\"]},{\"label\":[\"Wife\"],\"name\":[1],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"Alternating\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"Husband\"],\"name\":[3],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"Jointly\"],\"name\":[4],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"156\",\"2\":\"14\",\"3\":\"2\",\"4\":\"4\",\"_rn_\":\"Laundry\"},{\"1\":\"124\",\"2\":\"20\",\"3\":\"5\",\"4\":\"4\",\"_rn_\":\"Main_meal\"},{\"1\":\"77\",\"2\":\"11\",\"3\":\"7\",\"4\":\"13\",\"_rn_\":\"Dinner\"},{\"1\":\"82\",\"2\":\"36\",\"3\":\"15\",\"4\":\"7\",\"_rn_\":\"Breakfeast\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\nggballoonplot(housetasks, fill = \"value\")+\n  scale_fill_viridis_c(option = \"C\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/balloon-plot-using-ggpubr-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- as.data.frame(HairEyeColor)\nggballoonplot(df, x = \"Hair\", y = \"Eye\", size = \"Freq\",\n              fill = \"Freq\", facet.by = \"Sex\",\n              ggtheme = theme_bw()) +\n  scale_fill_viridis_c(option = \"C\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n### Plots for Likert Data\n\nIn many business situations, we perform surveys to get Likert scale\ndata, where several respondents rate a product or a service on a scale\nof `Very much like`, `somewhat like`, `neutral`, `Dislike` and\n`Very much dislike`. Such data may look for example as follows:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(efc)\nhead(efc, 20)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"\"],\"name\":[\"_rn_\"],\"type\":[\"\"],\"align\":[\"left\"]},{\"label\":[\"c12hour\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"e15relat\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"e16sex\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"e17age\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"e42dep\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"c82cop1\"],\"name\":[6],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"c83cop2\"],\"name\":[7],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"c84cop3\"],\"name\":[8],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"c85cop4\"],\"name\":[9],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"c86cop5\"],\"name\":[10],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"c87cop6\"],\"name\":[11],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"c88cop7\"],\"name\":[12],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"c89cop8\"],\"name\":[13],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"c90cop9\"],\"name\":[14],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"c160age\"],\"name\":[15],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"c161sex\"],\"name\":[16],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"c172code\"],\"name\":[17],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"c175empl\"],\"name\":[18],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"barthtot\"],\"name\":[19],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"neg_c_7\"],\"name\":[20],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"pos_v_4\"],\"name\":[21],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"quol_5\"],\"name\":[22],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"resttotn\"],\"name\":[23],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"tot_sc_e\"],\"name\":[24],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"n4pstu\"],\"name\":[25],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"nur_pst\"],\"name\":[26],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"16\",\"2\":\"2\",\"3\":\"2\",\"4\":\"83\",\"5\":\"3\",\"6\":\"3\",\"7\":\"2\",\"8\":\"2\",\"9\":\"2\",\"10\":\"1\",\"11\":\"1\",\"12\":\"2\",\"13\":\"3\",\"14\":\"3\",\"15\":\"56\",\"16\":\"2\",\"17\":\"2\",\"18\":\"1\",\"19\":\"75\",\"20\":\"12\",\"21\":\"12\",\"22\":\"14\",\"23\":\"0\",\"24\":\"4\",\"25\":\"0\",\"26\":\"NA\",\"_rn_\":\"1\"},{\"1\":\"148\",\"2\":\"2\",\"3\":\"2\",\"4\":\"88\",\"5\":\"3\",\"6\":\"3\",\"7\":\"3\",\"8\":\"3\",\"9\":\"3\",\"10\":\"4\",\"11\":\"1\",\"12\":\"3\",\"13\":\"2\",\"14\":\"2\",\"15\":\"54\",\"16\":\"2\",\"17\":\"2\",\"18\":\"1\",\"19\":\"75\",\"20\":\"20\",\"21\":\"11\",\"22\":\"10\",\"23\":\"4\",\"24\":\"0\",\"25\":\"0\",\"26\":\"NA\",\"_rn_\":\"2\"},{\"1\":\"70\",\"2\":\"1\",\"3\":\"2\",\"4\":\"82\",\"5\":\"3\",\"6\":\"2\",\"7\":\"2\",\"8\":\"1\",\"9\":\"4\",\"10\":\"1\",\"11\":\"1\",\"12\":\"1\",\"13\":\"4\",\"14\":\"3\",\"15\":\"80\",\"16\":\"1\",\"17\":\"1\",\"18\":\"0\",\"19\":\"35\",\"20\":\"11\",\"21\":\"13\",\"22\":\"7\",\"23\":\"0\",\"24\":\"1\",\"25\":\"2\",\"26\":\"2\",\"_rn_\":\"3\"},{\"1\":\"168\",\"2\":\"1\",\"3\":\"2\",\"4\":\"67\",\"5\":\"4\",\"6\":\"4\",\"7\":\"1\",\"8\":\"3\",\"9\":\"1\",\"10\":\"1\",\"11\":\"1\",\"12\":\"1\",\"13\":\"2\",\"14\":\"4\",\"15\":\"69\",\"16\":\"1\",\"17\":\"2\",\"18\":\"0\",\"19\":\"0\",\"20\":\"10\",\"21\":\"15\",\"22\":\"12\",\"23\":\"2\",\"24\":\"0\",\"25\":\"3\",\"26\":\"3\",\"_rn_\":\"4\"},{\"1\":\"168\",\"2\":\"2\",\"3\":\"2\",\"4\":\"84\",\"5\":\"4\",\"6\":\"3\",\"7\":\"2\",\"8\":\"1\",\"9\":\"2\",\"10\":\"2\",\"11\":\"2\",\"12\":\"1\",\"13\":\"4\",\"14\":\"4\",\"15\":\"47\",\"16\":\"2\",\"17\":\"2\",\"18\":\"0\",\"19\":\"25\",\"20\":\"12\",\"21\":\"15\",\"22\":\"19\",\"23\":\"2\",\"24\":\"1\",\"25\":\"2\",\"26\":\"2\",\"_rn_\":\"5\"},{\"1\":\"16\",\"2\":\"2\",\"3\":\"2\",\"4\":\"85\",\"5\":\"4\",\"6\":\"2\",\"7\":\"2\",\"8\":\"3\",\"9\":\"3\",\"10\":\"3\",\"11\":\"2\",\"12\":\"2\",\"13\":\"1\",\"14\":\"1\",\"15\":\"56\",\"16\":\"1\",\"17\":\"2\",\"18\":\"1\",\"19\":\"60\",\"20\":\"19\",\"21\":\"9\",\"22\":\"8\",\"23\":\"1\",\"24\":\"3\",\"25\":\"2\",\"26\":\"2\",\"_rn_\":\"6\"},{\"1\":\"161\",\"2\":\"1\",\"3\":\"1\",\"4\":\"74\",\"5\":\"4\",\"6\":\"4\",\"7\":\"2\",\"8\":\"4\",\"9\":\"1\",\"10\":\"1\",\"11\":\"2\",\"12\":\"4\",\"13\":\"1\",\"14\":\"4\",\"15\":\"61\",\"16\":\"2\",\"17\":\"2\",\"18\":\"0\",\"19\":\"5\",\"20\":\"15\",\"21\":\"13\",\"22\":\"20\",\"23\":\"0\",\"24\":\"0\",\"25\":\"3\",\"26\":\"3\",\"_rn_\":\"7\"},{\"1\":\"110\",\"2\":\"4\",\"3\":\"2\",\"4\":\"87\",\"5\":\"4\",\"6\":\"3\",\"7\":\"2\",\"8\":\"2\",\"9\":\"1\",\"10\":\"1\",\"11\":\"1\",\"12\":\"2\",\"13\":\"3\",\"14\":\"3\",\"15\":\"67\",\"16\":\"2\",\"17\":\"2\",\"18\":\"0\",\"19\":\"35\",\"20\":\"11\",\"21\":\"14\",\"22\":\"20\",\"23\":\"0\",\"24\":\"1\",\"25\":\"1\",\"26\":\"1\",\"_rn_\":\"8\"},{\"1\":\"28\",\"2\":\"2\",\"3\":\"2\",\"4\":\"79\",\"5\":\"4\",\"6\":\"3\",\"7\":\"2\",\"8\":\"3\",\"9\":\"2\",\"10\":\"2\",\"11\":\"1\",\"12\":\"3\",\"13\":\"1\",\"14\":\"3\",\"15\":\"59\",\"16\":\"2\",\"17\":\"NA\",\"18\":\"0\",\"19\":\"15\",\"20\":\"15\",\"21\":\"13\",\"22\":\"8\",\"23\":\"0\",\"24\":\"2\",\"25\":\"3\",\"26\":\"3\",\"_rn_\":\"9\"},{\"1\":\"40\",\"2\":\"2\",\"3\":\"2\",\"4\":\"83\",\"5\":\"4\",\"6\":\"3\",\"7\":\"2\",\"8\":\"1\",\"9\":\"2\",\"10\":\"1\",\"11\":\"1\",\"12\":\"1\",\"13\":\"1\",\"14\":\"3\",\"15\":\"49\",\"16\":\"2\",\"17\":\"2\",\"18\":\"0\",\"19\":\"0\",\"20\":\"10\",\"21\":\"13\",\"22\":\"15\",\"23\":\"1\",\"24\":\"1\",\"25\":\"3\",\"26\":\"3\",\"_rn_\":\"10\"},{\"1\":\"100\",\"2\":\"1\",\"3\":\"1\",\"4\":\"68\",\"5\":\"4\",\"6\":\"3\",\"7\":\"4\",\"8\":\"4\",\"9\":\"4\",\"10\":\"4\",\"11\":\"4\",\"12\":\"4\",\"13\":\"1\",\"14\":\"1\",\"15\":\"66\",\"16\":\"2\",\"17\":\"2\",\"18\":\"0\",\"19\":\"25\",\"20\":\"28\",\"21\":\"9\",\"22\":\"1\",\"23\":\"1\",\"24\":\"1\",\"25\":\"3\",\"26\":\"3\",\"_rn_\":\"11\"},{\"1\":\"25\",\"2\":\"8\",\"3\":\"2\",\"4\":\"97\",\"5\":\"3\",\"6\":\"3\",\"7\":\"3\",\"8\":\"3\",\"9\":\"1\",\"10\":\"3\",\"11\":\"1\",\"12\":\"4\",\"13\":\"3\",\"14\":\"1\",\"15\":\"47\",\"16\":\"2\",\"17\":\"2\",\"18\":\"1\",\"19\":\"85\",\"20\":\"18\",\"21\":\"8\",\"22\":\"19\",\"23\":\"1\",\"24\":\"1\",\"25\":\"1\",\"26\":\"1\",\"_rn_\":\"12\"},{\"1\":\"25\",\"2\":\"2\",\"3\":\"2\",\"4\":\"80\",\"5\":\"4\",\"6\":\"3\",\"7\":\"2\",\"8\":\"2\",\"9\":\"2\",\"10\":\"2\",\"11\":\"1\",\"12\":\"2\",\"13\":\"4\",\"14\":\"4\",\"15\":\"58\",\"16\":\"2\",\"17\":\"3\",\"18\":\"0\",\"19\":\"15\",\"20\":\"13\",\"21\":\"14\",\"22\":\"12\",\"23\":\"0\",\"24\":\"3\",\"25\":\"3\",\"26\":\"3\",\"_rn_\":\"13\"},{\"1\":\"24\",\"2\":\"1\",\"3\":\"2\",\"4\":\"75\",\"5\":\"3\",\"6\":\"3\",\"7\":\"2\",\"8\":\"4\",\"9\":\"4\",\"10\":\"1\",\"11\":\"1\",\"12\":\"2\",\"13\":\"4\",\"14\":\"4\",\"15\":\"75\",\"16\":\"1\",\"17\":\"1\",\"18\":\"0\",\"19\":\"70\",\"20\":\"18\",\"21\":\"14\",\"22\":\"8\",\"23\":\"0\",\"24\":\"0\",\"25\":\"1\",\"26\":\"1\",\"_rn_\":\"14\"},{\"1\":\"56\",\"2\":\"2\",\"3\":\"2\",\"4\":\"82\",\"5\":\"3\",\"6\":\"2\",\"7\":\"3\",\"8\":\"3\",\"9\":\"3\",\"10\":\"2\",\"11\":\"2\",\"12\":\"1\",\"13\":\"1\",\"14\":\"1\",\"15\":\"49\",\"16\":\"2\",\"17\":\"3\",\"18\":\"1\",\"19\":\"NA\",\"20\":\"16\",\"21\":\"9\",\"22\":\"8\",\"23\":\"3\",\"24\":\"3\",\"25\":\"0\",\"26\":\"NA\",\"_rn_\":\"15\"},{\"1\":\"20\",\"2\":\"2\",\"3\":\"2\",\"4\":\"89\",\"5\":\"3\",\"6\":\"4\",\"7\":\"2\",\"8\":\"1\",\"9\":\"3\",\"10\":\"3\",\"11\":\"1\",\"12\":\"2\",\"13\":\"1\",\"14\":\"3\",\"15\":\"56\",\"16\":\"2\",\"17\":\"2\",\"18\":\"0\",\"19\":\"0\",\"20\":\"13\",\"21\":\"14\",\"22\":\"6\",\"23\":\"0\",\"24\":\"2\",\"25\":\"0\",\"26\":\"NA\",\"_rn_\":\"16\"},{\"1\":\"25\",\"2\":\"1\",\"3\":\"1\",\"4\":\"80\",\"5\":\"1\",\"6\":\"3\",\"7\":\"2\",\"8\":\"1\",\"9\":\"2\",\"10\":\"1\",\"11\":\"1\",\"12\":\"2\",\"13\":\"4\",\"14\":\"4\",\"15\":\"75\",\"16\":\"2\",\"17\":\"2\",\"18\":\"0\",\"19\":\"95\",\"20\":\"11\",\"21\":\"15\",\"22\":\"16\",\"23\":\"0\",\"24\":\"2\",\"25\":\"0\",\"26\":\"NA\",\"_rn_\":\"17\"},{\"1\":\"126\",\"2\":\"1\",\"3\":\"1\",\"4\":\"72\",\"5\":\"3\",\"6\":\"4\",\"7\":\"2\",\"8\":\"1\",\"9\":\"2\",\"10\":\"1\",\"11\":\"1\",\"12\":\"2\",\"13\":\"3\",\"14\":\"3\",\"15\":\"70\",\"16\":\"2\",\"17\":\"2\",\"18\":\"0\",\"19\":\"55\",\"20\":\"11\",\"21\":\"13\",\"22\":\"14\",\"23\":\"0\",\"24\":\"0\",\"25\":\"2\",\"26\":\"2\",\"_rn_\":\"18\"},{\"1\":\"168\",\"2\":\"2\",\"3\":\"1\",\"4\":\"94\",\"5\":\"3\",\"6\":\"3\",\"7\":\"2\",\"8\":\"1\",\"9\":\"2\",\"10\":\"2\",\"11\":\"1\",\"12\":\"3\",\"13\":\"1\",\"14\":\"4\",\"15\":\"52\",\"16\":\"1\",\"17\":\"3\",\"18\":\"1\",\"19\":\"55\",\"20\":\"13\",\"21\":\"13\",\"22\":\"15\",\"23\":\"3\",\"24\":\"1\",\"25\":\"1\",\"26\":\"1\",\"_rn_\":\"19\"},{\"1\":\"118\",\"2\":\"1\",\"3\":\"1\",\"4\":\"79\",\"5\":\"4\",\"6\":\"3\",\"7\":\"2\",\"8\":\"4\",\"9\":\"2\",\"10\":\"1\",\"11\":\"3\",\"12\":\"3\",\"13\":\"2\",\"14\":\"2\",\"15\":\"48\",\"16\":\"2\",\"17\":\"3\",\"18\":\"1\",\"19\":\"45\",\"20\":\"17\",\"21\":\"12\",\"22\":\"10\",\"23\":\"0\",\"24\":\"7\",\"25\":\"2\",\"26\":\"2\",\"_rn_\":\"20\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n`efc` is a German data set from a European study on family care of older people.  Following a common protocol, data were collected from national samples of approximately 1,000 family carers (i.e. caregivers) per country and clustered into comparable subgroups to facilitate cross-national analysis. One of the *research questions* in [**this EUROFAM study**](https://doi.org/10.1093/geront/48.6.752) was:\n\n> What are the main difficulties carers experience accessing the services\nused? \nWhat prevents carers from accessing unused\nsupports that they need? \nWhat causes them to stop using still-needed services?\n\nWe will select the variables from the `efc` data set that related to *coping* (on part of care-givers) and plot their responses after inspecting them:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nefc %>% select(dplyr::contains(\"cop\")) %>% str()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t908 obs. of  9 variables:\n $ c82cop1: num  3 3 2 4 3 2 4 3 3 3 ...\n  ..- attr(*, \"label\")= chr \"do you feel you cope well as caregiver?\"\n  ..- attr(*, \"labels\")= Named num [1:4] 1 2 3 4\n  .. ..- attr(*, \"names\")= chr [1:4] \"never\" \"sometimes\" \"often\" \"always\"\n $ c83cop2: num  2 3 2 1 2 2 2 2 2 2 ...\n  ..- attr(*, \"label\")= chr \"do you find caregiving too demanding?\"\n  ..- attr(*, \"labels\")= Named num [1:4] 1 2 3 4\n  .. ..- attr(*, \"names\")= chr [1:4] \"Never\" \"Sometimes\" \"Often\" \"Always\"\n $ c84cop3: num  2 3 1 3 1 3 4 2 3 1 ...\n  ..- attr(*, \"label\")= chr \"does caregiving cause difficulties in your relationship with your friends?\"\n  ..- attr(*, \"labels\")= Named num [1:4] 1 2 3 4\n  .. ..- attr(*, \"names\")= chr [1:4] \"Never\" \"Sometimes\" \"Often\" \"Always\"\n $ c85cop4: num  2 3 4 1 2 3 1 1 2 2 ...\n  ..- attr(*, \"label\")= chr \"does caregiving have negative effect on your physical health?\"\n  ..- attr(*, \"labels\")= Named num [1:4] 1 2 3 4\n  .. ..- attr(*, \"names\")= chr [1:4] \"Never\" \"Sometimes\" \"Often\" \"Always\"\n $ c86cop5: num  1 4 1 1 2 3 1 1 2 1 ...\n  ..- attr(*, \"label\")= chr \"does caregiving cause difficulties in your relationship with your family?\"\n  ..- attr(*, \"labels\")= Named num [1:4] 1 2 3 4\n  .. ..- attr(*, \"names\")= chr [1:4] \"Never\" \"Sometimes\" \"Often\" \"Always\"\n $ c87cop6: num  1 1 1 1 2 2 2 1 1 1 ...\n  ..- attr(*, \"label\")= chr \"does caregiving cause financial difficulties?\"\n  ..- attr(*, \"labels\")= Named num [1:4] 1 2 3 4\n  .. ..- attr(*, \"names\")= chr [1:4] \"Never\" \"Sometimes\" \"Often\" \"Always\"\n $ c88cop7: num  2 3 1 1 1 2 4 2 3 1 ...\n  ..- attr(*, \"label\")= chr \"do you feel trapped in your role as caregiver?\"\n  ..- attr(*, \"labels\")= Named num [1:4] 1 2 3 4\n  .. ..- attr(*, \"names\")= chr [1:4] \"Never\" \"Sometimes\" \"Often\" \"Always\"\n $ c89cop8: num  3 2 4 2 4 1 1 3 1 1 ...\n  ..- attr(*, \"label\")= chr \"do you feel supported by friends/neighbours?\"\n  ..- attr(*, \"labels\")= Named num [1:4] 1 2 3 4\n  .. ..- attr(*, \"names\")= chr [1:4] \"never\" \"sometimes\" \"often\" \"always\"\n $ c90cop9: num  3 2 3 4 4 1 4 3 3 3 ...\n  ..- attr(*, \"label\")= chr \"do you feel caregiving worthwhile?\"\n  ..- attr(*, \"labels\")= Named num [1:4] 1 2 3 4\n  .. ..- attr(*, \"names\")= chr [1:4] \"never\" \"sometimes\" \"often\" \"always\"\n```\n:::\n:::\n\n\nThe `cop`ing related variables have responses on the Likert Scale `(1,2,3,4)` which correspong to `(never, sometimes, often, always)`,  **and** each variable also has a `label` defining each variable. We can plot this data using the `plot_likert` function from package `sjPlot`:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nefc %>% select(dplyr::contains(\"cop\")) %>% \n  sjPlot::plot_likert(title = \"Caregiver Survey from EUROFAM\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\nSo there we are with Categorical data ! There are a few other plots with this type of data, which are useful in very specialized circumstances. One example of this is the `agreement plot` which captures the agreement between two (sets) of evaluators, on ratings given on a shared ordinal scale to a set of items. An example from the field of medical diagnosis is the opinions of two specialists on a common set of patients. \n\n## Conclusion\n\nHow are these bar plots different from histograms? \nWhy don't \"regular\" plots simply work for Categorical data?\nDiscuss!\n\n\n## References\n\n1. Using the `strcplot` command from `vcd`, <https://cran.r-project.org/web/packages/vcd/vignettes/strucplot.pdf>\n\n1. Creating Frequency Tables with `vcd`, <https://cran.r-project.org/web/packages/vcdExtra/vignettes/A_creating.html>\n\n1. Creating mosaic plots with `vcd`, <https://cran.r-project.org/web/packages/vcdExtra/vignettes/D_mosaics.html>\n\n1. \n\n\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../../../../../site_libs/kePrint-0.0.1/kePrint.js\"></script>\r\n<link href=\"../../../../../../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\r\n<link href=\"../../../../../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../../../../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}