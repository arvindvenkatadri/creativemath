{
  "hash": "58c3fc0629cc362c44fd521dda5e4fc5",
  "result": {
    "markdown": "---\ntitle: \"\\U0001F578 Evolution and Flow\"\nsubtitle: \"Evolution and Flow\"\nauthor: \"Arvind Venkatadri\"\ndate: 22/Nov/2022\ndate-modified: \"2023-03-03\"\norder: 40\nabstract: \"Changes in Information over space and time\"\nformat: html\n#fig-format: retina\ncode-fold: false\ncode-summary: Show the Code\ncode-tools: true\ncode-line-numbers: true\ncode-overflow: scroll\ncode-copy: true\nfig-align: center\nreference-location: margin\ncap-location: margin\nhighlight-style: dracula\ndf-print: paged\nsection-divs: true\nnumber-sections: true\nexecute: \n  freeze: auto\ntags:\n- Line and Area Plots\n- Stream Charts\n- Alluvial Plots\n- Sankey Diagrams\n- Chord Diagrams\n- Waterfall Plots\n- Bump Charts\n---\n\n\n# {{< fa folder-open >}} Slides and Tutorials\n\n|                                                                                        |                                                                                                                       |                                                                                                 |                                                                               |\n|----------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------|\n| <a href=\"./files/evolutions.qmd\"><i class=\"fa-brands fa-r-project\"></i> R Tutorial</a> | <a href=\"./files/evolutions.ows\"> <iconify-icon icon=\"fluent-emoji:orange-circle\"></iconify-icon> Orange Tutorial</a> | <a href=\"./files/evolutions.rda\"> <i class=\"fa-solid fa-person-rays\"></i> Radiant Tutorial </a> | <a href=\"./data/data.zip\"> <i class=\"fa-solid fa-database\"> </i> Datasets</a> |\n\n\n\n\n\n# What Time Evolution Charts can we plot?\n\nIn these cases, the x-axis is typically *time*...and we chart the\nvariable of another Quant variable with respect to time, using a *line*\ngeometry.\n\nLet is take a healthcare budget dataset from [Our World in\nData](https://ourworldindata.org/grapher/public-health-expenditure-share-GDP-OWID):\nWe will plot graphs for 5 countries (India, China, Brazil, Russia,\nCanada )\n\n\n::: {.cell hash='index_cache/html/charts_641ec93327cf5d123127287bd899d59a'}\n::: {.cell-output-display}\n![](index_files/figure-html/charts-1.png){width=4200}\n:::\n:::\n\n\n## What Space Evolution Charts can we plot?\n\nHere, the *space* can be any Qual variable, and we can chart another\nQuant or Qual variable move across levels of the first chosen Qual\nvariable.\n\nFor instance we can contemplate Enrollment at a University, and show how\nstudents move from course to course in a University. Or how customers\ndrift from one category of products or brands to another....or the\nmovement of cricket players from one IPL Team to another !!\n\n> A Sankey diagram is a visualization used to depict a flow from one set\n> of values to another. The things being connected are called **nodes /\n> strata** and the connections are called **flows / links / alluvia**.\n> Sankeys are best used when you want to show a many-to-many mapping\n> between two domains or multiple paths through a set of stages E.g\n> Students going through multiple courses during a semester of study.\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-1_6f6fd077ba02eb7410bdd74107d3876e'}\n::: {.cell-output-display}\n![](images/sankey.png){width=192}\n:::\n:::\n\n::: {.cell hash='index_cache/html/more-charts_dce420ade8eea4baaffc192e7e997ea4'}\n\n```{.r .cell-code}\nlibrary(ggalluvial)\ndata(\"Titanic\")\nTitanic %>% as_tibble() %>% \nggplot(data = .,\n       aes(axis1 = Class, axis2 = Sex, axis3 = Age,\n           y = n)) +\n  geom_alluvium(aes(fill = Survived),,size = .25) +\n  geom_stratum() + \n  geom_text(stat = \"stratum\", aes(label = after_stat(stratum))) +\n  scale_x_discrete(limits = c(\"Class\", \"Sex\", \"Age\"), \n                   expand = c(.2, .05)) +\n  scale_fill_manual(values = c(\"darkgoldenrod\", \"purple\")) + \n  xlab(\"Demographic\") +\n  theme_minimal() +\n  ggtitle(\"passengers on the maiden voyage of the Titanic\",\n          \"stratified by demographics and survival\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/more-charts-1.png){width=4200}\n:::\n:::\n\n\nHere is another example of a Sankey Diagram: This diagram show how\nenergy is converted or transmitted before being consumed or lost:\nsupplies are on the left, and demands are on the right. Data: Department\nof Energy & Climate Change via Tom Counsell\n\n<iframe width=\"100%\" height=\"684\" frameborder=\"0\" src=\"https://observablehq.com/embed/@d3/sankey?cells=chart\">\n\n</iframe>\n\n## Conclusion\n\nWe see that we can visualize 'evolutions\" over time and space. The\nevolutions can represent changes in the **quantities** of things, or\ntheir **categorical** affiliations or groups.\n\nWhat business data would you depict in this way? Revenue streams?\nEmployment? Expenditures over time and market? There are many\npossibilities!\n\n## Your Turn\n\n1.  Within the `ggalluvial` package are two datasets, `majors` and\n    `vaccinations`. Plot alluvial charts for both of these.\n2.  Go to the [American Life Panel\n    Website](https://alpdata.rand.org/index.php?page=data) where you\n    will find many public datasets. Try to take one and make charts from\n    it that we have learned in this Module.\n\n## References\n\n1.  Global Migration, <https://download.gsb.bund.de/BIB/global_flow/> A\n    good example of the use of a Chord Diagram.\n2.  Cory Brunson, `ggalluvial,`\n    <https://corybrunson.github.io/ggalluvial/>\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../../../../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../../../../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}