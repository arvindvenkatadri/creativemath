{
  "hash": "d37cd05f119cf1bedd060a67c29f38d1",
  "result": {
    "markdown": "---\ntitle: \"Metaphors with Graphics\"\nsubtitle: \"From Code to Geometry\"\nauthor: \"Arvind Venkatadri\"\ndate-modified: \"(2023-03-12)\"\nformat: revealjs\n---\n\n\n\n\n\n## How does one read Shakespeare? \n\n![shakespeare](https://media.giphy.com/media/oveqQA2LxpwYg/giphy.gif)\n\n~~To code or not to code, that is the question...~~\n\n---\n\n## What is a Grammar of Graphics?  \n\n- Code looks and reads like **English**.   \n- Has **verbs**, **nouns**, some **adjectives**....\n\n--\n\n- Describes Information/ideas/concepts from *any* **source domain**.\n\n--\n\n- **GEOMETRY** as the *target domain* : What comes out of R is predominantly \"geometry\"\n\n---\n\n\n## How do we express visuals in words?\n\n.font120[\n- **Data** to be visualized\n]\n\n--\n.font120[\n- **.hlb[Geom]etric objects** that appear on the plot\n]\n\n--\n.font120[\n- **.hlb[Aes]thetic mappings** from data to visual component\n]\n\n--\n.font120[\n- **.hlb[Stat]istics** transform data on the way to visualization\n]\n\n--\n.font120[\n- **.hlb[Coord]inates** organize location of geometric objects\n]\n\n--\n.font120[\n- **.hlb[Scale]s** define the range of values for aesthetics\n]\n\n--\n.font120[\n- **.hlb[Facet]s** group into subplots\n]\n\n---\n\n\n\n## The Essence of ggplot\n\nall `ggplot2`\n\n- `aes(x = , y = )` (aesthetics)\n- `aes(x = , y = , color = )` (add color)\n- `aes(x = , y = , size = )` (add size)\n- `+ facet_wrap(~ )` (facetting)\n- `+ scale_` ( add a scale)\n\n---\n\n## gg is for Grammar of Graphics\n\n.left-column[\n### Data\n### Aesthetics\n### Geoms\n\n```r\n+ geom_*()\n```\n]\n\n.right-column[\n\n\n::: {.cell hash='metaphors_cache/revealjs/geom_demo_2b7922e6450b0f328fc81e39357e34dc'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/geom_demo-1.png){width=850px height=350px}\n:::\n:::\n\n]\n\n\n\n---\n\n\n## [The Five-Named Graphs](http://moderndive.com/3-viz.html#FiveNG)\n\n\n- Scatterplot: `geom_point()`\n- Line graph: `geom_line()`\n- Histogram: `geom_histogram()`\n- Boxplot: `geom_boxplot()`\n- Bar graph: `geom_bar()` or `geom_col` (see [Lab 02](../02-Pronouns-and-Data.html))\n\n---\n\n\n## Chunk : penguins\n\n\n\n::: {.cell highlight.output='[4,5,6]' hash='metaphors_cache/revealjs/penguins-1_f14a0fad92f075911047fcbab2df3256'}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 Ã— 8\n  species island    bill_length_mm bill_depth_mm flipper_lâ€¦Â¹ body_â€¦Â² sex    year\n  <fct>   <fct>              <dbl>         <dbl>       <int>   <int> <fct> <int>\n1 Adelie  Torgersen           39.1          18.7         181    3750 male   2007\n2 Adelie  Torgersen           39.5          17.4         186    3800 femaâ€¦  2007\n3 Adelie  Torgersen           40.3          18           195    3250 femaâ€¦  2007\n4 Adelie  Torgersen           NA            NA            NA      NA <NA>   2007\n5 Adelie  Torgersen           36.7          19.3         193    3450 femaâ€¦  2007\n6 Adelie  Torgersen           39.3          20.6         190    3650 male   2007\n# â€¦ with abbreviated variable names Â¹â€‹flipper_length_mm, Â²â€‹body_mass_g\n```\n:::\n:::\n\nWe see the first few rows of the dataset `penguins`. We see that there are a few **NA** data observations too. Let us remove them for now.\n\n\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-2_94bb4b9b574e4a5162c6a1741d7b8c95'}\n\n:::\n\n\n\n---\n\n## Chunk: Mapping\n\n\n.pull-left[\n\n::: {.cell hash='metaphors_cache/revealjs/plot1a_c4ec0d018bf890900361f659934a0953'}\n\n:::\n\n]\n\n.pull-right[\n\n::: {.cell hash='metaphors_cache/revealjs/first-plot1a-out_387b41eedaddde1ae61b840838b27b9f'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/first-plot1a-out-1.png){width=960}\n:::\n:::\n\n]\n\n---\n\n## Chunk: Mapping\n\n\n.pull-left[\n\n::: {.cell hash='metaphors_cache/revealjs/plot1b_af057c2a564c19e41699941ec8090621'}\n\n:::\n\n]\n\n.pull-right[\n\n::: {.cell hash='metaphors_cache/revealjs/first-plot1b-out_fe92dad4eb296187105f48a41c4865b5'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/first-plot1b-out-1.png){width=960}\n:::\n:::\n\n]\n\n\n---\n\n## Chunk: Mapping\n\n.pull-left[\n\n::: {.cell hash='metaphors_cache/revealjs/plot1c_d08c1a0334d418c71c5c86d7f58404e3'}\n\n:::\n\n]\n\n.pull-right[\n\n::: {.cell hash='metaphors_cache/revealjs/first-plot1c-out_e38a9a5b7a0527edfa3222b6f541c559'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/first-plot1c-out-1.png){width=960}\n:::\n:::\n\n]\n\n---\n\n## Chunk: Mapping\n\n.pull-left[\n\n::: {.cell hash='metaphors_cache/revealjs/plot1d_8d948e0b827bffd5b982952d25bb4ecc'}\n\n:::\n\n]\n\n.pull-right[\n\n::: {.cell hash='metaphors_cache/revealjs/first-plot1d-out_bde720a31ed87e5451211349591d2410'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/first-plot1d-out-1.png){width=960}\n:::\n:::\n\n]\n\n---\n\n## Chunk: Geom_Point_Position_Colour\n\n.pull-left[\n\n::: {.cell hash='metaphors_cache/revealjs/2a_a7caea29777ff59c78ce476a1d57a5dc'}\n\n:::\n\n]\n.pull-right[\n\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-3_f20195d082b1c95b2a81e90e2c51ea1b'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/unnamed-chunk-3-1.png){width=960}\n:::\n:::\n\n]\n\n---\n\n## Chunk: Geom_Point_Position_Colour\n\n\n.pull-left[\n\n::: {.cell hash='metaphors_cache/revealjs/2b_957da3728aa34dba12db2367a89b0233'}\n\n:::\n\nWe can leave out the \"mapping\" word and just use **aes** .\n\nWhy is there no plot?\n\n\nðŸ¤” ðŸ’­\n\nRight !! We have not used a `geom` command yet!!\n]\n.pull-right[\n\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-4_e481f6b433056c75618bd8d75707a873'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/unnamed-chunk-4-1.png){width=960}\n:::\n:::\n\n]\n\n---\n\n## Chunk: Geom_Point_Position_Colour\n\n\n.pull-left[\n\n::: {.cell hash='metaphors_cache/revealjs/2c_abe68c7492f4a3f221fbbcfc835f1069'}\n\n:::\n\nNote that the points are located by **position** coordinates on both x and y axis, and **coloured** by the island variable.\n\n\n]\n.pull-right[\n\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-5_b833f52c2230c6101de87de439348c6b'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/unnamed-chunk-5-1.png){width=960}\n:::\n:::\n\n]\n\n---\n\n## Chunk: Geom_Point_Position_Colour\n\n\n.pull-left[\n\n::: {.cell hash='metaphors_cache/revealjs/2d_21a7e2bc99136f60b563633434261b20'}\n\n:::\n\nNote that the points are located by **position** coordinates on both x and y axis, and **coloured** by the island variable.\n\nAnd we've fixed size = 4!\n\n\n]\n.pull-right[\n\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-6_376bbbf23d9323f0b196c7a15ba9a2d6'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/unnamed-chunk-6-1.png){width=960}\n:::\n:::\n\n]\n\n---\n\n## Alpha\n\n.pull-left[\n\n::: {.cell hash='metaphors_cache/revealjs/7a_09a76af47cbbc340d7c0037c0477b087'}\n\n:::\n\n\nAre the points all overlapping?\nCan we see them better?\n]\n\n\n\n.pull-right[\n  \n\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-7_d0ed7d68c50d4fc3d4da3dabd57645d4'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/unnamed-chunk-7-1.png){width=960}\n:::\n:::\n\n]\n\n---\n\n## Alpha\n\n.pull-left[\n\n::: {.cell hash='metaphors_cache/revealjs/7b_38b125cb746f2bc3574ec062e4bedc6b'}\n\n:::\n\n\nAre the points all overlapping?\nCan we see them better?\n\n]\n\n\n.pull-right[\n\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-8_5cdc4f1d56ffc46f8262257242681d61'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/unnamed-chunk-8-1.png){width=90%}\n:::\n:::\n\n]\n\n---\n\n## Chunk: Box Plot\n\n.pull-left[\n\n::: {.cell hash='metaphors_cache/revealjs/bp1_a314774ec3824c892db8c08876f29b97'}\n\n:::\n\n\n]\n\n\n.pull-right[\n\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-9_35ab85e4094576844f561d62dc2e8543'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/unnamed-chunk-9-1.png){width=90%}\n:::\n:::\n\n]\n\n\n---\n\n## Chunk: Box Plot\n\n.pull-left[\n\n::: {.cell hash='metaphors_cache/revealjs/bp2_dcb2c5133f1a92c52899133e87d326c4'}\n\n:::\n\n\n]\n\n\n.pull-right[\n\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-10_6ab1d98ac4974831551efa6f1f310521'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/unnamed-chunk-10-1.png){width=90%}\n:::\n:::\n\n]\n\n---\n\n## Chunk: Geom_Bar_1\n\n.pull-left[\n::: {.cell hash='metaphors_cache/revealjs/3a_4be4390b2bb8a0bb273e1c4174c47445'}\n\n:::\n]\n.pull-right[\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-11_c54ec299e4510a718f20ea0f35e457fa'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/unnamed-chunk-11-1.png){width=90%}\n:::\n:::\n]\n\n---\n\n\n## Chunk: Geom_Bar_1\n\n.pull-left[\n\n::: {.cell hash='metaphors_cache/revealjs/3b_78b635cb1ba18b992581fe855880bdf8'}\n\n:::\n\n]\n.pull-right[\n\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-12_522f35f3a2e725af298050ebe2e1bb00'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/unnamed-chunk-12-1.png){width=90%}\n:::\n:::\n\n]\n\n---\n\n## Chunk: Geom_Bar_1\n\n.pull-left[\n\n::: {.cell hash='metaphors_cache/revealjs/3c_45b163e8b115c0e6cd2b900be3352e68'}\n\n:::\n\n\nThe bars are plotted with **positions** on the x-axis, defined by the `species` variable,  and **heights** mapped to the y-axis. \n\nHow did the graph \"know\" the heights of the bars?\n\n`geom_bar` has an internal `count` statistic computation. \nMany `geom_s` have internal computation that are accessible to programmers. \n\n]\n.pull-right[\n\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-13_ecca1b69f0e4a666509936e2be5613b7'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/unnamed-chunk-13-1.png){width=90%}\n:::\n:::\n\n]\n\n---\n\n## Geom_Bar_Position_Stack_and_Dodge\n\n\n.pull-left[\nWhen using more than a pair of variables with a bar chart, we have a few more **position** options:\n\n::: {.cell hash='metaphors_cache/revealjs/4b_cd92b50a10fb48b01ac105a84677c543'}\n\n:::\n\n]\n.pull-right[\n\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-14_54c7490f331e383af5dd5f586af3e400'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/unnamed-chunk-14-1.png){width=90%}\n:::\n:::\n\n]\n\n---\n\n## Geom_Bar_Position_Stack_and_Dodge\n\n.pull-left[\nWhen using more than a pair of variables with a bar chart, we have a few more **position** options:\n\n::: {.cell hash='metaphors_cache/revealjs/4c_26cf86a47d8e6785a9ddc64877c763cc'}\n\n:::\n\n\nThe bars are coloured by the `island` variable and are **stacked** in **position**.\n]\n.pull-right[\n\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-15_0865df2d263abac2b9c388f947f8c94d'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/unnamed-chunk-15-1.png){width=90%}\n:::\n:::\n\n]\n\n---\n\n## Geom_Bar_Position_Stack_and_Dodge\n\n.pull-left[\nAnd here we use the `dodge` option:\n::: {.cell hash='metaphors_cache/revealjs/5c_305f0626b040002d5728ac2d1abf747a'}\n\n:::\n]\n\n.pull-right[\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-16_b1b9949a06c2c12e5ed535f2455b2d6c'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/unnamed-chunk-16-1.png){width=90%}\n:::\n:::\n]\n\n---\n\n\n## Facetting\n\n\n.pull-left[\n\n::: {.cell hash='metaphors_cache/revealjs/6a_7ac786d96f86e336dd3fe69a7befa77d'}\n\n:::\n\n]\n.pull-right[\n\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-17_26106d42fe82825ae7721b9ee7689849'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/unnamed-chunk-17-1.png){width=90%}\n:::\n:::\n\n]\n\n---\n\n## Facetting\n\n.pull-left[\n\n::: {.cell hash='metaphors_cache/revealjs/6b_d9c9d80b30f7cad3316ca754e44c199d'}\n\n:::\n\n]\n\n.pull-right[\n\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-18_a1a1dc510b7a11778ef0573de062a864'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/unnamed-chunk-18-1.png){width=90%}\n:::\n:::\n\n]\n\n---\n\n## Facetting\n\n.pull-left[\n\n::: {.cell hash='metaphors_cache/revealjs/6c_68f62fd3c97c87bec68fc62a1becdf2c'}\n\n:::\n\n]\n\n.pull-right[\n\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-19_245265547664b4787b67a5b80f139616'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/unnamed-chunk-19-1.png){width=90%}\n:::\n:::\n\n]\n\n---\n\n## Facetting\n\n.pull-left[\n\n::: {.cell hash='metaphors_cache/revealjs/6d_678e28b8aaca7404e6962d7c65f23cc6'}\n\n:::\n\n\n\nThe graph has **split** into small multiples, based on the **number** of islands. \n]\n\n\n.pull-right[\n\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-20_be882bd7ae4cc25fcaa953d03c6f2c8f'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/unnamed-chunk-20-1.png){width=90%}\n:::\n:::\n\n]\n\n---\n\n## Still more Facetting\n\n.pull-left[\n::: {.cell hash='metaphors_cache/revealjs/6e_11fffde8991ec6023b002517c71fb782'}\n\n:::\n\nWhat if we have even more \"factor\" variables?\nWe have `island` and `species`...can we split further?\n\n]\n\n\n.pull-right[\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-21_8baf2a1f3d326823f4808f0ec3a1c274'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/unnamed-chunk-21-1.png){width=90%}\n:::\n:::\n]\n\n---\n\n\n## Still more Facetting\n\n.pull-left[\n\n::: {.cell hash='metaphors_cache/revealjs/6f_5389136bca42419ee4f10e9835529b01'}\n\n:::\n\n\nThe graph has **split** into multiples, based on the **number** of islands **and** the number of species. \n\n]\n.pull-right[\n\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-22_37b9492ca009ac695535761666fb666e'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/unnamed-chunk-22-1.png){width=90%}\n:::\n:::\n\n]\n\n\n---\n\n\n## And shall we look briefly at colour?\n\n---\n\n## Finally...Colour !! ( Just a bit )\n\n.pull-left[\n\n::: {.cell hash='metaphors_cache/revealjs/8a_8c62d7d4c285a71691040df5ba638ecf'}\n\n:::\n\n]\n.pull-right[\n\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-23_6ebb2b896d92145803607b0c39c97c70'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/unnamed-chunk-23-1.png){width=90%}\n:::\n:::\n\n]\n\n---\n\n## Finally...Colour !! ( Just a bit )\n\n.pull-left[\n::: {.cell hash='metaphors_cache/revealjs/8b_af117602443139046988dd623fbb1cb2'}\n\n:::\nWe are using the `RColorBrewer` package here. \nType `RColorBrewer::display.brewer.all()` in your Console and see what palettes are available.\n\n]\n.pull-right[\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-24_43588c1909bff1ebea8c039025075182'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/unnamed-chunk-24-1.png){width=90%}\n:::\n:::\n]\n\n\n---\n\n\n## Chunk: Colour !! ( Just a bit )\n\n.pull-left[\n\n::: {.cell hash='metaphors_cache/revealjs/8c_c18edc372535356dfdd88706372f8251'}\n\n:::\n\n]\n.pull-right[\n\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-25_02fe3aec33d1a64b712cb2f12913058e'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/unnamed-chunk-25-1.png){width=960}\n:::\n:::\n\n]\n\n---\n\n\n## Chunk: Colour !! ( Just a bit )\n\n.pull-left[\n\n::: {.cell hash='metaphors_cache/revealjs/8d_82ce8c76423a6b408110c3d81ac74532'}\n\n:::\n\n]\n.pull-right[\n\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-26_92fa486a883842beae7c36bff96edd76'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/unnamed-chunk-26-1.png){width=960}\n:::\n:::\n\n]\n\n---\n\n\n\n## Chunk: Colour !! ( Just a bit )\n\n.pull-left[\n\n::: {.cell hash='metaphors_cache/revealjs/8e_be63d56590abee5b178f6622a967622b'}\n\n:::\n\n]\n.pull-right[\n\n::: {.cell hash='metaphors_cache/revealjs/unnamed-chunk-27_9b9b2e873ed329d142636cc22c9055fa'}\n::: {.cell-output-display}\n![](metaphors_files/figure-revealjs/unnamed-chunk-27-1.png){width=960}\n:::\n:::\n\n]\n\n---\n\n\n## Conclusion\n- `ggplot` takes a dataframe/tibble as the data argument\n- The `aes`-thetic arguments can be `x`, `y`, `colour`, `shape`, `alpha` for example...\n- The `geom_*()` commands specify the kind of plot, from a geometric perspective\n- Together, the `ggplot` package offers a **Grammar** of near-English commands which allow us to plot data in various ways. \n\n---\n\n## References\n\n\n1. [Wickham, Hadley. (2010) \"A Layered Grammar of Graphics\". *Journal of Computational and Graphical Statistics*, 19(1).](http://www.jstor.org.proxy.uchicago.edu/stable/25651297)\n\n2. [Wilkinson, Leland. (2005). *The Grammar of Graphics*. (UChicago authentication required)](http://link.springer.com.proxy.uchicago.edu/book/10.1007%2F0-387-28695-0)\n\n\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\r\n<script>\r\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\r\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\r\n  // slide changes (different for each slide format).\r\n  (function () {\r\n    // dispatch for htmlwidgets\r\n    function fireSlideEnter() {\r\n      const event = window.document.createEvent(\"Event\");\r\n      event.initEvent(\"slideenter\", true, true);\r\n      window.document.dispatchEvent(event);\r\n    }\r\n\r\n    function fireSlideChanged(previousSlide, currentSlide) {\r\n      fireSlideEnter();\r\n\r\n      // dispatch for shiny\r\n      if (window.jQuery) {\r\n        if (previousSlide) {\r\n          window.jQuery(previousSlide).trigger(\"hidden\");\r\n        }\r\n        if (currentSlide) {\r\n          window.jQuery(currentSlide).trigger(\"shown\");\r\n        }\r\n      }\r\n    }\r\n\r\n    // hookup for slidy\r\n    if (window.w3c_slidy) {\r\n      window.w3c_slidy.add_observer(function (slide_num) {\r\n        // slide_num starts at position 1\r\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\r\n      });\r\n    }\r\n\r\n  })();\r\n</script>\r\n\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}