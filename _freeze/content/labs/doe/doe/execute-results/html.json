{
  "hash": "73cc94d9e5525c598cf5a0e6f94481cf",
  "result": {
    "markdown": "---\ntitle: \"A Design Of Experiments Class\"\nsubtitle: Using Permutation Tests\nauthor: \"Arvind Venkatadri\"\ndate: \"2022-01-30\"\ndate-modified: \"2023-01-10\"\nformat: \n  html:\n    theme: journal\ncode-fold: true\ncode-summary: \"Show the Code\"\ncode-line-numbers: true\nhighlight-style: dracula\n---\n\n\n\n\n# Introduction\n\nThis project is a quick analysis of the Design of Experiments class\ncarried out in the Order and Chaos course, FSP-2021-2022, at SMI MAHE,\nBangalore.\n\nThe methodology followed was that in A.J. Lawrance's paper [^1]\ndescribing a Statistics module based on the method of Design of\nExperiments. The inquiry relates to Short Term Memory (STM) among\nstudents.\n\n# Structure\n\nThe total number of students were 17. Eight Pairs of students were\ncreated randomly to create eight different Test tools for Short Term\nMemory testing.\n\nThe binary ( two - level ) variables/parameters that were used in the\ntests, were, following Lawrance:\n\n-   WL: Word List Length ( 7 and 15 words )\\\n-   SL: Syllables in the Words ( 2 and 5 syllables )\\\n-   ST: Study Time allowed for the Respondents ( 15 and 30 seconds )\n\nOther parameters considered were a) Language b) Structure/Depiction of\nthe Word Lists ( e.g. word clouds, matrices, columns...), c) Whether the\nwords would be shown or read aloud, and d) whether the respondents had\nto speak out, or write down, the recollected words. These parameters\nwere discussed and abandoned as too complex to mechanize, though they\ncould have had an impact on the STM scores.\n\nHence a total of **8 Tests** were created by 8 pairs of students, and\neach team tested the remaining 15 students ( Due to COVID restrictions,\nthis testing was carried out entirely online on MS Teams, using\nindividual breakout rooms for the Test Teams. )\n\nThe data were entered into a Google Sheet and the STM scores were\nconverted to *percentages* so as to be comparable across WL.\n\nThe data was then \"flattened\" for each of the binary parameters; this\nwas logical to do since for each parameter, the other two parameters\nwere balanced out by the Test structure. For instance, for WL = 5, the\nSL and ST parameters used all the four combinations ( SL = 5, 15 ) and\n(ST = 15, 30 ). Hence the \"common sense\" analysis could proceed for each\nof the parameters individually. Joint effects were not considered for\nthis preliminary class.\n\n# Data\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 60 × 6\n   syllable_2 syllable_5 study_time_15 study_time_30 list_length_7 list_length…¹\n        <dbl>      <dbl>         <dbl>         <dbl>         <dbl>         <dbl>\n 1      0.714      0.571         0.714         0.714         0.714        0.267 \n 2      0.429      0.571         0.429         0.571         0.429        0.2   \n 3      0.571      0.714         0.571         0.571         0.571        0.0667\n 4      0.714      1             0.714         0.571         0.714        0.133 \n 5      0.714      1             0.714         1             0.714        0.2   \n 6      0.714      0.857         0.714         0.714         0.714        0.133 \n 7      0.571      0.571         0.571         0.571         0.571        0.333 \n 8      0.571      0.714         0.571         0.571         0.571        0.533 \n 9      0.571      0.857         0.571         1             0.571        0.2   \n10      0.571      1             0.571         0.429         0.571        0.133 \n# … with 50 more rows, and abbreviated variable name ¹​list_length_15\n```\n:::\n:::\n\n\nThe data has scores that have been combined into single columns for each\nsetting for each of the parameters. For example, the column `syllable_2`\ncontains STM scores for **all** tests that used SL = 2-syllables in\ntheir tests. The Word Length WL and Study Time ST go through all their\ncombinations in this column. The other columns are constructed\nsimilarly.\n\n## Basic Plots\n\nWe will use Box Plots and Density Plots to compare the STM score\ndistributions for each Parameter. To do this we need to `pivot_longer`\nthe adjacent columns ( e.g. `syllable_2` and syllable_5) and use these\nnames as categorical variables:\n\n### Syllable Parameter SL\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 120 × 2\n   syllable   syl_scores\n   <chr>           <dbl>\n 1 syllable_2      0.714\n 2 syllable_5      0.571\n 3 syllable_2      0.429\n 4 syllable_5      0.571\n 5 syllable_2      0.571\n 6 syllable_5      0.714\n 7 syllable_2      0.714\n 8 syllable_5      1    \n 9 syllable_2      0.714\n10 syllable_5      1    \n# … with 110 more rows\n```\n:::\n\n::: {.cell-output-display}\n![](doe_files/figure-html/plots-1-1.png){width=672}\n:::\n:::\n\n\n### Study Time Parameter ST\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 120 × 2\n   study         study_scores\n   <chr>                <dbl>\n 1 study_time_15        0.714\n 2 study_time_30        0.714\n 3 study_time_15        0.429\n 4 study_time_30        0.571\n 5 study_time_15        0.571\n 6 study_time_30        0.571\n 7 study_time_15        0.714\n 8 study_time_30        0.571\n 9 study_time_15        0.714\n10 study_time_30        1    \n# … with 110 more rows\n```\n:::\n\n::: {.cell-output-display}\n![](doe_files/figure-html/plots-2-1.png){width=672}\n:::\n:::\n\n\n### Word List Length Parameter WL\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 120 × 2\n   list           list_scores\n   <chr>                <dbl>\n 1 list_length_7       0.714 \n 2 list_length_15      0.267 \n 3 list_length_7       0.429 \n 4 list_length_15      0.2   \n 5 list_length_7       0.571 \n 6 list_length_15      0.0667\n 7 list_length_7       0.714 \n 8 list_length_15      0.133 \n 9 list_length_7       0.714 \n10 list_length_15      0.2   \n# … with 110 more rows\n```\n:::\n\n::: {.cell-output-display}\n![](doe_files/figure-html/plots-3-1.png){width=672}\n:::\n:::\n\n\n# Preliminary Observations\n\nClearly, based on visual inspection of the Plots, the Word Count seems\nto have a large effect on STM Test Scores, with fewer words ( 7 ) being\neasier to recall. Study Time ( 15 and 30 seconds ) also seems to have a\nmore modest positive effect on STM scores, while Syllable Count ( 2 or 5\nsyllables ) seems to have a modest negative effect on STM scores.\n\n# Analysis\n\nWe wish to establish the significance of the effect size due to each of\nthe Parameters. Already from the Density Plots, we can see that *none*\nof the scores are normally distributed. A quick *Shapiro-Wilkes Test*\nfor each of them confirms that the scores are *not* normally\ndistributed.\n\nHence we go for a Permutation Test to check for significance of effect.\n\nOn the other hand, as remarked in Ernst[^2], the non-parametric\npermutation test can be both *exact* and also **intuitively easier** for\nstudents to grasp, as I can testify from direct observation in this\nclass. There is no need to discuss sampling distributions and means,\nt-tests and the like. Permutations are easily executed in R, using\npackages such as `mosaic`[^3].\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n\n\tShapiro-Wilk normality test\n\ndata:  stm$syllable_2\nW = 0.95508, p-value = 0.02716\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tShapiro-Wilk normality test\n\ndata:  stm$syllable_5\nW = 0.95321, p-value = 0.02211\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tShapiro-Wilk normality test\n\ndata:  stm$study_time_15\nW = 0.9068, p-value = 0.0002348\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tShapiro-Wilk normality test\n\ndata:  stm$study_time_30\nW = 0.95539, p-value = 0.0281\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tShapiro-Wilk normality test\n\ndata:  stm$list_length_7\nW = 0.90542, p-value = 0.0002085\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tShapiro-Wilk normality test\n\ndata:  stm$list_length_15\nW = 0.92806, p-value = 0.001645\n```\n:::\n:::\n\n\n# Permutation Tests\n\nWe proceed with a Permutation Test for each of the Parameters. We start\nwith the Syllable Parameter SL. We shuffle the labels ( SL- = 2 and SL+\n= 5) between the scores and determine the null distribution. This is\nthen compared with the difference in *mean scores* between the\nunpermuted sets. We continue similarly for the other two parameters.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.0153731\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n    syllable_5\n1  0.013965476\n2 -0.020037540\n3  0.040540238\n4 -0.001855476\n5 -0.038114841\n6 -0.088820556\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.08526183\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n  study_time_30\n1   0.063810397\n2   0.007668333\n3   0.062490397\n4  -0.038792619\n5   0.105044048\n6   0.014825952\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.2887539\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n  list_length_7\n1   -0.03361913\n2    0.03360960\n3    0.03685310\n4   -0.06791103\n5   -0.02387675\n6   -0.03305563\n```\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](doe_files/figure-html/null-plots-1.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](doe_files/figure-html/null-plots-2.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](doe_files/figure-html/null-plots-3.png){width=672}\n:::\n:::\n\n\n# Conclusions\n\nFrom the above null distribution plots obtained using Permutation tests,\nit is clear that both Study Time ( ST ) and List Word Length ( WL) have\nsignificant effects on the Short Term Memory Scores. The probability\nthat the **observed value** is obtained or exceeded by any permutation\nof scores is very low in both cases.\n\nOn the other hand, Syllable Count (SL) does not seem to affect the STM\nscores significantly.\n\n# References\n\n[^1]: Lawrance, A. J. 1996. \"A Design of Experiments Workshop as an\n    Introduction to Statistics.\" American Statistician 50 (2): 156--58.\n    doi:10.1080/00031305.1996.10474364.\n\n[^2]: Ernst, Michael D. 2004. \"Permutation Methods: A Basis for Exact\n    Inference.\" Statistical Science 19 (4): 676--85.\n    doi:10.1214/088342304000000396.\n\n[^3]: Pruim R, Kaplan DT, Horton NJ (2017). \"The mosaic Package: Helping\n    Students to 'Think with Data' Using R.\" The R Journal, 9(1),\n    77--102.\n    https://journal.r-project.org/archive/2017/RJ-2017-024/index.html.\n",
    "supporting": [
      "doe_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}