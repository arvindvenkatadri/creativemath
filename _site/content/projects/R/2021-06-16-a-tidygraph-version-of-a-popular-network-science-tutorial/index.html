<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.9">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Arvind Venkatadri">
<meta name="dcterms.date" content="2021-06-16">
<title>A Tidygraph version of a Popular Network Science Tutorial – Applied Metaphors: Learning TRIZ, Complexity, Data/Stats/ML using Metaphors</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../">
<link href="../../../../content/materials/icon-park-twotone--concept-sharing.svg" rel="icon" type="image/svg+xml">
<script src="../../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-html/quarto-syntax-highlighting-ee8d8706f1c994b60771204f4b0287d8.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../../../site_libs/quarto-html/quarto-syntax-highlighting-dark-ee8d8706f1c994b60771204f4b0287d8.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../site_libs/bootstrap/bootstrap-0ca8749476ca41c48f7d6b7dfcbe3bef.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../../../site_libs/quarto-contrib/line-highlight-1.0.0/line-highlight.css" rel="stylesheet">
<script src="../../../../site_libs/quarto-contrib/iconify-2.1.0/iconify-icon.min.js"></script>
<script src="../../../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-contrib/tachyons-4.12.0/tachyons.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><style>html{ scroll-behavior: smooth; }</style>
<link href="../../../../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="../../../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="../../../../site_libs/vis-9.1.0/vis-network.min.css" rel="stylesheet">
<script src="../../../../site_libs/vis-9.1.0/vis-network.min.js"></script><script src="../../../../site_libs/visNetwork-binding-2.1.2/visNetwork.js"></script><link href="../../../../site_libs/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link href="../../../../site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="../../../../site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<meta property="og:title" content="A Tidygraph version of a Popular Network Science Tutorial – Applied Metaphors: Learning TRIZ, Complexity, Data/Stats/ML using Metaphors">
<meta property="og:description" content="This is the teaching website of Arvind V., Adjunct Professor, DSU, India.">
<meta property="og:site_name" content="Applied Metaphors: Learning TRIZ, Complexity, Data/Stats/ML using Metaphors">
<meta name="twitter:title" content="A Tidygraph version of a Popular Network Science Tutorial – Applied Metaphors: Learning TRIZ, Complexity, Data/Stats/ML using Metaphors">
<meta name="twitter:description" content="This is the teaching website of Arvind V., Adjunct Professor, DSU, India.">
<meta name="twitter:card" content="summary">
</head>
<body class="nav-sidebar docked nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../../index.html">
    <span class="navbar-title">Applied Metaphors: Learning TRIZ, Complexity, Data/Stats/ML using Metaphors</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item compact">
    <a class="nav-link" href="https://github.com/arvindvenkatadri/my-quarto-website"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/arvind_v"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../../../www.linkedin.com/in/arvindvenkatadri"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:arvind.venkatadri@gmail.com"> <i class="bi bi-envelope" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">A Tidygraph version of a Popular Network Science Tutorial</li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../content/courses/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Teaching</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../content/courses/Analytics/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Analytics for Managers and Peasants</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">
<li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../content/courses/Analytics/Tools/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tools</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth3 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Tools/10-Intro-to-R/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="fa-brands:r-project"> Introduction to R and RStudio</iconify-icon></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Tools/20-Intro-to-Radiant/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">🐉 Introduction to Radiant</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Tools/30-Intro-to-Orange/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">🐉 Introduction to Orange</span></a>
  </div>
</li>
      </ul>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../content/courses/Analytics/Descriptive/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Descriptive Analytics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth3 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Descriptive/Modules/05-NatureData/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="icon-park-twotone:data-user" width="1.2em" height="1.2em"></iconify-icon> Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Descriptive/Modules/10-FavStats/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="carbon:summary-kpi" width="1.2em" height="1.2em"></iconify-icon> Summaries</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Descriptive/Modules/20-BarPlots/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="eos-icons:counting" width="1.2em" height="1.2em"></iconify-icon> Counts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Descriptive/Modules/22-Histograms/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="fluent-mdl2:quantity" width="1.2em" height="1.2em"></iconify-icon> Quantities</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Descriptive/Modules/24-BoxPlots/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="lucide:group" width="1.2em" height="1.2em"></iconify-icon> Groups</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Descriptive/Modules/26-Densities/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="clarity:bell-curve-line" width="1.2em" height="1.2em"></iconify-icon> Densities</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Descriptive/Modules/28-Violins/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="material-symbols:light-group-rounded" width="1.2em" height="1.2em"></iconify-icon> Groups and Densities</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Descriptive/Modules/30-Correlations/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="icon-park-outline:change" width="1.2em" height="1.2em"></iconify-icon> Change</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Descriptive/Modules/40-CatData/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="icon-park-outline:proportional-scaling"></iconify-icon> Proportions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Descriptive/Modules/60-PartWhole/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="ic:round-pie-chart-outline"></iconify-icon> Parts of a Whole</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Descriptive/Modules/70-EvolutionFlow/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="carbon:sankey-diagram"></iconify-icon> Evolution and Flow</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Descriptive/Modules/80-Ranking/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="ph:ranking-bold" width="1.2em" height="1.2em"></iconify-icon> Ratings and Rankings</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Descriptive/Modules/45-SurveyData/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="wpf:survey" width="1.2em" height="1.2em"></iconify-icon> Surveys</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Descriptive/Modules/50-Time/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="fluent-mdl2:hour-glass" width="1.2em" height="1.2em"></iconify-icon> Time</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Descriptive/Modules/90-Space/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="gis:proj-geo" width="1.2em" height="1.2em"></iconify-icon> Space</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Descriptive/Modules/100-Networks/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="bx:network-chart" width="1.2em" height="1.2em"></iconify-icon> Networks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Descriptive/Modules/180-RefMat/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">📚 Miscellaneous Graphing Tools, and References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Descriptive/Modules/200-EDAWorkflow/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">EDA Workflow</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Descriptive/Modules/1000-NoFreeHunch/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="game-icons:sherlock-holmes" width="1.2em" height="1.2em"></iconify-icon> Experiments</span></a>
  </div>
</li>
      </ul>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../content/courses/Analytics/Inference/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistical Inference</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth3 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Inference/Modules/10-Intro/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">🧭 Basics of Statistical Inference</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Inference/Modules/20-SampProb/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">🎲 Samples, Populations, Statistics and Inference</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Inference/Modules/60-SimTest/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Basics of Randomization Tests</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Inference/Modules/100-OneMean/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">🃏 Inference for a Single Mean</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Inference/Modules/110-TwoMeans/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Inference for Two Independent Means</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Inference/Modules/120-PairedMeans/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">🃏 Inference for Comparing Two Paired Means</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Inference/Modules/130-ThreeMeansOrMore/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Comparing Multiple Means with ANOVA</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Inference/Modules/150-Correlation/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Inference for Correlation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Inference/Modules/180-OneProp/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">🃏 Testing a Single Proportion</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Inference/Modules/190-TwoProp/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">🃏 Inference Test for Two Proportions</span></a>
  </div>
</li>
      </ul>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../content/courses/Analytics/Modelling/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Inferential Modelling</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth3 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Modelling/Modules/LinReg/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modelling with Linear Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Modelling/Modules/LogReg/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modelling with Logistic Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Modelling/Modules/ModelTimeSeries/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">🕔 Modelling and Predicting Time Series</span></a>
  </div>
</li>
      </ul>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../content/courses/Analytics/Predictive/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Predictive Modelling</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth3 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Predictive/Modules/10-IntroOrange/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">🐉 Intro to Orange</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Predictive/Modules/20-Regression/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ML - Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Predictive/Modules/30-Classification/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ML - Classification</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Predictive/Modules/40-Clustering/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ML - Clustering</span></a>
  </div>
</li>
      </ul>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../content/courses/Analytics/Prescriptive/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prescriptive Modelling</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth3 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Prescriptive/Modules/10-IntroLinearProg/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">📐 Intro to Linear Programming</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Prescriptive/Modules/20-SimplexMethodIntuitive/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">💭 The Simplex Method - Intuitively</span></a>
  </div>
</li>
          <li class="sidebar-item">
 <span class="menu-text">content/courses/Analytics/Prescriptive/Modules/30-SimlexMethodExcel/index.qmd</span>
  </li>
      </ul>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../content/courses/Analytics/Workflow/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Workflow</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth3 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Workflow/Modules/05-FacingTheAbyss/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Facing the Abyss</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Workflow/Modules/10-Reports-flextable/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Using FlexDashboard in R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/Workflow/Modules/30-BlogSite/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="entypo:publish" width="1.2rem" height="1.2rem"></iconify-icon> I Publish, therefore I Am</span></a>
  </div>
</li>
      </ul>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../content/courses/Analytics/CaseStudies/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Case Studies</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth3 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/CaseStudies/Modules/05-Demo/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Demo: Product Packaging and Elderly People</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/CaseStudies/Modules/10-IkeaFurniture/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ikea Furniture</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/CaseStudies/Modules/20-MovieProfits/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Movie Profits</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/CaseStudies/Modules/30-GenderWorkplace/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Gender at the Work Place</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/CaseStudies/Modules/40-Heptathlon/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Heptathlon</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/CaseStudies/Modules/60-SchoolScores/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">School Scores</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/CaseStudies/Modules/80-ChildrensGames/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Children’s Games</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/CaseStudies/Modules/90-ValentinesDay/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Valentine’s Day Spending</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/CaseStudies/Modules/100-WomenLiveMen/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Women Live Longer?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/CaseStudies/Modules/110-ChildrenHearingLoss/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hearing Loss in Children</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/CaseStudies/Modules/200-CaliforniaTransitPayments/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">California Transit Payments</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/CaseStudies/Modules/250-Seaweed/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seaweed Nutrients</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/Analytics/CaseStudies/Modules/500-Coffee/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Coffee Flavours</span></a>
  </div>
</li>
      </ul>
</li>
      </ul>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../content/courses/R4Artists/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R for Artists and Managers</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth2 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/R4Artists/Modules/10-Basics/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">🕶 Lab-1: Science, Human Experience, Experiments, and Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/R4Artists/Modules/20-intro/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab-2: Down the R-abbit Hole…</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/R4Artists/Modules/30-quarto/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab-3: Drink Me!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/R4Artists/Modules/40-working-in-r/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab-4: I say what I mean and I mean what I say</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/R4Artists/Modules/50-working-in-tidyverse/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab-5: Twas brillig, and the slithy toves…</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/R4Artists/Modules/60-GoG/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab-6: These Roses have been Painted !!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/R4Artists/Modules/70-wizardy/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab-7: The Lobster Quadrille</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/R4Artists/Modules/80-htmlwidgets/htmlwidgets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab-8: Did you ever see such a thing as a drawing of a muchness?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/R4Artists/Modules/90-GoM/spatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab-9: If you please sir…which way to the Secret Garden?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/R4Artists/Modules/100-GoN/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab-10: An Invitation from the Queen…to play Croquet</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/R4Artists/Modules/110-GoD/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab-11: The Queen of Hearts, She Made some Tarts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/R4Artists/Modules/120-time/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab-12: Time is a Him!!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/R4Artists/Modules/130-purrr/purrr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Iteration: Learning to purrr</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/R4Artists/Modules/200-wrap/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab-13: Old Tortoise Taught Us</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/R4Artists/Modules/300-website/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab-14: You’re are Nothing but a Pack of Cards!!</span></a>
  </div>
</li>
      </ul>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../content/courses/ML4Artists/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ML for Artists and Managers</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth2 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/ML4Artists/Modules/10-IntroOrange/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">🐉 Intro to Orange</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/ML4Artists/Modules/20-Regression/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ML - Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/ML4Artists/Modules/30-Classification/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ML - Classification</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/ML4Artists/Modules/40-Clustering/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ML - Clustering</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/ML4Artists/Modules/50-ModelTimeSeries/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">🕔 Modelling Time Series</span></a>
  </div>
</li>
      </ul>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../content/courses/TRIZ4ProbSolving/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TRIZ for Problem Solvers</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-13" class="collapse list-unstyled sidebar-section depth2 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/TRIZ4ProbSolving/Modules/10-Flow-and-Play/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">I am Water</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/TRIZ4ProbSolving/Modules/20-Cultural-Capital/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">I am What I yam</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/TRIZ4ProbSolving/Modules/30-MBTI-Big-5/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Birds of Different Feathers</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/TRIZ4ProbSolving/Modules/35-Domain-Field-Self/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">I Connect therefore I am</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/TRIZ4ProbSolving/Modules/37-What-Am-I-Thinking-Of/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">I Think, Therefore I am</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/TRIZ4ProbSolving/Modules/40-Parallel-Thinking/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The Art of Parallel Thinking</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/TRIZ4ProbSolving/Modules/50-Metaphoric-Thinking/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A Year of Metaphoric Thinking</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/TRIZ4ProbSolving/Modules/60-Problems-and-Contradictions/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TRIZ - Problems and Contradictions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/TRIZ4ProbSolving/Modules/70-TRIZ-Resources/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TRIZ - The Unreasonable Effectiveness of Available Resources</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/TRIZ4ProbSolving/Modules/75-TRIZ-Ideal-Final-Result/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TRIZ - The Ideal Final Result</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/TRIZ4ProbSolving/Modules/80-A-Contradictory-Language/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TRIZ - A Contradictory Language</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/TRIZ4ProbSolving/Modules/90-TRIZ-Contradiction-Matrix/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TRIZ - The Contradiction Matrix Workflow</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/TRIZ4ProbSolving/Modules/100-TRIZ-Laws-of-Evolution/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TRIZ - The Laws of Evolution</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/TRIZ4ProbSolving/Modules/200-TRIZ-Advanced-Stuff/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TRIZ - Substance Field Analysis, and ARIZ</span></a>
  </div>
</li>
      </ul>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../content/courses/MathModelsDesign/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Math Models in Design</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-14" class="collapse list-unstyled sidebar-section depth2 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/MathModelsDesign/Modules/05-Tools/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tools and Installation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/MathModelsDesign/Modules/90-WorkingWithShape/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Working with Shape</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/MathModelsDesign/Modules/100-WorkingWithSound/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Working with Sound</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/MathModelsDesign/Modules/40-WorkingWithNetworks/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Working with Networks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/MathModelsDesign/Modules/80-WorkingWithChance/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Working with Chance</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/MathModelsDesign/Modules/120-WorkingWithText/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Working with Text</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/MathModelsDesign/Modules/140-WorkingWithTime/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Working with Time</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/MathModelsDesign/Modules/160-WorkingWithThoughts/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Working With Thoughts</span></a>
  </div>
</li>
      </ul>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../content/courses/NoCode/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Science with No Code</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-15" class="collapse list-unstyled sidebar-section depth2 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/NoCode/Modules/01-NatureofData/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="icon-park-twotone:data-user" width="1.2em" height="1.2em"></iconify-icon> Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/NoCode/Modules/05-IntroductiontoOrange/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="ph:orange-bold"></iconify-icon> Orange</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/NoCode/Modules/10-SummaryStats/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="carbon:summary-kpi" width="1.2em" height="1.2em"></iconify-icon> Summaries</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/NoCode/Modules/20-Counts/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="eos-icons:counting" width="1.2em" height="1.2em"></iconify-icon> Counts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/NoCode/Modules/22-Quantity/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="fluent-mdl2:quantity" width="1.2em" height="1.2em"></iconify-icon> Quantity</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/NoCode/Modules/28-Groups/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="lucide:group" width="1.2em" height="1.2em"></iconify-icon> Groups</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/NoCode/Modules/30-Change/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="icon-park-outline:change" width="1.2em" height="1.2em"></iconify-icon> Change</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/NoCode/Modules/32-Rhythm/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="fluent-mdl2:hour-glass" width="1.2em" height="1.2em"></iconify-icon> Rhythm</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/NoCode/Modules/35-Proportions/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="icon-park-outline:proportional-scaling"></iconify-icon> Proportions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/NoCode/Modules/60-Rankings/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="ph:ranking-bold" width="1.2em" height="1.2em"></iconify-icon> Ranking</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/NoCode/Modules/40-Flows/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="maki:watermill"></iconify-icon> Flow</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/NoCode/Modules/54-Structures/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="tabler:hierarchy-3" width="1.2em" height="1.2em"></iconify-icon> Structure</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/NoCode/Modules/70-Maps/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="gis:proj-geo" width="1.2em" height="1.2em"></iconify-icon> Space</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/NoCode/Modules/100-Networks/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="bx:network-chart" width="1.2em" height="1.2em"></iconify-icon> Networks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/NoCode/Modules/140-Surveys/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="wpf:survey" width="1.2em" height="1.2em"></iconify-icon> Surveys</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/NoCode/Modules/150-NoFreeHunch/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><iconify-icon icon="game-icons:sherlock-holmes" width="1.2em" height="1.2em"></iconify-icon> Experiments</span></a>
  </div>
</li>
      </ul>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/courses/ISTW/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Literary Jukebox: In Short, the World</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/posts/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Posts</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../content/projects/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Blogs</span></a>
  </div>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#contents" id="toc-contents" class="nav-link" data-scroll-target="#contents">CONTENTS</a></li>
  <li>
<a href="#dataset-1-edgelist--" id="toc-dataset-1-edgelist--" class="nav-link" data-scroll-target="#dataset-1-edgelist--">——-~~ DATASET 1: edgelist ~~——-</a>
  <ul class="collapse">
<li><a href="#converting-the-data-to-an-igraph-object" id="toc-converting-the-data-to-an-igraph-object" class="nav-link" data-scroll-target="#converting-the-data-to-an-igraph-object">Converting the data to an igraph object:</a></li>
  </ul>
</li>
  <li><a href="#dataset-2-matrix" id="toc-dataset-2-matrix" class="nav-link" data-scroll-target="#dataset-2-matrix">——-~~ DATASET 2: matrix ——–</a></li>
  <li>
<a href="#network-plots-in-igraph" id="toc-network-plots-in-igraph" class="nav-link" data-scroll-target="#network-plots-in-igraph">3. Network plots in ‘igraph’</a>
  <ul class="collapse">
<li><a href="#plot-parameters-in-igraph" id="toc-plot-parameters-in-igraph" class="nav-link" data-scroll-target="#plot-parameters-in-igraph">——~~ Plot parameters in igraph ——–</a></li>
  <li><a href="#network-layouts-in-igraph" id="toc-network-layouts-in-igraph" class="nav-link" data-scroll-target="#network-layouts-in-igraph">——-~~ Network Layouts in ‘igraph’ ——–</a></li>
  </ul>
</li>
  <li>
<a href="#highlighting-aspects-of-the-network" id="toc-highlighting-aspects-of-the-network" class="nav-link" data-scroll-target="#highlighting-aspects-of-the-network">——-~~ Highlighting aspects of the network ——–</a>
  <ul class="collapse">
<li><a href="#community-detection" id="toc-community-detection" class="nav-link" data-scroll-target="#community-detection">Community Detection</a></li>
  <li><a href="#highlighting-specific-nodes-or-links" id="toc-highlighting-specific-nodes-or-links" class="nav-link" data-scroll-target="#highlighting-specific-nodes-or-links">——-~~ Highlighting specific nodes or links ——–</a></li>
  <li><a href="#path-highlighting" id="toc-path-highlighting" class="nav-link" data-scroll-target="#path-highlighting">Path Highlighting</a></li>
  <li><a href="#highlight-neighbours" id="toc-highlight-neighbours" class="nav-link" data-scroll-target="#highlight-neighbours">Highlight Neighbours</a></li>
  <li><a href="#interactive-plotting-with-tkplot" id="toc-interactive-plotting-with-tkplot" class="nav-link" data-scroll-target="#interactive-plotting-with-tkplot">——-~~ Interactive plotting with ‘tkplot’ ——–</a></li>
  <li><a href="#other-ways-to-represent-a-network" id="toc-other-ways-to-represent-a-network" class="nav-link" data-scroll-target="#other-ways-to-represent-a-network">——-~~ Other ways to represent a network ——–</a></li>
  <li><a href="#plotting-two-mode-networks" id="toc-plotting-two-mode-networks" class="nav-link" data-scroll-target="#plotting-two-mode-networks">4. Plotting two-mode networks</a></li>
  <li><a href="#plotting-multiplex-networks" id="toc-plotting-multiplex-networks" class="nav-link" data-scroll-target="#plotting-multiplex-networks">5. Plotting multiplex networks</a></li>
  </ul>
</li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title">A Tidygraph version of a Popular Network Science Tutorial</h1>
  <div class="quarto-categories">
    <div class="quarto-category">R; Networks</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Arvind Venkatadri </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 16, 2021</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">Invalid Date</p>
    </div>
  </div>
    
  </div>
  


</header><section id="introduction" class="level2"><h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>This is an attempt to rework , using <code>tidygraph</code> and <code>ggraph</code>, much of <a href="https://www.kateto.net/polnet2018"><strong>Network Visualization with R</strong></a> Polnet 2018 Workshop Tutorial, Washington, DC by Prof.&nbsp;Katherine (Katya) Ognyanova.</p>
<p>The aim is to get a working acquaintance with both these packages and also to appreciate some of the concepts in Networks. My code is by no means intended to be elegant; it merely works and there are surely many improvements that people may think of!</p>
<p>I have attempted to write code for the Sections 2:5. I have retained Prof.&nbsp;Ognyanova’s text in all places.</p>
</section><section id="contents" class="level2"><h2 class="anchored" data-anchor-id="contents">CONTENTS</h2>
<ol type="1">
<li><del>Working with colors in R plots</del></li>
<li>Reading in the network data</li>
<li>Network plots in ‘igraph’</li>
<li>Plotting two-mode networks</li>
<li>Plotting multiplex networks</li>
<li><del>Quick example using ‘network’</del></li>
<li><del>Simple plot animations in R</del></li>
<li><del>Interactive JavaScript networks</del></li>
<li><del>Interactive and dynamic networks with ndtv-d3</del></li>
<li><del>Plotting networks on a geographic map</del></li>
</ol></section><section id="dataset-1-edgelist--" class="level2"><h2 class="anchored" data-anchor-id="dataset-1-edgelist--">——-~~ DATASET 1: edgelist ~~——-</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># Read in the data:</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>nodes <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"./Dataset1-Media-Example-NODES.csv"</span>, <span class="at">header =</span> T, <span class="at">as.is =</span> T)</span>
<span id="cb1-3"><a href="#cb1-3"></a>links <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"./Dataset1-Media-Example-EDGES.csv"</span>, <span class="at">header =</span> T, <span class="at">as.is =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># Examine the data:</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="fu">head</span>(nodes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["id"],"name":[1],"type":["chr"],"align":["left"]},{"label":["media"],"name":[2],"type":["chr"],"align":["left"]},{"label":["media.type"],"name":[3],"type":["int"],"align":["right"]},{"label":["type.label"],"name":[4],"type":["chr"],"align":["left"]},{"label":["audience.size"],"name":[5],"type":["int"],"align":["right"]}],"data":[{"1":"s01","2":"NY Times","3":"1","4":"Newspaper","5":"20","_rn_":"1"},{"1":"s02","2":"Washington Post","3":"1","4":"Newspaper","5":"25","_rn_":"2"},{"1":"s03","2":"Wall Street Journal","3":"1","4":"Newspaper","5":"30","_rn_":"3"},{"1":"s04","2":"USA Today","3":"1","4":"Newspaper","5":"32","_rn_":"4"},{"1":"s05","2":"LA Times","3":"1","4":"Newspaper","5":"20","_rn_":"5"},{"1":"s06","2":"New York Post","3":"1","4":"Newspaper","5":"50","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="sourceCode cell-code" id="cb3" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">head</span>(links)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["from"],"name":[1],"type":["chr"],"align":["left"]},{"label":["to"],"name":[2],"type":["chr"],"align":["left"]},{"label":["type"],"name":[3],"type":["chr"],"align":["left"]},{"label":["weight"],"name":[4],"type":["int"],"align":["right"]}],"data":[{"1":"s01","2":"s02","3":"hyperlink","4":"22","_rn_":"1"},{"1":"s01","2":"s03","3":"hyperlink","4":"22","_rn_":"2"},{"1":"s01","2":"s04","3":"hyperlink","4":"21","_rn_":"3"},{"1":"s01","2":"s15","3":"mention","4":"20","_rn_":"4"},{"1":"s02","2":"s01","3":"hyperlink","4":"23","_rn_":"5"},{"1":"s02","2":"s03","3":"hyperlink","4":"21","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<section id="converting-the-data-to-an-igraph-object" class="level3"><h3 class="anchored" data-anchor-id="converting-the-data-to-an-igraph-object">Converting the data to an igraph object:</h3>
<p>The <code>graph_from_data_frame()</code> function takes two data frames: ‘d’ and ‘vertices’. - ‘d’ describes the edges of the network - it should start with two columns containing the source and target node IDs for each network tie. - ‘vertices’ should start with a column of node IDs. It can be omitted. - Any additional columns in either data frame are interpreted as attributes.</p>
<p>NOTE: ID columns need not be numbers or integers!!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>net <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(<span class="at">d =</span> links, <span class="at">vertices =</span> nodes, <span class="at">directed =</span> T)</span>
<span id="cb4-2"><a href="#cb4-2"></a></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="co"># Examine the resulting object:</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="fu">class</span>(net)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>[1] "igraph"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>net</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>IGRAPH 57b939e DNW- 17 49 -- 
+ attr: name (v/c), media (v/c), media.type (v/n), type.label (v/c),
| audience.size (v/n), type (e/c), weight (e/n)
+ edges from 57b939e (vertex names):
 [1] s01-&gt;s02 s01-&gt;s03 s01-&gt;s04 s01-&gt;s15 s02-&gt;s01 s02-&gt;s03 s02-&gt;s09 s02-&gt;s10
 [9] s03-&gt;s01 s03-&gt;s04 s03-&gt;s05 s03-&gt;s08 s03-&gt;s10 s03-&gt;s11 s03-&gt;s12 s04-&gt;s03
[17] s04-&gt;s06 s04-&gt;s11 s04-&gt;s12 s04-&gt;s17 s05-&gt;s01 s05-&gt;s02 s05-&gt;s09 s05-&gt;s15
[25] s06-&gt;s06 s06-&gt;s16 s06-&gt;s17 s07-&gt;s03 s07-&gt;s08 s07-&gt;s10 s07-&gt;s14 s08-&gt;s03
[33] s08-&gt;s07 s08-&gt;s09 s09-&gt;s10 s10-&gt;s03 s12-&gt;s06 s12-&gt;s13 s12-&gt;s14 s13-&gt;s12
[41] s13-&gt;s17 s14-&gt;s11 s14-&gt;s13 s15-&gt;s01 s15-&gt;s04 s15-&gt;s06 s16-&gt;s06 s16-&gt;s17
[49] s17-&gt;s04</code></pre>
</div>
</div>
<p>The description of an <code>igraph</code> object starts with four letters:<br>
- D or U, for a directed or undirected graph - N for a named graph (where nodes have a <code>name</code> attribute) - W for a weighted graph (where edges have a <code>weight</code> attribute) -B for a bipartite (two-mode) graph (where nodes have a <code>type</code> attribute) The two numbers that follow (17 49) refer to the <strong>number of nodes</strong> and <strong>edges</strong> in the graph. The description also lists node &amp; edge attributes.</p>
<p>We can access the nodes, edges, and their attributes:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">E</span>(net)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>+ 49/49 edges from 57b939e (vertex names):
 [1] s01-&gt;s02 s01-&gt;s03 s01-&gt;s04 s01-&gt;s15 s02-&gt;s01 s02-&gt;s03 s02-&gt;s09 s02-&gt;s10
 [9] s03-&gt;s01 s03-&gt;s04 s03-&gt;s05 s03-&gt;s08 s03-&gt;s10 s03-&gt;s11 s03-&gt;s12 s04-&gt;s03
[17] s04-&gt;s06 s04-&gt;s11 s04-&gt;s12 s04-&gt;s17 s05-&gt;s01 s05-&gt;s02 s05-&gt;s09 s05-&gt;s15
[25] s06-&gt;s06 s06-&gt;s16 s06-&gt;s17 s07-&gt;s03 s07-&gt;s08 s07-&gt;s10 s07-&gt;s14 s08-&gt;s03
[33] s08-&gt;s07 s08-&gt;s09 s09-&gt;s10 s10-&gt;s03 s12-&gt;s06 s12-&gt;s13 s12-&gt;s14 s13-&gt;s12
[41] s13-&gt;s17 s14-&gt;s11 s14-&gt;s13 s15-&gt;s01 s15-&gt;s04 s15-&gt;s06 s16-&gt;s06 s16-&gt;s17
[49] s17-&gt;s04</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">V</span>(net)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>+ 17/17 vertices, named, from 57b939e:
 [1] s01 s02 s03 s04 s05 s06 s07 s08 s09 s10 s11 s12 s13 s14 s15 s16 s17</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">E</span>(net)<span class="sc">$</span>type</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code> [1] "hyperlink" "hyperlink" "hyperlink" "mention"   "hyperlink" "hyperlink"
 [7] "hyperlink" "hyperlink" "hyperlink" "hyperlink" "hyperlink" "hyperlink"
[13] "mention"   "hyperlink" "hyperlink" "hyperlink" "mention"   "mention"  
[19] "hyperlink" "mention"   "mention"   "hyperlink" "hyperlink" "mention"  
[25] "hyperlink" "hyperlink" "mention"   "mention"   "mention"   "hyperlink"
[31] "mention"   "hyperlink" "mention"   "mention"   "mention"   "hyperlink"
[37] "mention"   "hyperlink" "mention"   "hyperlink" "mention"   "mention"  
[43] "mention"   "hyperlink" "hyperlink" "hyperlink" "hyperlink" "mention"  
[49] "hyperlink"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">V</span>(net)<span class="sc">$</span>media</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code> [1] "NY Times"            "Washington Post"     "Wall Street Journal"
 [4] "USA Today"           "LA Times"            "New York Post"      
 [7] "CNN"                 "MSNBC"               "FOX News"           
[10] "ABC"                 "BBC"                 "Yahoo News"         
[13] "Google News"         "Reuters.com"         "NYTimes.com"        
[16] "WashingtonPost.com"  "AOL.com"            </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb16" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="fu">tbl_graph</span>(nodes, links, <span class="at">directed =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-3"><a href="#cb16-3"></a>  <span class="fu">activate</span>(edges) <span class="sc">%&gt;%</span> </span>
<span id="cb16-4"><a href="#cb16-4"></a>  <span class="fu">select</span>(type)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code># A tbl_graph: 17 nodes and 49 edges
#
# A directed multigraph with 1 component
#
# Edge Data: 49 × 3 (active)
    from    to type     
   &lt;int&gt; &lt;int&gt; &lt;chr&gt;    
 1     1     2 hyperlink
 2     1     3 hyperlink
 3     1     4 hyperlink
 4     1    15 mention  
 5     2     1 hyperlink
 6     2     3 hyperlink
 7     2     9 hyperlink
 8     2    10 hyperlink
 9     3     1 hyperlink
10     3     4 hyperlink
# ℹ 39 more rows
#
# Node Data: 17 × 5
  id    media               media.type type.label audience.size
  &lt;chr&gt; &lt;chr&gt;                    &lt;int&gt; &lt;chr&gt;              &lt;int&gt;
1 s01   NY Times                     1 Newspaper             20
2 s02   Washington Post              1 Newspaper             25
3 s03   Wall Street Journal          1 Newspaper             30
# ℹ 14 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="fu">tbl_graph</span>(nodes, links, <span class="at">directed =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="#cb18-2"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span> </span>
<span id="cb18-3"><a href="#cb18-3"></a>  <span class="fu">select</span>(media)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code># A tbl_graph: 17 nodes and 49 edges
#
# A directed multigraph with 1 component
#
# Node Data: 17 × 1 (active)
   media              
   &lt;chr&gt;              
 1 NY Times           
 2 Washington Post    
 3 Wall Street Journal
 4 USA Today          
 5 LA Times           
 6 New York Post      
 7 CNN                
 8 MSNBC              
 9 FOX News           
10 ABC                
11 BBC                
12 Yahoo News         
13 Google News        
14 Reuters.com        
15 NYTimes.com        
16 WashingtonPost.com 
17 AOL.com            
#
# Edge Data: 49 × 4
   from    to type      weight
  &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;int&gt;
1     1     2 hyperlink     22
2     1     3 hyperlink     22
3     1     4 hyperlink     21
# ℹ 46 more rows</code></pre>
</div>
</div>
<p>Or find specific nodes and edges by attribute:(that returns objects of type vertex sequence / edge sequence)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="fu">V</span>(net)[media <span class="sc">==</span> <span class="st">"BBC"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>+ 1/17 vertex, named, from 57b939e:
[1] s11</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="fu">E</span>(net)[type <span class="sc">==</span> <span class="st">"mention"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>+ 20/49 edges from 57b939e (vertex names):
 [1] s01-&gt;s15 s03-&gt;s10 s04-&gt;s06 s04-&gt;s11 s04-&gt;s17 s05-&gt;s01 s05-&gt;s15 s06-&gt;s17
 [9] s07-&gt;s03 s07-&gt;s08 s07-&gt;s14 s08-&gt;s07 s08-&gt;s09 s09-&gt;s10 s12-&gt;s06 s12-&gt;s14
[17] s13-&gt;s17 s14-&gt;s11 s14-&gt;s13 s16-&gt;s17</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb24" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="co">#Using tidygraph</span></span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="fu">tbl_graph</span>(nodes, links, <span class="at">directed =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb24-3"><a href="#cb24-3"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span> </span>
<span id="cb24-4"><a href="#cb24-4"></a>  <span class="fu">filter</span>(media <span class="sc">==</span> <span class="st">"BBC"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code># A tbl_graph: 1 nodes and 0 edges
#
# A rooted tree
#
# Node Data: 1 × 5 (active)
  id    media media.type type.label audience.size
  &lt;chr&gt; &lt;chr&gt;      &lt;int&gt; &lt;chr&gt;              &lt;int&gt;
1 s11   BBC            2 TV                    34
#
# Edge Data: 0 × 4
# ℹ 4 variables: from &lt;int&gt;, to &lt;int&gt;, type &lt;chr&gt;, weight &lt;int&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="fu">tbl_graph</span>(nodes, links, <span class="at">directed =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb26-2"><a href="#cb26-2"></a>  <span class="fu">activate</span>(edges) <span class="sc">%&gt;%</span> </span>
<span id="cb26-3"><a href="#cb26-3"></a>  <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">"mention"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code># A tbl_graph: 17 nodes and 20 edges
#
# A directed simple graph with 3 components
#
# Edge Data: 20 × 4 (active)
    from    to type    weight
   &lt;int&gt; &lt;int&gt; &lt;chr&gt;    &lt;int&gt;
 1     1    15 mention     20
 2     3    10 mention      2
 3     4     6 mention      1
 4     4    11 mention     22
 5     4    17 mention      2
 6     5     1 mention      1
 7     5    15 mention     21
 8     6    17 mention     21
 9     7     3 mention      1
10     7     8 mention     22
11     7    14 mention      4
12     8     7 mention     21
13     8     9 mention     23
14     9    10 mention     21
15    12     6 mention      2
16    12    14 mention     22
17    13    17 mention      1
18    14    11 mention      1
19    14    13 mention     21
20    16    17 mention     21
#
# Node Data: 17 × 5
  id    media               media.type type.label audience.size
  &lt;chr&gt; &lt;chr&gt;                    &lt;int&gt; &lt;chr&gt;              &lt;int&gt;
1 s01   NY Times                     1 Newspaper             20
2 s02   Washington Post              1 Newspaper             25
3 s03   Wall Street Journal          1 Newspaper             30
# ℹ 14 more rows</code></pre>
</div>
</div>
<p>If you need them, you can extract an edge list or a matrix back from the igraph networks.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="fu">as_edgelist</span>(net, <span class="at">names =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>      [,1]  [,2] 
 [1,] "s01" "s02"
 [2,] "s01" "s03"
 [3,] "s01" "s04"
 [4,] "s01" "s15"
 [5,] "s02" "s01"
 [6,] "s02" "s03"
 [7,] "s02" "s09"
 [8,] "s02" "s10"
 [9,] "s03" "s01"
[10,] "s03" "s04"
[11,] "s03" "s05"
[12,] "s03" "s08"
[13,] "s03" "s10"
[14,] "s03" "s11"
[15,] "s03" "s12"
[16,] "s04" "s03"
[17,] "s04" "s06"
[18,] "s04" "s11"
[19,] "s04" "s12"
[20,] "s04" "s17"
[21,] "s05" "s01"
[22,] "s05" "s02"
[23,] "s05" "s09"
[24,] "s05" "s15"
[25,] "s06" "s06"
[26,] "s06" "s16"
[27,] "s06" "s17"
[28,] "s07" "s03"
[29,] "s07" "s08"
[30,] "s07" "s10"
[31,] "s07" "s14"
[32,] "s08" "s03"
[33,] "s08" "s07"
[34,] "s08" "s09"
[35,] "s09" "s10"
[36,] "s10" "s03"
[37,] "s12" "s06"
[38,] "s12" "s13"
[39,] "s12" "s14"
[40,] "s13" "s12"
[41,] "s13" "s17"
[42,] "s14" "s11"
[43,] "s14" "s13"
[44,] "s15" "s01"
[45,] "s15" "s04"
[46,] "s15" "s06"
[47,] "s16" "s06"
[48,] "s16" "s17"
[49,] "s17" "s04"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="fu">as_adjacency_matrix</span>(net, <span class="at">attr =</span> <span class="st">"weight"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>17 x 17 sparse Matrix of class "dgCMatrix"
                                                     
s01  . 22 22 21 .  .  .  .  .  .  .  .  .  . 20  .  .
s02 23  . 21  . .  .  .  .  1  5  .  .  .  .  .  .  .
s03 21  .  . 22 1  .  .  4  .  2  1  1  .  .  .  .  .
s04  .  . 23  . .  1  .  .  .  . 22  3  .  .  .  .  2
s05  1 21  .  . .  .  .  .  2  .  .  .  .  . 21  .  .
s06  .  .  .  . .  1  .  .  .  .  .  .  .  .  . 21 21
s07  .  .  1  . .  .  . 22  . 21  .  .  .  4  .  .  .
s08  .  .  2  . .  . 21  . 23  .  .  .  .  .  .  .  .
s09  .  .  .  . .  .  .  .  . 21  .  .  .  .  .  .  .
s10  .  .  2  . .  .  .  .  .  .  .  .  .  .  .  .  .
s11  .  .  .  . .  .  .  .  .  .  .  .  .  .  .  .  .
s12  .  .  .  . .  2  .  .  .  .  .  . 22 22  .  .  .
s13  .  .  .  . .  .  .  .  .  .  . 21  .  .  .  .  1
s14  .  .  .  . .  .  .  .  .  .  1  . 21  .  .  .  .
s15 22  .  .  1 .  4  .  .  .  .  .  .  .  .  .  .  .
s16  .  .  .  . . 23  .  .  .  .  .  .  .  .  .  . 21
s17  .  .  .  4 .  .  .  .  .  .  .  .  .  .  .  .  .</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb32-2"><a href="#cb32-2"></a><span class="co"># No direct command seems available ...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb33" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="co"># Or data frames describing nodes and edges:</span></span>
<span id="cb33-2"><a href="#cb33-2"></a>igraph<span class="sc">::</span><span class="fu">as_data_frame</span>(<span class="at">x =</span> net, <span class="at">what =</span> <span class="st">"edges"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["from"],"name":[1],"type":["chr"],"align":["left"]},{"label":["to"],"name":[2],"type":["chr"],"align":["left"]},{"label":["type"],"name":[3],"type":["chr"],"align":["left"]},{"label":["weight"],"name":[4],"type":["int"],"align":["right"]}],"data":[{"1":"s01","2":"s02","3":"hyperlink","4":"22","_rn_":"1"},{"1":"s01","2":"s03","3":"hyperlink","4":"22","_rn_":"2"},{"1":"s01","2":"s04","3":"hyperlink","4":"21","_rn_":"3"},{"1":"s01","2":"s15","3":"mention","4":"20","_rn_":"4"},{"1":"s02","2":"s01","3":"hyperlink","4":"23","_rn_":"5"},{"1":"s02","2":"s03","3":"hyperlink","4":"21","_rn_":"6"},{"1":"s02","2":"s09","3":"hyperlink","4":"1","_rn_":"7"},{"1":"s02","2":"s10","3":"hyperlink","4":"5","_rn_":"8"},{"1":"s03","2":"s01","3":"hyperlink","4":"21","_rn_":"9"},{"1":"s03","2":"s04","3":"hyperlink","4":"22","_rn_":"10"},{"1":"s03","2":"s05","3":"hyperlink","4":"1","_rn_":"11"},{"1":"s03","2":"s08","3":"hyperlink","4":"4","_rn_":"12"},{"1":"s03","2":"s10","3":"mention","4":"2","_rn_":"13"},{"1":"s03","2":"s11","3":"hyperlink","4":"1","_rn_":"14"},{"1":"s03","2":"s12","3":"hyperlink","4":"1","_rn_":"15"},{"1":"s04","2":"s03","3":"hyperlink","4":"23","_rn_":"16"},{"1":"s04","2":"s06","3":"mention","4":"1","_rn_":"17"},{"1":"s04","2":"s11","3":"mention","4":"22","_rn_":"18"},{"1":"s04","2":"s12","3":"hyperlink","4":"3","_rn_":"19"},{"1":"s04","2":"s17","3":"mention","4":"2","_rn_":"20"},{"1":"s05","2":"s01","3":"mention","4":"1","_rn_":"21"},{"1":"s05","2":"s02","3":"hyperlink","4":"21","_rn_":"22"},{"1":"s05","2":"s09","3":"hyperlink","4":"2","_rn_":"23"},{"1":"s05","2":"s15","3":"mention","4":"21","_rn_":"24"},{"1":"s06","2":"s06","3":"hyperlink","4":"1","_rn_":"25"},{"1":"s06","2":"s16","3":"hyperlink","4":"21","_rn_":"26"},{"1":"s06","2":"s17","3":"mention","4":"21","_rn_":"27"},{"1":"s07","2":"s03","3":"mention","4":"1","_rn_":"28"},{"1":"s07","2":"s08","3":"mention","4":"22","_rn_":"29"},{"1":"s07","2":"s10","3":"hyperlink","4":"21","_rn_":"30"},{"1":"s07","2":"s14","3":"mention","4":"4","_rn_":"31"},{"1":"s08","2":"s03","3":"hyperlink","4":"2","_rn_":"32"},{"1":"s08","2":"s07","3":"mention","4":"21","_rn_":"33"},{"1":"s08","2":"s09","3":"mention","4":"23","_rn_":"34"},{"1":"s09","2":"s10","3":"mention","4":"21","_rn_":"35"},{"1":"s10","2":"s03","3":"hyperlink","4":"2","_rn_":"36"},{"1":"s12","2":"s06","3":"mention","4":"2","_rn_":"37"},{"1":"s12","2":"s13","3":"hyperlink","4":"22","_rn_":"38"},{"1":"s12","2":"s14","3":"mention","4":"22","_rn_":"39"},{"1":"s13","2":"s12","3":"hyperlink","4":"21","_rn_":"40"},{"1":"s13","2":"s17","3":"mention","4":"1","_rn_":"41"},{"1":"s14","2":"s11","3":"mention","4":"1","_rn_":"42"},{"1":"s14","2":"s13","3":"mention","4":"21","_rn_":"43"},{"1":"s15","2":"s01","3":"hyperlink","4":"22","_rn_":"44"},{"1":"s15","2":"s04","3":"hyperlink","4":"1","_rn_":"45"},{"1":"s15","2":"s06","3":"hyperlink","4":"4","_rn_":"46"},{"1":"s16","2":"s06","3":"hyperlink","4":"23","_rn_":"47"},{"1":"s16","2":"s17","3":"mention","4":"21","_rn_":"48"},{"1":"s17","2":"s04","3":"hyperlink","4":"4","_rn_":"49"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="sourceCode cell-code" id="cb34" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a>igraph<span class="sc">::</span><span class="fu">as_data_frame</span>(<span class="at">x =</span> net, <span class="at">what =</span> <span class="st">"vertices"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["media"],"name":[2],"type":["chr"],"align":["left"]},{"label":["media.type"],"name":[3],"type":["int"],"align":["right"]},{"label":["type.label"],"name":[4],"type":["chr"],"align":["left"]},{"label":["audience.size"],"name":[5],"type":["int"],"align":["right"]}],"data":[{"1":"s01","2":"NY Times","3":"1","4":"Newspaper","5":"20","_rn_":"s01"},{"1":"s02","2":"Washington Post","3":"1","4":"Newspaper","5":"25","_rn_":"s02"},{"1":"s03","2":"Wall Street Journal","3":"1","4":"Newspaper","5":"30","_rn_":"s03"},{"1":"s04","2":"USA Today","3":"1","4":"Newspaper","5":"32","_rn_":"s04"},{"1":"s05","2":"LA Times","3":"1","4":"Newspaper","5":"20","_rn_":"s05"},{"1":"s06","2":"New York Post","3":"1","4":"Newspaper","5":"50","_rn_":"s06"},{"1":"s07","2":"CNN","3":"2","4":"TV","5":"56","_rn_":"s07"},{"1":"s08","2":"MSNBC","3":"2","4":"TV","5":"34","_rn_":"s08"},{"1":"s09","2":"FOX News","3":"2","4":"TV","5":"60","_rn_":"s09"},{"1":"s10","2":"ABC","3":"2","4":"TV","5":"23","_rn_":"s10"},{"1":"s11","2":"BBC","3":"2","4":"TV","5":"34","_rn_":"s11"},{"1":"s12","2":"Yahoo News","3":"3","4":"Online","5":"33","_rn_":"s12"},{"1":"s13","2":"Google News","3":"3","4":"Online","5":"23","_rn_":"s13"},{"1":"s14","2":"Reuters.com","3":"3","4":"Online","5":"12","_rn_":"s14"},{"1":"s15","2":"NYTimes.com","3":"3","4":"Online","5":"24","_rn_":"s15"},{"1":"s16","2":"WashingtonPost.com","3":"3","4":"Online","5":"28","_rn_":"s16"},{"1":"s17","2":"AOL.com","3":"3","4":"Online","5":"33","_rn_":"s17"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="sourceCode cell-code" id="cb35" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="co">#Using tidygraph</span></span>
<span id="cb35-2"><a href="#cb35-2"></a><span class="fu">tbl_graph</span>(nodes, links, <span class="at">directed =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb35-3"><a href="#cb35-3"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span> </span>
<span id="cb35-4"><a href="#cb35-4"></a>  <span class="fu">as_tibble</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["id"],"name":[1],"type":["chr"],"align":["left"]},{"label":["media"],"name":[2],"type":["chr"],"align":["left"]},{"label":["media.type"],"name":[3],"type":["int"],"align":["right"]},{"label":["type.label"],"name":[4],"type":["chr"],"align":["left"]},{"label":["audience.size"],"name":[5],"type":["int"],"align":["right"]}],"data":[{"1":"s01","2":"NY Times","3":"1","4":"Newspaper","5":"20"},{"1":"s02","2":"Washington Post","3":"1","4":"Newspaper","5":"25"},{"1":"s03","2":"Wall Street Journal","3":"1","4":"Newspaper","5":"30"},{"1":"s04","2":"USA Today","3":"1","4":"Newspaper","5":"32"},{"1":"s05","2":"LA Times","3":"1","4":"Newspaper","5":"20"},{"1":"s06","2":"New York Post","3":"1","4":"Newspaper","5":"50"},{"1":"s07","2":"CNN","3":"2","4":"TV","5":"56"},{"1":"s08","2":"MSNBC","3":"2","4":"TV","5":"34"},{"1":"s09","2":"FOX News","3":"2","4":"TV","5":"60"},{"1":"s10","2":"ABC","3":"2","4":"TV","5":"23"},{"1":"s11","2":"BBC","3":"2","4":"TV","5":"34"},{"1":"s12","2":"Yahoo News","3":"3","4":"Online","5":"33"},{"1":"s13","2":"Google News","3":"3","4":"Online","5":"23"},{"1":"s14","2":"Reuters.com","3":"3","4":"Online","5":"12"},{"1":"s15","2":"NYTimes.com","3":"3","4":"Online","5":"24"},{"1":"s16","2":"WashingtonPost.com","3":"3","4":"Online","5":"28"},{"1":"s17","2":"AOL.com","3":"3","4":"Online","5":"33"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="sourceCode cell-code" id="cb36" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="fu">tbl_graph</span>(nodes, links, <span class="at">directed =</span> <span class="cn">TRUE</span>)<span class="sc">%&gt;%</span> </span>
<span id="cb36-2"><a href="#cb36-2"></a>  <span class="fu">activate</span>(edges) <span class="sc">%&gt;%</span> </span>
<span id="cb36-3"><a href="#cb36-3"></a>  <span class="fu">as_tibble</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["from"],"name":[1],"type":["int"],"align":["right"]},{"label":["to"],"name":[2],"type":["int"],"align":["right"]},{"label":["type"],"name":[3],"type":["chr"],"align":["left"]},{"label":["weight"],"name":[4],"type":["int"],"align":["right"]}],"data":[{"1":"1","2":"2","3":"hyperlink","4":"22"},{"1":"1","2":"3","3":"hyperlink","4":"22"},{"1":"1","2":"4","3":"hyperlink","4":"21"},{"1":"1","2":"15","3":"mention","4":"20"},{"1":"2","2":"1","3":"hyperlink","4":"23"},{"1":"2","2":"3","3":"hyperlink","4":"21"},{"1":"2","2":"9","3":"hyperlink","4":"1"},{"1":"2","2":"10","3":"hyperlink","4":"5"},{"1":"3","2":"1","3":"hyperlink","4":"21"},{"1":"3","2":"4","3":"hyperlink","4":"22"},{"1":"3","2":"5","3":"hyperlink","4":"1"},{"1":"3","2":"8","3":"hyperlink","4":"4"},{"1":"3","2":"10","3":"mention","4":"2"},{"1":"3","2":"11","3":"hyperlink","4":"1"},{"1":"3","2":"12","3":"hyperlink","4":"1"},{"1":"4","2":"3","3":"hyperlink","4":"23"},{"1":"4","2":"6","3":"mention","4":"1"},{"1":"4","2":"11","3":"mention","4":"22"},{"1":"4","2":"12","3":"hyperlink","4":"3"},{"1":"4","2":"17","3":"mention","4":"2"},{"1":"5","2":"1","3":"mention","4":"1"},{"1":"5","2":"2","3":"hyperlink","4":"21"},{"1":"5","2":"9","3":"hyperlink","4":"2"},{"1":"5","2":"15","3":"mention","4":"21"},{"1":"6","2":"6","3":"hyperlink","4":"1"},{"1":"6","2":"16","3":"hyperlink","4":"21"},{"1":"6","2":"17","3":"mention","4":"21"},{"1":"7","2":"3","3":"mention","4":"1"},{"1":"7","2":"8","3":"mention","4":"22"},{"1":"7","2":"10","3":"hyperlink","4":"21"},{"1":"7","2":"14","3":"mention","4":"4"},{"1":"8","2":"3","3":"hyperlink","4":"2"},{"1":"8","2":"7","3":"mention","4":"21"},{"1":"8","2":"9","3":"mention","4":"23"},{"1":"9","2":"10","3":"mention","4":"21"},{"1":"10","2":"3","3":"hyperlink","4":"2"},{"1":"12","2":"6","3":"mention","4":"2"},{"1":"12","2":"13","3":"hyperlink","4":"22"},{"1":"12","2":"14","3":"mention","4":"22"},{"1":"13","2":"12","3":"hyperlink","4":"21"},{"1":"13","2":"17","3":"mention","4":"1"},{"1":"14","2":"11","3":"mention","4":"1"},{"1":"14","2":"13","3":"mention","4":"21"},{"1":"15","2":"1","3":"hyperlink","4":"22"},{"1":"15","2":"4","3":"hyperlink","4":"1"},{"1":"15","2":"6","3":"hyperlink","4":"4"},{"1":"16","2":"6","3":"hyperlink","4":"23"},{"1":"16","2":"17","3":"mention","4":"21"},{"1":"17","2":"4","3":"hyperlink","4":"4"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="co"># You can also access the network matrix directly:</span></span>
<span id="cb37-2"><a href="#cb37-2"></a>net[<span class="dv">1</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>s01 s02 s03 s04 s05 s06 s07 s08 s09 s10 s11 s12 s13 s14 s15 s16 s17 
  0  22  22  21   0   0   0   0   0   0   0   0   0   0  20   0   0 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb39" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>net[<span class="dv">5</span>,<span class="dv">7</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>[1] 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb41-2"><a href="#cb41-2"></a><span class="co"># Does not seem possible, even with `as.matrix()`.</span></span>
<span id="cb41-3"><a href="#cb41-3"></a><span class="co"># Returns tibbles only as in the code chunk above</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb42" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a><span class="co"># First attempt to plot the graph:</span></span>
<span id="cb42-2"><a href="#cb42-2"></a><span class="fu">plot</span>(net) <span class="co"># not pretty!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-11-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="index_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb43" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="co"># Removing loops from the graph:</span></span>
<span id="cb43-2"><a href="#cb43-2"></a>net <span class="ot">&lt;-</span></span>
<span id="cb43-3"><a href="#cb43-3"></a>  igraph<span class="sc">::</span><span class="fu">simplify</span>(net, <span class="at">remove.multiple =</span> F, <span class="at">remove.loops =</span> T)</span>
<span id="cb43-4"><a href="#cb43-4"></a></span>
<span id="cb43-5"><a href="#cb43-5"></a><span class="co"># Let's and reduce the arrow size and remove the labels:</span></span>
<span id="cb43-6"><a href="#cb43-6"></a><span class="fu">plot</span>(net, <span class="at">edge.arrow.size =</span> .<span class="dv">4</span>, <span class="at">vertex.label =</span> <span class="cn">NA</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-11-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="index_files/figure-html/unnamed-chunk-11-2.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb44" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb44-2"><a href="#cb44-2"></a><span class="fu">tbl_graph</span>(nodes, links, <span class="at">directed =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb44-3"><a href="#cb44-3"></a>  <span class="fu">ggraph</span>(., <span class="at">layout =</span> <span class="st">"graphopt"</span>) <span class="sc">+</span></span>
<span id="cb44-4"><a href="#cb44-4"></a>  <span class="fu">geom_edge_link</span>(</span>
<span id="cb44-5"><a href="#cb44-5"></a>    <span class="at">color =</span> <span class="st">"grey"</span>,</span>
<span id="cb44-6"><a href="#cb44-6"></a>    <span class="at">end_cap =</span> <span class="fu">circle</span>(<span class="fl">0.2</span>, <span class="st">"cm"</span>),</span>
<span id="cb44-7"><a href="#cb44-7"></a>    <span class="at">start_cap =</span> <span class="fu">circle</span>(<span class="fl">0.2</span>, <span class="st">"cm"</span>),</span>
<span id="cb44-8"><a href="#cb44-8"></a>    <span class="co"># clears an area near the node</span></span>
<span id="cb44-9"><a href="#cb44-9"></a>    </span>
<span id="cb44-10"><a href="#cb44-10"></a>    <span class="at">arrow =</span> <span class="fu">arrow</span>(</span>
<span id="cb44-11"><a href="#cb44-11"></a>      <span class="at">type =</span> <span class="st">"closed"</span>,</span>
<span id="cb44-12"><a href="#cb44-12"></a>      <span class="at">ends =</span> <span class="st">"last"</span>,</span>
<span id="cb44-13"><a href="#cb44-13"></a>      <span class="at">length =</span> <span class="fu">unit</span>(<span class="dv">3</span>, <span class="st">"mm"</span>)</span>
<span id="cb44-14"><a href="#cb44-14"></a>    )</span>
<span id="cb44-15"><a href="#cb44-15"></a>  ) <span class="sc">+</span></span>
<span id="cb44-16"><a href="#cb44-16"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">8</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">"orange"</span>) <span class="sc">+</span></span>
<span id="cb44-17"><a href="#cb44-17"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> id), <span class="at">size =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-12-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="index_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb45" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a><span class="co"># Removing loops from the graph:</span></span>
<span id="cb45-2"><a href="#cb45-2"></a><span class="co"># From the docs:</span></span>
<span id="cb45-3"><a href="#cb45-3"></a><span class="co"># convert() is a shorthand for performing both `morph` and `crystallise` along with extracting a single tbl_graph (defaults to the first). For morphs w(h)ere you know they only create a single graph, and you want to keep it, this is an easy way.</span></span>
<span id="cb45-4"><a href="#cb45-4"></a><span class="co">#</span></span>
<span id="cb45-5"><a href="#cb45-5"></a><span class="fu">tbl_graph</span>(nodes, links, <span class="at">directed =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb45-6"><a href="#cb45-6"></a></span>
<span id="cb45-7"><a href="#cb45-7"></a>  <span class="fu">convert</span>(to_simple) <span class="sc">%&gt;%</span></span>
<span id="cb45-8"><a href="#cb45-8"></a>  <span class="fu">ggraph</span>(., <span class="at">layout =</span> <span class="st">"graphopt"</span>) <span class="sc">+</span></span>
<span id="cb45-9"><a href="#cb45-9"></a>  <span class="fu">geom_edge_link</span>(</span>
<span id="cb45-10"><a href="#cb45-10"></a>    <span class="at">color =</span> <span class="st">"grey"</span>,</span>
<span id="cb45-11"><a href="#cb45-11"></a>    <span class="at">end_cap =</span> <span class="fu">circle</span>(<span class="fl">0.2</span>, <span class="st">"cm"</span>),</span>
<span id="cb45-12"><a href="#cb45-12"></a>    <span class="at">start_cap =</span> <span class="fu">circle</span>(<span class="fl">0.2</span>, <span class="st">"cm"</span>),</span>
<span id="cb45-13"><a href="#cb45-13"></a> </span>
<span id="cb45-14"><a href="#cb45-14"></a>    <span class="at">arrow =</span> <span class="fu">arrow</span>(</span>
<span id="cb45-15"><a href="#cb45-15"></a>      <span class="at">type =</span> <span class="st">"closed"</span>,</span>
<span id="cb45-16"><a href="#cb45-16"></a>      <span class="at">ends =</span> <span class="st">"last"</span>,</span>
<span id="cb45-17"><a href="#cb45-17"></a>      <span class="at">length =</span> <span class="fu">unit</span>(<span class="dv">3</span>, <span class="st">"mm"</span>)</span>
<span id="cb45-18"><a href="#cb45-18"></a>    )</span>
<span id="cb45-19"><a href="#cb45-19"></a>  ) <span class="sc">+</span></span>
<span id="cb45-20"><a href="#cb45-20"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">6</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">"orange"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-12-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="index_files/figure-html/unnamed-chunk-12-2.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
</section></section><section id="dataset-2-matrix" class="level2"><h2 class="anchored" data-anchor-id="dataset-2-matrix">——-~~ DATASET 2: matrix ——–</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb46" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a><span class="co"># Read in the data:</span></span>
<span id="cb46-2"><a href="#cb46-2"></a>nodes2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"./Dataset2-Media-User-Example-NODES.csv"</span>, <span class="at">header =</span> T, <span class="at">as.is =</span> T)</span>
<span id="cb46-3"><a href="#cb46-3"></a>links2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"./Dataset2-Media-User-Example-EDGES.csv"</span>, <span class="at">header =</span> T, <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb46-4"><a href="#cb46-4"></a></span>
<span id="cb46-5"><a href="#cb46-5"></a><span class="co"># Examine the data:</span></span>
<span id="cb46-6"><a href="#cb46-6"></a><span class="fu">head</span>(nodes2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["id"],"name":[1],"type":["chr"],"align":["left"]},{"label":["media"],"name":[2],"type":["chr"],"align":["left"]},{"label":["media.type"],"name":[3],"type":["int"],"align":["right"]},{"label":["media.name"],"name":[4],"type":["chr"],"align":["left"]},{"label":["audience.size"],"name":[5],"type":["int"],"align":["right"]}],"data":[{"1":"s01","2":"NYT","3":"1","4":"Newspaper","5":"20","_rn_":"1"},{"1":"s02","2":"WaPo","3":"1","4":"Newspaper","5":"25","_rn_":"2"},{"1":"s03","2":"WSJ","3":"1","4":"Newspaper","5":"30","_rn_":"3"},{"1":"s04","2":"USAT","3":"1","4":"Newspaper","5":"32","_rn_":"4"},{"1":"s05","2":"LATimes","3":"1","4":"Newspaper","5":"20","_rn_":"5"},{"1":"s06","2":"CNN","3":"2","4":"TV","5":"56","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="sourceCode cell-code" id="cb47" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a><span class="fu">head</span>(links2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["U01"],"name":[1],"type":["int"],"align":["right"]},{"label":["U02"],"name":[2],"type":["int"],"align":["right"]},{"label":["U03"],"name":[3],"type":["int"],"align":["right"]},{"label":["U04"],"name":[4],"type":["int"],"align":["right"]},{"label":["U05"],"name":[5],"type":["int"],"align":["right"]},{"label":["U06"],"name":[6],"type":["int"],"align":["right"]},{"label":["U07"],"name":[7],"type":["int"],"align":["right"]},{"label":["U08"],"name":[8],"type":["int"],"align":["right"]},{"label":["U09"],"name":[9],"type":["int"],"align":["right"]},{"label":["U10"],"name":[10],"type":["int"],"align":["right"]},{"label":["U11"],"name":[11],"type":["int"],"align":["right"]},{"label":["U12"],"name":[12],"type":["int"],"align":["right"]},{"label":["U13"],"name":[13],"type":["int"],"align":["right"]},{"label":["U14"],"name":[14],"type":["int"],"align":["right"]},{"label":["U15"],"name":[15],"type":["int"],"align":["right"]},{"label":["U16"],"name":[16],"type":["int"],"align":["right"]},{"label":["U17"],"name":[17],"type":["int"],"align":["right"]},{"label":["U18"],"name":[18],"type":["int"],"align":["right"]},{"label":["U19"],"name":[19],"type":["int"],"align":["right"]},{"label":["U20"],"name":[20],"type":["int"],"align":["right"]}],"data":[{"1":"1","2":"1","3":"1","4":"0","5":"0","6":"0","7":"0","8":"0","9":"0","10":"0","11":"0","12":"0","13":"0","14":"0","15":"0","16":"0","17":"0","18":"0","19":"0","20":"0","_rn_":"s01"},{"1":"0","2":"0","3":"0","4":"1","5":"1","6":"0","7":"0","8":"0","9":"0","10":"0","11":"0","12":"0","13":"0","14":"0","15":"0","16":"0","17":"0","18":"0","19":"0","20":"1","_rn_":"s02"},{"1":"0","2":"0","3":"0","4":"0","5":"0","6":"1","7":"1","8":"1","9":"1","10":"0","11":"0","12":"0","13":"0","14":"0","15":"0","16":"0","17":"0","18":"0","19":"0","20":"0","_rn_":"s03"},{"1":"0","2":"0","3":"0","4":"0","5":"0","6":"0","7":"0","8":"0","9":"1","10":"1","11":"1","12":"0","13":"0","14":"0","15":"0","16":"0","17":"0","18":"0","19":"0","20":"0","_rn_":"s04"},{"1":"0","2":"0","3":"0","4":"0","5":"0","6":"0","7":"0","8":"0","9":"0","10":"0","11":"1","12":"1","13":"1","14":"0","15":"0","16":"0","17":"0","18":"0","19":"0","20":"0","_rn_":"s05"},{"1":"0","2":"0","3":"0","4":"0","5":"0","6":"0","7":"0","8":"0","9":"0","10":"0","11":"0","12":"0","13":"1","14":"1","15":"0","16":"0","17":"1","18":"0","19":"0","20":"0","_rn_":"s06"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="sourceCode cell-code" id="cb48" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a><span class="co"># links2 is a matrix for a two-mode network:</span></span>
<span id="cb48-2"><a href="#cb48-2"></a>links2 <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(links2)</span>
<span id="cb48-3"><a href="#cb48-3"></a><span class="fu">dim</span>(links2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>[1] 10 20</code></pre>
</div>
<div class="sourceCode cell-code" id="cb50" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a><span class="fu">dim</span>(nodes2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>[1] 30  5</code></pre>
</div>
</div>
<p>Note: What is a <strong>two-mode</strong> network? A network that as a <code>node$type</code> variable and can be a <code>bipartite</code> or a <code>k-partite</code> network as a result.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a><span class="co"># Create an igraph network object from the two-mode matrix:</span></span>
<span id="cb52-2"><a href="#cb52-2"></a>net2 <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_incidence_matrix</span>(links2)</span>
<span id="cb52-3"><a href="#cb52-3"></a></span>
<span id="cb52-4"><a href="#cb52-4"></a><span class="co"># To transform a one-mode network matrix into an igraph object,</span></span>
<span id="cb52-5"><a href="#cb52-5"></a><span class="co"># we would use graph_from_adjacency_matrix()</span></span>
<span id="cb52-6"><a href="#cb52-6"></a></span>
<span id="cb52-7"><a href="#cb52-7"></a><span class="co"># A built-in vertex attribute 'type' shows which mode vertices belong to.</span></span>
<span id="cb52-8"><a href="#cb52-8"></a><span class="fu">table</span>(<span class="fu">V</span>(net2)<span class="sc">$</span>type)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>
FALSE  TRUE 
   10    20 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb54" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a><span class="co"># Basic igraph plot</span></span>
<span id="cb54-2"><a href="#cb54-2"></a><span class="fu">plot</span>(net2,<span class="at">vertex.label =</span> <span class="cn">NA</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-14-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="index_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb55" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a><span class="co"># using tidygraph</span></span>
<span id="cb55-2"><a href="#cb55-2"></a><span class="co"># For all objects that are not node and edge data_frames</span></span>
<span id="cb55-3"><a href="#cb55-3"></a><span class="co"># tidygraph uses `as_tbl_graph()`</span></span>
<span id="cb55-4"><a href="#cb55-4"></a><span class="co"># </span></span>
<span id="cb55-5"><a href="#cb55-5"></a>graph <span class="ot">&lt;-</span> <span class="fu">as_tbl_graph</span>(links2)</span>
<span id="cb55-6"><a href="#cb55-6"></a>graph <span class="sc">%&gt;%</span> <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span> <span class="fu">as_tibble</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["type"],"name":[1],"type":["lgl"],"align":["right"]},{"label":["name"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"FALSE","2":"s01"},{"1":"FALSE","2":"s02"},{"1":"FALSE","2":"s03"},{"1":"FALSE","2":"s04"},{"1":"FALSE","2":"s05"},{"1":"FALSE","2":"s06"},{"1":"FALSE","2":"s07"},{"1":"FALSE","2":"s08"},{"1":"FALSE","2":"s09"},{"1":"FALSE","2":"s10"},{"1":"TRUE","2":"U01"},{"1":"TRUE","2":"U02"},{"1":"TRUE","2":"U03"},{"1":"TRUE","2":"U04"},{"1":"TRUE","2":"U05"},{"1":"TRUE","2":"U06"},{"1":"TRUE","2":"U07"},{"1":"TRUE","2":"U08"},{"1":"TRUE","2":"U09"},{"1":"TRUE","2":"U10"},{"1":"TRUE","2":"U11"},{"1":"TRUE","2":"U12"},{"1":"TRUE","2":"U13"},{"1":"TRUE","2":"U14"},{"1":"TRUE","2":"U15"},{"1":"TRUE","2":"U16"},{"1":"TRUE","2":"U17"},{"1":"TRUE","2":"U18"},{"1":"TRUE","2":"U19"},{"1":"TRUE","2":"U20"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="sourceCode cell-code" id="cb56" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a>graph <span class="sc">%&gt;%</span> <span class="fu">activate</span>(edges) <span class="sc">%&gt;%</span> <span class="fu">as_tibble</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["from"],"name":[1],"type":["int"],"align":["right"]},{"label":["to"],"name":[2],"type":["int"],"align":["right"]},{"label":["weight"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"11","3":"1"},{"1":"1","2":"12","3":"1"},{"1":"1","2":"13","3":"1"},{"1":"2","2":"14","3":"1"},{"1":"2","2":"15","3":"1"},{"1":"2","2":"30","3":"1"},{"1":"3","2":"16","3":"1"},{"1":"3","2":"17","3":"1"},{"1":"3","2":"18","3":"1"},{"1":"3","2":"19","3":"1"},{"1":"4","2":"19","3":"1"},{"1":"4","2":"20","3":"1"},{"1":"4","2":"21","3":"1"},{"1":"5","2":"21","3":"1"},{"1":"5","2":"22","3":"1"},{"1":"5","2":"23","3":"1"},{"1":"6","2":"23","3":"1"},{"1":"6","2":"24","3":"1"},{"1":"6","2":"27","3":"1"},{"1":"7","2":"24","3":"1"},{"1":"7","2":"25","3":"1"},{"1":"7","2":"26","3":"1"},{"1":"8","2":"26","3":"1"},{"1":"8","2":"27","3":"1"},{"1":"8","2":"28","3":"1"},{"1":"8","2":"29","3":"1"},{"1":"9","2":"16","3":"1"},{"1":"9","2":"29","3":"1"},{"1":"9","2":"30","3":"1"},{"1":"10","2":"11","3":"1"},{"1":"10","2":"21","3":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="sourceCode cell-code" id="cb57" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>graph <span class="sc">%&gt;%</span> </span>
<span id="cb57-2"><a href="#cb57-2"></a>  <span class="fu">ggraph</span>(., <span class="at">layout =</span> <span class="st">"graphopt"</span>) <span class="sc">+</span> </span>
<span id="cb57-3"><a href="#cb57-3"></a>  <span class="fu">geom_edge_link</span>(<span class="at">color =</span> <span class="st">"grey"</span>) <span class="sc">+</span> </span>
<span id="cb57-4"><a href="#cb57-4"></a>  <span class="fu">geom_node_point</span>(<span class="at">fill =</span> <span class="st">"orange"</span>, </span>
<span id="cb57-5"><a href="#cb57-5"></a>                  <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">size =</span> <span class="dv">6</span>, </span>
<span id="cb57-6"><a href="#cb57-6"></a>                  <span class="at">color =</span> <span class="st">"black"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-15-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="index_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb58" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a><span class="co"># Examine the resulting object:</span></span>
<span id="cb58-2"><a href="#cb58-2"></a><span class="fu">class</span>(net2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>[1] "igraph"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a>net2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>IGRAPH 01225d0 UN-B 30 31 -- 
+ attr: type (v/l), name (v/c)
+ edges from 01225d0 (vertex names):
 [1] s01--U01 s01--U02 s01--U03 s02--U04 s02--U05 s02--U20 s03--U06 s03--U07
 [9] s03--U08 s03--U09 s04--U09 s04--U10 s04--U11 s05--U11 s05--U12 s05--U13
[17] s06--U13 s06--U14 s06--U17 s07--U14 s07--U15 s07--U16 s08--U16 s08--U17
[25] s08--U18 s08--U19 s09--U06 s09--U19 s09--U20 s10--U01 s10--U11</code></pre>
</div>
</div>
<p>Note: The remaining attributes for the nodes ( in data frame <code>nodes2</code>) are not (yet) a part of the graph, either with igraph or with tidygraph.</p>
</section><section id="network-plots-in-igraph" class="level1 page-columns page-full"><h1>3. Network plots in ‘igraph’</h1>
<section id="plot-parameters-in-igraph" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="plot-parameters-in-igraph">——~~ Plot parameters in igraph ——–</h2>
<div class="page-columns page-full"><p>Check out the node options (starting with ‘vertex.’) and the edge options (starting with ‘edge.’).</p><div class="no-row-height column-margin column-container"><span class="margin-aside">Type ?igraph.plotting in your console</span></div></div>
<div class="cell">
<div class="sourceCode cell-code" id="cb62" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a>?igraph.plotting</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can set the node &amp; edge options in two ways - one is to specify them in the <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code> function, as we are doing below.</p>
<ul>
<li>Plot with curved edges (edge.curved = .1) and reduce arrow size:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb63" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a><span class="fu">plot</span>(net, <span class="at">edge.arrow.size =</span> .<span class="dv">4</span>, <span class="at">edge.curved =</span> .<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-18-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="index_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb64" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb64-2"><a href="#cb64-2"></a>graph <span class="ot">&lt;-</span> <span class="fu">tbl_graph</span>(nodes, links, <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb64-3"><a href="#cb64-3"></a>graph</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code># A tbl_graph: 17 nodes and 49 edges
#
# A directed multigraph with 1 component
#
# Node Data: 17 × 5 (active)
   id    media               media.type type.label audience.size
   &lt;chr&gt; &lt;chr&gt;                    &lt;int&gt; &lt;chr&gt;              &lt;int&gt;
 1 s01   NY Times                     1 Newspaper             20
 2 s02   Washington Post              1 Newspaper             25
 3 s03   Wall Street Journal          1 Newspaper             30
 4 s04   USA Today                    1 Newspaper             32
 5 s05   LA Times                     1 Newspaper             20
 6 s06   New York Post                1 Newspaper             50
 7 s07   CNN                          2 TV                    56
 8 s08   MSNBC                        2 TV                    34
 9 s09   FOX News                     2 TV                    60
10 s10   ABC                          2 TV                    23
11 s11   BBC                          2 TV                    34
12 s12   Yahoo News                   3 Online                33
13 s13   Google News                  3 Online                23
14 s14   Reuters.com                  3 Online                12
15 s15   NYTimes.com                  3 Online                24
16 s16   WashingtonPost.com           3 Online                28
17 s17   AOL.com                      3 Online                33
#
# Edge Data: 49 × 4
   from    to type      weight
  &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;int&gt;
1     1     2 hyperlink     22
2     1     3 hyperlink     22
3     1     4 hyperlink     21
# ℹ 46 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a>graph <span class="sc">%&gt;%</span> <span class="fu">ggraph</span>(., <span class="at">layout =</span> <span class="st">"graphopt"</span>) <span class="sc">+</span></span>
<span id="cb66-2"><a href="#cb66-2"></a>  <span class="fu">geom_edge_arc</span>(</span>
<span id="cb66-3"><a href="#cb66-3"></a>    <span class="at">color =</span> <span class="st">"grey"</span>,</span>
<span id="cb66-4"><a href="#cb66-4"></a>    <span class="at">strength =</span> <span class="fl">0.1</span>,</span>
<span id="cb66-5"><a href="#cb66-5"></a>    <span class="at">end_cap =</span> <span class="fu">circle</span>(.<span class="dv">2</span>, <span class="st">"cm"</span>),</span>
<span id="cb66-6"><a href="#cb66-6"></a></span>
<span id="cb66-7"><a href="#cb66-7"></a>    <span class="at">arrow =</span> <span class="fu">arrow</span>(</span>
<span id="cb66-8"><a href="#cb66-8"></a>      <span class="at">type =</span> <span class="st">"closed"</span>,</span>
<span id="cb66-9"><a href="#cb66-9"></a>      <span class="at">ends =</span> <span class="st">"both"</span>,</span>
<span id="cb66-10"><a href="#cb66-10"></a>      <span class="at">length =</span> <span class="fu">unit</span>(<span class="dv">3</span>, <span class="st">"mm"</span>)</span>
<span id="cb66-11"><a href="#cb66-11"></a>    )</span>
<span id="cb66-12"><a href="#cb66-12"></a>  ) <span class="sc">+</span></span>
<span id="cb66-13"><a href="#cb66-13"></a>  <span class="fu">geom_node_point</span>(</span>
<span id="cb66-14"><a href="#cb66-14"></a>    <span class="at">fill =</span> <span class="st">"orange"</span>,</span>
<span id="cb66-15"><a href="#cb66-15"></a>    <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb66-16"><a href="#cb66-16"></a>    <span class="at">size =</span> <span class="dv">8</span>,</span>
<span id="cb66-17"><a href="#cb66-17"></a>    <span class="at">color =</span> <span class="st">"black"</span></span>
<span id="cb66-18"><a href="#cb66-18"></a>  ) <span class="sc">+</span></span>
<span id="cb66-19"><a href="#cb66-19"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> id), <span class="at">size  =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-18-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="index_files/figure-html/unnamed-chunk-18-2.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<ul>
<li>Set node color to orange and the border color to hex 555555</li>
<li>Replace the vertex label with the node names stored in “media”</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb67" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a><span class="fu">plot</span>(</span>
<span id="cb67-2"><a href="#cb67-2"></a>  net,</span>
<span id="cb67-3"><a href="#cb67-3"></a>  <span class="at">edge.arrow.size =</span> .<span class="dv">2</span>,</span>
<span id="cb67-4"><a href="#cb67-4"></a>  <span class="at">edge.curved =</span> <span class="dv">0</span>,</span>
<span id="cb67-5"><a href="#cb67-5"></a>  <span class="at">vertex.color =</span> <span class="st">"orange"</span>,</span>
<span id="cb67-6"><a href="#cb67-6"></a>  <span class="at">vertex.frame.color =</span> <span class="st">"#555555"</span>,</span>
<span id="cb67-7"><a href="#cb67-7"></a>  <span class="at">vertex.label =</span> <span class="fu">V</span>(net)<span class="sc">$</span>media,</span>
<span id="cb67-8"><a href="#cb67-8"></a>  <span class="at">vertex.label.color =</span> <span class="st">"black"</span>,</span>
<span id="cb67-9"><a href="#cb67-9"></a>  <span class="at">vertex.label.cex =</span> .<span class="dv">7</span></span>
<span id="cb67-10"><a href="#cb67-10"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-19-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="index_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb68" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb68-2"><a href="#cb68-2"></a><span class="co">#graph &lt;- tbl_graph(nodes, links, directed = TRUE)</span></span>
<span id="cb68-3"><a href="#cb68-3"></a><span class="co">#graph</span></span>
<span id="cb68-4"><a href="#cb68-4"></a>graph <span class="sc">%&gt;%</span></span>
<span id="cb68-5"><a href="#cb68-5"></a>  <span class="fu">ggraph</span>(., <span class="at">layout =</span> <span class="st">"gem"</span>) <span class="sc">+</span></span>
<span id="cb68-6"><a href="#cb68-6"></a>  <span class="fu">geom_edge_link</span>(</span>
<span id="cb68-7"><a href="#cb68-7"></a>    <span class="at">color =</span> <span class="st">"grey"</span>,</span>
<span id="cb68-8"><a href="#cb68-8"></a>    <span class="at">end_cap =</span> <span class="fu">circle</span>(.<span class="dv">3</span>, <span class="st">"cm"</span>),</span>
<span id="cb68-9"><a href="#cb68-9"></a>    </span>
<span id="cb68-10"><a href="#cb68-10"></a>    <span class="at">arrow =</span> <span class="fu">arrow</span>(</span>
<span id="cb68-11"><a href="#cb68-11"></a>      <span class="at">type =</span> <span class="st">"closed"</span>,</span>
<span id="cb68-12"><a href="#cb68-12"></a>      <span class="at">ends =</span> <span class="st">"both"</span>,</span>
<span id="cb68-13"><a href="#cb68-13"></a>      <span class="at">length =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"mm"</span>)</span>
<span id="cb68-14"><a href="#cb68-14"></a>    )</span>
<span id="cb68-15"><a href="#cb68-15"></a>  ) <span class="sc">+</span></span>
<span id="cb68-16"><a href="#cb68-16"></a>  <span class="fu">geom_node_point</span>(</span>
<span id="cb68-17"><a href="#cb68-17"></a>    <span class="at">fill =</span> <span class="st">"orange"</span>,</span>
<span id="cb68-18"><a href="#cb68-18"></a>    <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb68-19"><a href="#cb68-19"></a>    <span class="at">size =</span> <span class="dv">6</span>,</span>
<span id="cb68-20"><a href="#cb68-20"></a>    <span class="at">color =</span> <span class="st">"#555555"</span></span>
<span id="cb68-21"><a href="#cb68-21"></a>  ) <span class="sc">+</span></span>
<span id="cb68-22"><a href="#cb68-22"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> media))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-19-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="index_files/figure-html/unnamed-chunk-19-2.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<p>The second way to set attributes is to <strong>add them</strong> to the igraph object.</p>
<ul>
<li>Generate colors based on media type:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb69" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a>colrs <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"gray50"</span>, <span class="st">"tomato"</span>, <span class="st">"gold"</span>)</span>
<span id="cb69-2"><a href="#cb69-2"></a><span class="fu">V</span>(net)<span class="sc">$</span>color <span class="ot">&lt;-</span> colrs[<span class="fu">V</span>(net)<span class="sc">$</span>media.type]</span>
<span id="cb69-3"><a href="#cb69-3"></a><span class="fu">plot</span>(net)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-20-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img src="index_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<ul>
<li>Compute node degrees (#links) and use that to set node size:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb70" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a>deg <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">degree</span>(net, <span class="at">mode =</span> <span class="st">"all"</span>)</span>
<span id="cb70-2"><a href="#cb70-2"></a><span class="fu">V</span>(net)<span class="sc">$</span>size <span class="ot">&lt;-</span> deg<span class="sc">*</span><span class="dv">3</span></span>
<span id="cb70-3"><a href="#cb70-3"></a><span class="co"># Alternatively, we can set node size based on audience size:</span></span>
<span id="cb70-4"><a href="#cb70-4"></a><span class="fu">V</span>(net)<span class="sc">$</span>size <span class="ot">&lt;-</span> <span class="fu">V</span>(net)<span class="sc">$</span>audience.size<span class="sc">*</span><span class="fl">0.7</span></span>
<span id="cb70-5"><a href="#cb70-5"></a><span class="fu">V</span>(net)<span class="sc">$</span>size</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code> [1] 14.0 17.5 21.0 22.4 14.0 35.0 39.2 23.8 42.0 16.1 23.8 23.1 16.1  8.4 16.8
[16] 19.6 23.1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb72" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a><span class="co"># The labels are currently node IDs.</span></span>
<span id="cb72-2"><a href="#cb72-2"></a><span class="co"># Setting them to NA will render no labels:</span></span>
<span id="cb72-3"><a href="#cb72-3"></a><span class="fu">V</span>(net)<span class="sc">$</span>label.color <span class="ot">&lt;-</span> <span class="st">"black"</span></span>
<span id="cb72-4"><a href="#cb72-4"></a><span class="fu">V</span>(net)<span class="sc">$</span>label <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb72-5"><a href="#cb72-5"></a></span>
<span id="cb72-6"><a href="#cb72-6"></a><span class="co"># Set edge width based on weight:</span></span>
<span id="cb72-7"><a href="#cb72-7"></a><span class="fu">E</span>(net)<span class="sc">$</span>width <span class="ot">&lt;-</span> <span class="fu">E</span>(net)<span class="sc">$</span>weight<span class="sc">/</span><span class="dv">6</span></span>
<span id="cb72-8"><a href="#cb72-8"></a></span>
<span id="cb72-9"><a href="#cb72-9"></a><span class="co">#change arrow size and edge color:</span></span>
<span id="cb72-10"><a href="#cb72-10"></a><span class="fu">E</span>(net)<span class="sc">$</span>arrow.size <span class="ot">&lt;-</span> .<span class="dv">2</span></span>
<span id="cb72-11"><a href="#cb72-11"></a><span class="fu">E</span>(net)<span class="sc">$</span>edge.color <span class="ot">&lt;-</span> <span class="st">"gray80"</span></span>
<span id="cb72-12"><a href="#cb72-12"></a></span>
<span id="cb72-13"><a href="#cb72-13"></a><span class="co"># We can even set the network layout:</span></span>
<span id="cb72-14"><a href="#cb72-14"></a><span class="fu">graph_attr</span>(net, <span class="st">"layout"</span>) <span class="ot">&lt;-</span> layout_with_lgl</span>
<span id="cb72-15"><a href="#cb72-15"></a><span class="fu">plot</span>(net)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-21-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img src="index_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb73" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb73-2"><a href="#cb73-2"></a><span class="co"># graph &lt;- tbl_graph(nodes, links, directed = TRUE)</span></span>
<span id="cb73-3"><a href="#cb73-3"></a><span class="co"># graph</span></span>
<span id="cb73-4"><a href="#cb73-4"></a>graph <span class="sc">%&gt;%</span></span>
<span id="cb73-5"><a href="#cb73-5"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span></span>
<span id="cb73-6"><a href="#cb73-6"></a>  <span class="fu">mutate</span>(<span class="at">size =</span> <span class="fu">centrality_degree</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb73-7"><a href="#cb73-7"></a>  <span class="fu">ggraph</span>(., <span class="at">layout =</span> <span class="st">"lgl"</span>) <span class="sc">+</span></span>
<span id="cb73-8"><a href="#cb73-8"></a>  <span class="fu">geom_edge_link</span>(</span>
<span id="cb73-9"><a href="#cb73-9"></a>    <span class="fu">aes</span>(<span class="at">width =</span> weight),</span>
<span id="cb73-10"><a href="#cb73-10"></a>    <span class="at">color =</span> <span class="st">"grey80"</span>,</span>
<span id="cb73-11"><a href="#cb73-11"></a>    <span class="at">end_cap =</span> <span class="fu">circle</span>(.<span class="dv">2</span>, <span class="st">"cm"</span>),</span>
<span id="cb73-12"><a href="#cb73-12"></a>    <span class="at">arrow =</span> <span class="fu">arrow</span>(</span>
<span id="cb73-13"><a href="#cb73-13"></a>      <span class="at">type =</span> <span class="st">"closed"</span>,</span>
<span id="cb73-14"><a href="#cb73-14"></a>      <span class="at">ends =</span> <span class="st">"last"</span>,</span>
<span id="cb73-15"><a href="#cb73-15"></a>      <span class="at">length =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"mm"</span>)</span>
<span id="cb73-16"><a href="#cb73-16"></a>    )</span>
<span id="cb73-17"><a href="#cb73-17"></a>  ) <span class="sc">+</span></span>
<span id="cb73-18"><a href="#cb73-18"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">fill =</span> type.label, <span class="at">size =</span> size),</span>
<span id="cb73-19"><a href="#cb73-19"></a>                  <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb73-20"><a href="#cb73-20"></a>                  <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb73-21"><a href="#cb73-21"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">name =</span> <span class="st">"Media Type"</span>,</span>
<span id="cb73-22"><a href="#cb73-22"></a>                    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"grey50"</span>, <span class="st">"gold"</span>, <span class="st">"tomato"</span>)) <span class="sc">+</span></span>
<span id="cb73-23"><a href="#cb73-23"></a>  <span class="fu">scale_edge_width</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.2</span>, <span class="fl">1.5</span>), <span class="at">guide =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb73-24"><a href="#cb73-24"></a>  <span class="fu">scale_size_continuous</span>(<span class="st">"Degree"</span>, <span class="at">range =</span>  <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">16</span>)) <span class="sc">+</span></span>
<span id="cb73-25"><a href="#cb73-25"></a>  </span>
<span id="cb73-26"><a href="#cb73-26"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">"Media Type"</span>,</span>
<span id="cb73-27"><a href="#cb73-27"></a>                             <span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">pch =</span> <span class="dv">21</span>, <span class="at">size =</span> <span class="dv">4</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-22-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img src="index_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<p>We can also override the attributes explicitly in the plot:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a><span class="fu">plot</span>(net, <span class="at">edge.color =</span> <span class="st">"orange"</span>, <span class="at">vertex.color =</span> <span class="st">"gray50"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-23-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14"><img src="index_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<p>We can also add a legend explaining the meaning of the colors we used:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a><span class="fu">plot</span>(net)</span>
<span id="cb75-2"><a href="#cb75-2"></a><span class="fu">legend</span>(<span class="at">x =</span> <span class="sc">-</span><span class="fl">2.1</span>, <span class="at">y =</span> <span class="sc">-</span><span class="fl">1.1</span>, </span>
<span id="cb75-3"><a href="#cb75-3"></a>       <span class="fu">c</span>(<span class="st">"Newspaper"</span>,<span class="st">"Television"</span>, <span class="st">"Online News"</span>), </span>
<span id="cb75-4"><a href="#cb75-4"></a>       <span class="at">pch =</span> <span class="dv">21</span>,<span class="at">col =</span> <span class="st">"#777777"</span>, </span>
<span id="cb75-5"><a href="#cb75-5"></a>       <span class="at">pt.bg =</span> colrs, <span class="at">pt.cex =</span> <span class="fl">2.5</span>, <span class="at">bty =</span> <span class="st">"n"</span>, <span class="at">ncol =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-24-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-15"><img src="index_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb76" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1"></a><span class="co"># legends are automatic with the tidygraph + ggraph flow</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Sometimes, especially with semantic networks, we may be interested in plotting only the labels of the nodes:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a><span class="fu">plot</span>(net, <span class="at">vertex.shape =</span> <span class="st">"none"</span>, <span class="at">vertex.label =</span> <span class="fu">V</span>(net)<span class="sc">$</span>media,</span>
<span id="cb77-2"><a href="#cb77-2"></a>     <span class="at">vertex.label.font =</span> <span class="dv">2</span>, <span class="at">vertex.label.color =</span> <span class="st">"gray40"</span>,</span>
<span id="cb77-3"><a href="#cb77-3"></a>     <span class="at">vertex.label.cex =</span> .<span class="dv">7</span>, <span class="at">edge.color =</span> <span class="st">"gray85"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-25-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-16"><img src="index_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb78" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1"></a><span class="co">#using tidygraph</span></span>
<span id="cb78-2"><a href="#cb78-2"></a></span>
<span id="cb78-3"><a href="#cb78-3"></a><span class="fu">ggraph</span>(net, <span class="at">layout =</span> <span class="st">"gem"</span>) <span class="sc">+</span></span>
<span id="cb78-4"><a href="#cb78-4"></a>  <span class="fu">geom_edge_link</span>(<span class="at">color =</span> <span class="st">"grey80"</span>, <span class="at">width =</span> <span class="dv">2</span>,</span>
<span id="cb78-5"><a href="#cb78-5"></a>                 <span class="at">end_cap =</span> <span class="fu">circle</span>(<span class="fl">0.5</span>,<span class="st">"cm"</span>), </span>
<span id="cb78-6"><a href="#cb78-6"></a>                 <span class="at">start_cap =</span> <span class="fu">circle</span>(<span class="fl">0.5</span>, <span class="st">"cm"</span>)) <span class="sc">+</span></span>
<span id="cb78-7"><a href="#cb78-7"></a>    <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> media))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-25-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-17"><img src="index_files/figure-html/unnamed-chunk-25-2.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<p>Let’s color the edges of the graph based on their source node color. We’ll get the starting node for each edge with <code>ends()</code>.</p>
<p>Note: Edge attribute is being set by start node.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb79" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1"></a>edge.start <span class="ot">&lt;-</span> <span class="fu">ends</span>(net, <span class="at">es =</span> <span class="fu">E</span>(net), <span class="at">names =</span> F)[,<span class="dv">1</span>]</span>
<span id="cb79-2"><a href="#cb79-2"></a>edge.col <span class="ot">&lt;-</span> <span class="fu">V</span>(net)<span class="sc">$</span>color[edge.start] <span class="co"># How simple this is !!!</span></span>
<span id="cb79-3"><a href="#cb79-3"></a><span class="co"># The three colors are recycled </span></span>
<span id="cb79-4"><a href="#cb79-4"></a><span class="co"># </span></span>
<span id="cb79-5"><a href="#cb79-5"></a><span class="fu">plot</span>(net, <span class="at">edge.color =</span> edge.col, <span class="at">edge.curved =</span> .<span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-26-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-18"><img src="index_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<p>NOTE: The source node colour has been set using the <code>media.type</code>, which is a node attribute. Node attributes are not typically accessible to edges. So we need to build a combo data frame using <code>dplyr</code>, so that edges can use this node attribute. ( There may be other ways…)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb80-2"><a href="#cb80-2"></a><span class="co"># Make a "combo" data frame of nodes *and* edges with left_join()</span></span>
<span id="cb80-3"><a href="#cb80-3"></a><span class="co"># Join by `from` so that type.label is based on from = edge.start</span></span>
<span id="cb80-4"><a href="#cb80-4"></a></span>
<span id="cb80-5"><a href="#cb80-5"></a>links <span class="sc">%&gt;%</span></span>
<span id="cb80-6"><a href="#cb80-6"></a>  <span class="fu">left_join</span>(., nodes, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"from"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb80-7"><a href="#cb80-7"></a>  <span class="fu">tbl_graph</span>(<span class="at">edges =</span> ., <span class="at">nodes =</span> nodes) <span class="sc">%&gt;%</span></span>
<span id="cb80-8"><a href="#cb80-8"></a>  </span>
<span id="cb80-9"><a href="#cb80-9"></a>  <span class="fu">mutate</span>(<span class="at">size =</span> <span class="fu">centrality_degree</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb80-10"><a href="#cb80-10"></a>  </span>
<span id="cb80-11"><a href="#cb80-11"></a>  <span class="fu">ggraph</span>(., <span class="at">layout =</span> <span class="st">"lgl"</span>) <span class="sc">+</span></span>
<span id="cb80-12"><a href="#cb80-12"></a>  <span class="fu">geom_edge_arc</span>(<span class="fu">aes</span>(<span class="at">color =</span> type.label,</span>
<span id="cb80-13"><a href="#cb80-13"></a>                    <span class="at">width =</span> weight),</span>
<span id="cb80-14"><a href="#cb80-14"></a>                <span class="at">strength =</span> <span class="fl">0.3</span>)  <span class="sc">+</span></span>
<span id="cb80-15"><a href="#cb80-15"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">fill =</span> type.label,</span>
<span id="cb80-16"><a href="#cb80-16"></a>                      <span class="co"># type.label is now available as edge attribute</span></span>
<span id="cb80-17"><a href="#cb80-17"></a>                      <span class="at">size =</span> size),</span>
<span id="cb80-18"><a href="#cb80-18"></a>                  <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb80-19"><a href="#cb80-19"></a>                  <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb80-20"><a href="#cb80-20"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb80-21"><a href="#cb80-21"></a>    <span class="at">name =</span> <span class="st">"Media Type"</span>,</span>
<span id="cb80-22"><a href="#cb80-22"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"grey50"</span>, <span class="st">"gold"</span>, <span class="st">"tomato"</span>),</span>
<span id="cb80-23"><a href="#cb80-23"></a>    <span class="at">guide =</span> <span class="st">"legend"</span></span>
<span id="cb80-24"><a href="#cb80-24"></a>  ) <span class="sc">+</span></span>
<span id="cb80-25"><a href="#cb80-25"></a>  <span class="fu">scale_edge_color_manual</span>(<span class="at">name =</span> <span class="st">"Source Type"</span>,</span>
<span id="cb80-26"><a href="#cb80-26"></a>                          <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"grey80"</span>, <span class="st">"gold"</span>, <span class="st">"tomato"</span>)) <span class="sc">+</span></span>
<span id="cb80-27"><a href="#cb80-27"></a>  <span class="fu">scale_edge_width</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.2</span>, <span class="fl">1.5</span>), <span class="at">guide =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb80-28"><a href="#cb80-28"></a>  <span class="fu">scale_size_continuous</span>(<span class="st">"Degree"</span>, <span class="at">range =</span>  <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">16</span>)) <span class="sc">+</span></span>
<span id="cb80-29"><a href="#cb80-29"></a>  <span class="co"># not "limits"!</span></span>
<span id="cb80-30"><a href="#cb80-30"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">pch =</span> <span class="dv">21</span>,</span>
<span id="cb80-31"><a href="#cb80-31"></a>                                                 <span class="at">size =</span> <span class="dv">4</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-27-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-19"><img src="index_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
</section><section id="network-layouts-in-igraph" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="network-layouts-in-igraph">——-~~ Network Layouts in ‘igraph’ ——–</h2>
<p>Network layouts are algorithms that return <strong>coordinates</strong> for each node in a network.</p>
<p>Let’s generate a slightly larger 100-node graph using a <code>preferential attachment</code> model (Barabasi-Albert).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1"></a>net.bg <span class="ot">&lt;-</span> <span class="fu">sample_pa</span>(<span class="at">n =</span>  <span class="dv">100</span>, <span class="at">power =</span>  <span class="fl">1.2</span>)</span>
<span id="cb81-2"><a href="#cb81-2"></a><span class="fu">V</span>(net.bg)<span class="sc">$</span>size <span class="ot">&lt;-</span> <span class="dv">8</span></span>
<span id="cb81-3"><a href="#cb81-3"></a><span class="fu">V</span>(net.bg)<span class="sc">$</span>frame.color <span class="ot">&lt;-</span> <span class="st">"white"</span></span>
<span id="cb81-4"><a href="#cb81-4"></a><span class="fu">V</span>(net.bg)<span class="sc">$</span>color <span class="ot">&lt;-</span> <span class="st">"orange"</span></span>
<span id="cb81-5"><a href="#cb81-5"></a><span class="fu">V</span>(net.bg)<span class="sc">$</span>label <span class="ot">&lt;-</span> <span class="st">""</span></span>
<span id="cb81-6"><a href="#cb81-6"></a><span class="fu">E</span>(net.bg)<span class="sc">$</span>arrow.mode <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb81-7"><a href="#cb81-7"></a><span class="fu">plot</span>(net.bg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-28-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-20"><img src="index_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb82" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb82-2"><a href="#cb82-2"></a>graph <span class="ot">&lt;-</span> <span class="fu">play_barabasi_albert</span>(<span class="at">n =</span> <span class="dv">100</span>, <span class="at">power =</span> <span class="fl">1.2</span>)</span>
<span id="cb82-3"><a href="#cb82-3"></a>graph <span class="sc">%&gt;%</span></span>
<span id="cb82-4"><a href="#cb82-4"></a>  <span class="fu">ggraph</span>(., <span class="at">layout =</span> <span class="st">"graphopt"</span>) <span class="sc">+</span></span>
<span id="cb82-5"><a href="#cb82-5"></a>  <span class="fu">geom_edge_link</span>(<span class="at">color =</span> <span class="st">"grey"</span>) <span class="sc">+</span></span>
<span id="cb82-6"><a href="#cb82-6"></a>  <span class="fu">geom_node_point</span>(<span class="at">color =</span> <span class="st">"orange"</span>, <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb82-7"><a href="#cb82-7"></a>  <span class="fu">theme_graph</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-28-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-21"><img src="index_files/figure-html/unnamed-chunk-28-2.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<p>Now let’s plot this network using the layouts available in igraph. You can set the layout in the plot function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb83" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1"></a><span class="fu">plot</span>(net.bg, <span class="at">layout =</span> layout_randomly)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-29-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-22"><img src="index_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<p>Or calculate the vertex coordinates in advance:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1"></a>l <span class="ot">&lt;-</span> <span class="fu">layout_in_circle</span>(net.bg)</span>
<span id="cb84-2"><a href="#cb84-2"></a><span class="fu">plot</span>(net.bg, <span class="at">layout =</span> l)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-30-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-23"><img src="index_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb85" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb85-2"><a href="#cb85-2"></a><span class="co"># graph &lt;- play_barabasi_albert(n = 100, power = 1.2)</span></span>
<span id="cb85-3"><a href="#cb85-3"></a>graph <span class="sc">%&gt;%</span> <span class="fu">ggraph</span>(., <span class="at">layout =</span> <span class="st">"circle"</span>) <span class="sc">+</span></span>
<span id="cb85-4"><a href="#cb85-4"></a>  <span class="fu">geom_edge_link</span>(<span class="at">color =</span> <span class="st">"grey"</span>) <span class="sc">+</span></span>
<span id="cb85-5"><a href="#cb85-5"></a>  <span class="fu">geom_node_point</span>(<span class="at">color =</span> <span class="st">"orange"</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb85-6"><a href="#cb85-6"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb85-7"><a href="#cb85-7"></a>  <span class="fu">theme</span>(<span class="at">aspect.ratio =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-30-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-24"><img src="index_files/figure-html/unnamed-chunk-30-2.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<p><code>l</code> is simply a matrix of x,y coordinates (N x 2) for the N nodes in the graph. You can generate your own:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1"></a>l <span class="ot">&lt;-</span> <span class="fu">cbind</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">vcount</span>(net.bg), <span class="fu">c</span>(<span class="dv">1</span>, <span class="fu">vcount</span>(net.bg)<span class="sc">:</span><span class="dv">2</span>))</span>
<span id="cb86-2"><a href="#cb86-2"></a>l</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>       [,1] [,2]
  [1,]    1    1
  [2,]    2  100
  [3,]    3   99
  [4,]    4   98
  [5,]    5   97
  [6,]    6   96
  [7,]    7   95
  [8,]    8   94
  [9,]    9   93
 [10,]   10   92
 [11,]   11   91
 [12,]   12   90
 [13,]   13   89
 [14,]   14   88
 [15,]   15   87
 [16,]   16   86
 [17,]   17   85
 [18,]   18   84
 [19,]   19   83
 [20,]   20   82
 [21,]   21   81
 [22,]   22   80
 [23,]   23   79
 [24,]   24   78
 [25,]   25   77
 [26,]   26   76
 [27,]   27   75
 [28,]   28   74
 [29,]   29   73
 [30,]   30   72
 [31,]   31   71
 [32,]   32   70
 [33,]   33   69
 [34,]   34   68
 [35,]   35   67
 [36,]   36   66
 [37,]   37   65
 [38,]   38   64
 [39,]   39   63
 [40,]   40   62
 [41,]   41   61
 [42,]   42   60
 [43,]   43   59
 [44,]   44   58
 [45,]   45   57
 [46,]   46   56
 [47,]   47   55
 [48,]   48   54
 [49,]   49   53
 [50,]   50   52
 [51,]   51   51
 [52,]   52   50
 [53,]   53   49
 [54,]   54   48
 [55,]   55   47
 [56,]   56   46
 [57,]   57   45
 [58,]   58   44
 [59,]   59   43
 [60,]   60   42
 [61,]   61   41
 [62,]   62   40
 [63,]   63   39
 [64,]   64   38
 [65,]   65   37
 [66,]   66   36
 [67,]   67   35
 [68,]   68   34
 [69,]   69   33
 [70,]   70   32
 [71,]   71   31
 [72,]   72   30
 [73,]   73   29
 [74,]   74   28
 [75,]   75   27
 [76,]   76   26
 [77,]   77   25
 [78,]   78   24
 [79,]   79   23
 [80,]   80   22
 [81,]   81   21
 [82,]   82   20
 [83,]   83   19
 [84,]   84   18
 [85,]   85   17
 [86,]   86   16
 [87,]   87   15
 [88,]   88   14
 [89,]   89   13
 [90,]   90   12
 [91,]   91   11
 [92,]   92   10
 [93,]   93    9
 [94,]   94    8
 [95,]   95    7
 [96,]   96    6
 [97,]   97    5
 [98,]   98    4
 [99,]   99    3
[100,]  100    2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb88" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1"></a><span class="fu">plot</span>(net.bg, <span class="at">layout =</span> l)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-31-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-25"><img src="index_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb89" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb89-2"><a href="#cb89-2"></a><span class="co"># graph &lt;- play_barabasi_albert(n = 100, power = 1.2)</span></span>
<span id="cb89-3"><a href="#cb89-3"></a>graph <span class="sc">%&gt;%</span> <span class="fu">ggraph</span>(., <span class="at">layout =</span> l) <span class="sc">+</span></span>
<span id="cb89-4"><a href="#cb89-4"></a>  <span class="fu">geom_edge_link</span>(<span class="at">color =</span> <span class="st">"grey"</span>) <span class="sc">+</span></span>
<span id="cb89-5"><a href="#cb89-5"></a>  <span class="fu">geom_node_point</span>(<span class="at">color =</span> <span class="st">"orange"</span>, <span class="at">size =</span> <span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb89-6"><a href="#cb89-6"></a>  <span class="fu">theme_graph</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-31-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-26"><img src="index_files/figure-html/unnamed-chunk-31-2.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<p>This layout is just an example and not very helpful - thankfully <code>igraph</code> has a number of built-in layouts, including:</p>
<ul>
<li>Randomly placed vertices</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb90" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1"></a>l <span class="ot">&lt;-</span> <span class="fu">layout_randomly</span>(net.bg)</span>
<span id="cb90-2"><a href="#cb90-2"></a><span class="fu">plot</span>(net.bg, <span class="at">layout =</span> l)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-32-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-27"><img src="index_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb91" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb91-2"><a href="#cb91-2"></a><span class="co"># graph &lt;- play_barabasi_albert(n = 100, power = 1.2)</span></span>
<span id="cb91-3"><a href="#cb91-3"></a>graph <span class="sc">%&gt;%</span> <span class="fu">ggraph</span>(., <span class="at">layout =</span> <span class="fu">layout_randomly</span>(.)) <span class="sc">+</span> </span>
<span id="cb91-4"><a href="#cb91-4"></a>  <span class="fu">geom_edge_link0</span>(<span class="at">colour =</span> <span class="st">"grey"</span>) <span class="sc">+</span> </span>
<span id="cb91-5"><a href="#cb91-5"></a>  <span class="fu">geom_node_point</span>(<span class="at">colour =</span> <span class="st">"orange"</span>, <span class="at">size =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-32-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-28"><img src="index_files/figure-html/unnamed-chunk-32-2.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<ul>
<li>Circle layout</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb92" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1"></a>l <span class="ot">&lt;-</span> <span class="fu">layout_in_circle</span>(net.bg)</span>
<span id="cb92-2"><a href="#cb92-2"></a><span class="fu">plot</span>(net.bg, <span class="at">layout =</span> l)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-33-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-29"><img src="index_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb93" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb93-2"><a href="#cb93-2"></a><span class="co"># graph &lt;- play_barabasi_albert(n = 100, power = 1.2)</span></span>
<span id="cb93-3"><a href="#cb93-3"></a>graph <span class="sc">%&gt;%</span> <span class="fu">ggraph</span>(., <span class="at">layout =</span> <span class="fu">layout_in_circle</span>(.)) <span class="sc">+</span> </span>
<span id="cb93-4"><a href="#cb93-4"></a>  <span class="fu">geom_edge_link0</span>(<span class="at">colour =</span> <span class="st">"grey"</span>) <span class="sc">+</span> </span>
<span id="cb93-5"><a href="#cb93-5"></a>  <span class="fu">geom_node_point</span>(<span class="at">colour =</span> <span class="st">"orange"</span>) <span class="sc">+</span></span>
<span id="cb93-6"><a href="#cb93-6"></a>  <span class="fu">theme</span>(<span class="at">aspect.ratio =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-33-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-30"><img src="index_files/figure-html/unnamed-chunk-33-2.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<ul>
<li>3D sphere layout</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb94" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1"></a>l <span class="ot">&lt;-</span> <span class="fu">layout_on_sphere</span>(net.bg)</span>
<span id="cb94-2"><a href="#cb94-2"></a><span class="fu">plot</span>(net.bg, <span class="at">layout =</span> l)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-34-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-31"><img src="index_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb95" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb95-2"><a href="#cb95-2"></a><span class="co"># graph &lt;- play_barabasi_albert(n = 100, power = 1.2)</span></span>
<span id="cb95-3"><a href="#cb95-3"></a>graph <span class="sc">%&gt;%</span> <span class="fu">ggraph</span>(., <span class="at">layout =</span> <span class="fu">layout_on_sphere</span>(.)) <span class="sc">+</span> </span>
<span id="cb95-4"><a href="#cb95-4"></a>  <span class="fu">geom_edge_link0</span>(<span class="at">colour =</span> <span class="st">"grey"</span>) <span class="sc">+</span> </span>
<span id="cb95-5"><a href="#cb95-5"></a>  <span class="fu">geom_node_point</span>(<span class="at">colour =</span> <span class="st">"orange"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-34-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-32"><img src="index_files/figure-html/unnamed-chunk-34-2.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<ul>
<li>The Fruchterman-Reingold force-directed algorithm: Nice but slow, most often used in graphs smaller than ~1000 vertices.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb96" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1"></a>l <span class="ot">&lt;-</span> <span class="fu">layout_with_fr</span>(net.bg)</span>
<span id="cb96-2"><a href="#cb96-2"></a><span class="fu">plot</span>(net.bg, <span class="at">layout =</span> l)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-35-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-33"><img src="index_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb97" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb97-2"><a href="#cb97-2"></a><span class="co"># graph &lt;- play_barabasi_albert(n = 100, power = 1.2)</span></span>
<span id="cb97-3"><a href="#cb97-3"></a>graph <span class="sc">%&gt;%</span> <span class="fu">ggraph</span>(., <span class="at">layout =</span> <span class="fu">layout_with_fr</span>(.)) <span class="sc">+</span> </span>
<span id="cb97-4"><a href="#cb97-4"></a>  <span class="fu">geom_edge_link0</span>(<span class="at">colour =</span> <span class="st">"grey"</span>) <span class="sc">+</span> </span>
<span id="cb97-5"><a href="#cb97-5"></a>  <span class="fu">geom_node_point</span>(<span class="at">colour =</span> <span class="st">"orange"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-35-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-34"><img src="index_files/figure-html/unnamed-chunk-35-2.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<p>You will also notice that the F-R layout is not deterministic - different runs will result in slightly different configurations. Saving the layout in l allows us to get the exact same result multiple times.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb98" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>), <span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>))</span>
<span id="cb98-2"><a href="#cb98-2"></a><span class="fu">plot</span>(net.bg, <span class="at">layout =</span> layout_with_fr)</span>
<span id="cb98-3"><a href="#cb98-3"></a><span class="fu">plot</span>(net.bg, <span class="at">layout =</span> layout_with_fr)</span>
<span id="cb98-4"><a href="#cb98-4"></a><span class="fu">plot</span>(net.bg, <span class="at">layout =</span> l)</span>
<span id="cb98-5"><a href="#cb98-5"></a><span class="fu">plot</span>(net.bg, <span class="at">layout =</span> l)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-36-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-35"><img src="index_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<p>By default, the coordinates of the plots are rescaled to the [-1,1] interval for both x and y. You can change that with the parameter <code>rescale = FALSE</code> and rescale your plot manually by multiplying the coordinates by a scalar. You can use <code>norm_coords</code> to normalize the plot with the boundaries you want. This way you can create more compact or spread out layout versions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1"></a><span class="co">#Get the layout coordinates:</span></span>
<span id="cb99-2"><a href="#cb99-2"></a>l <span class="ot">&lt;-</span> <span class="fu">layout_with_fr</span>(net.bg)</span>
<span id="cb99-3"><a href="#cb99-3"></a><span class="co"># Normalize them so that they are in the -1, 1 interval:</span></span>
<span id="cb99-4"><a href="#cb99-4"></a>l <span class="ot">&lt;-</span> <span class="fu">norm_coords</span>(l, <span class="at">ymin =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">ymax =</span> <span class="dv">1</span>, <span class="at">xmin =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">xmax =</span> <span class="dv">1</span>)</span>
<span id="cb99-5"><a href="#cb99-5"></a></span>
<span id="cb99-6"><a href="#cb99-6"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>), <span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>))</span>
<span id="cb99-7"><a href="#cb99-7"></a><span class="fu">plot</span>(net.bg, <span class="at">rescale =</span> F, <span class="at">layout =</span> l<span class="sc">*</span><span class="fl">0.4</span>)</span>
<span id="cb99-8"><a href="#cb99-8"></a><span class="fu">plot</span>(net.bg, <span class="at">rescale =</span> F, <span class="at">layout =</span> l<span class="sc">*</span><span class="fl">0.8</span>)</span>
<span id="cb99-9"><a href="#cb99-9"></a><span class="fu">plot</span>(net.bg, <span class="at">rescale =</span> F, <span class="at">layout =</span> l<span class="sc">*</span><span class="fl">1.2</span>)</span>
<span id="cb99-10"><a href="#cb99-10"></a><span class="fu">plot</span>(net.bg, <span class="at">rescale =</span> F, <span class="at">layout =</span> l<span class="sc">*</span><span class="fl">1.6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-37-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-36"><img src="index_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb100" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb100-2"><a href="#cb100-2"></a><span class="co"># Can't do this with tidygraph ( multiplying layout * scalar ), it seems</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Another popular force-directed algorithm that produces nice results for connected graphs is <strong>Kamada Kawai</strong>. Like Fruchterman Reingold, it attempts to minimize the energy in a spring system.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb101" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1"></a>l <span class="ot">&lt;-</span> <span class="fu">layout_with_kk</span>(net.bg)</span>
<span id="cb101-2"><a href="#cb101-2"></a><span class="fu">plot</span>(net.bg, <span class="at">layout =</span> l)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-38-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-37"><img src="index_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb102" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb102-2"><a href="#cb102-2"></a><span class="co"># graph &lt;- play_barabasi_albert(n = 100, power = 1.2)</span></span>
<span id="cb102-3"><a href="#cb102-3"></a>graph <span class="sc">%&gt;%</span> <span class="fu">ggraph</span>(., <span class="at">layout =</span> <span class="fu">layout_with_kk</span>(.)) <span class="sc">+</span> </span>
<span id="cb102-4"><a href="#cb102-4"></a>  <span class="fu">geom_edge_link0</span>(<span class="at">colour =</span> <span class="st">"grey"</span>) <span class="sc">+</span> </span>
<span id="cb102-5"><a href="#cb102-5"></a>  <span class="fu">geom_node_point</span>(<span class="at">colour =</span> <span class="st">"orange"</span>, <span class="at">size =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-38-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-38"><img src="index_files/figure-html/unnamed-chunk-38-2.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<p>The <strong>MDS (multidimensional scaling)</strong> algorithm tries to place nodes based on some measure of similarity or distance between them. More similar/less distant nodes are placed closer to each other. By default, the measure used is based on the shortest paths between nodes in the network. That can be changed with the <code>dist</code> parameter.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb103" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1"></a><span class="fu">plot</span>(net.bg, <span class="at">layout =</span> layout_with_mds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-39-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-39"><img src="index_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb104" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb104-2"><a href="#cb104-2"></a><span class="co"># graph &lt;- play_barabasi_albert(n = 100, power = 1.2)</span></span>
<span id="cb104-3"><a href="#cb104-3"></a>graph <span class="sc">%&gt;%</span> <span class="fu">ggraph</span>(., <span class="at">layout =</span> <span class="fu">layout_with_mds</span>(.)) <span class="sc">+</span> </span>
<span id="cb104-4"><a href="#cb104-4"></a>  <span class="fu">geom_edge_link0</span>(<span class="at">colour =</span> <span class="st">"grey"</span>) <span class="sc">+</span> </span>
<span id="cb104-5"><a href="#cb104-5"></a>  <span class="fu">geom_node_point</span>(<span class="at">colour =</span> <span class="st">"orange"</span>, <span class="at">size =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-39-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-40"><img src="index_files/figure-html/unnamed-chunk-39-2.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<p>The LGL algorithm is for large connected graphs. Here you can specify a <code>root</code>- the node that will be placed in the middle of the layout.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb105" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1"></a><span class="fu">plot</span>(net.bg, <span class="at">layout =</span> layout_with_lgl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-40-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-41"><img src="index_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb106" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb106-2"><a href="#cb106-2"></a><span class="co"># graph &lt;- play_barabasi_albert(n = 100, power = 1.2)</span></span>
<span id="cb106-3"><a href="#cb106-3"></a>graph <span class="sc">%&gt;%</span> <span class="fu">ggraph</span>(., <span class="at">layout =</span> <span class="fu">layout_with_lgl</span>(.)) <span class="sc">+</span> </span>
<span id="cb106-4"><a href="#cb106-4"></a>  <span class="fu">geom_edge_link0</span>(<span class="at">colour =</span> <span class="st">"grey"</span>) <span class="sc">+</span> </span>
<span id="cb106-5"><a href="#cb106-5"></a>  <span class="fu">geom_node_point</span>(<span class="at">colour =</span> <span class="st">"orange"</span>, <span class="at">size =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-40-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-42"><img src="index_files/figure-html/unnamed-chunk-40-2.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<div class="page-columns page-full"><p>By default, igraph uses a layout called <code>layout_nicely</code> which selects an appropriate layout algorithm based on the properties of the graph. Check out all available layouts in igraph:</p><div class="no-row-height column-margin column-container"><span class="margin-aside">Type ?igraph::layout_ in your console</span></div></div>
<div class="cell">
<div class="sourceCode cell-code" id="cb107" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1"></a>layouts <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="st">"^layout_"</span>, <span class="fu">ls</span>(<span class="st">"package:igraph"</span>), <span class="at">value =</span> <span class="cn">TRUE</span>)[<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb107-2"><a href="#cb107-2"></a></span>
<span id="cb107-3"><a href="#cb107-3"></a><span class="co"># Remove layouts that do not apply to our graph.</span></span>
<span id="cb107-4"><a href="#cb107-4"></a>layouts <span class="ot">&lt;-</span> layouts[<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">"bipartite|merge|norm|sugiyama|tree"</span>, layouts)]</span>
<span id="cb107-5"><a href="#cb107-5"></a></span>
<span id="cb107-6"><a href="#cb107-6"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">3</span>), <span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>))</span>
<span id="cb107-7"><a href="#cb107-7"></a></span>
<span id="cb107-8"><a href="#cb107-8"></a><span class="cf">for</span> (layout <span class="cf">in</span> layouts) {</span>
<span id="cb107-9"><a href="#cb107-9"></a>  <span class="fu">print</span>(layout)</span>
<span id="cb107-10"><a href="#cb107-10"></a>  l <span class="ot">&lt;-</span> <span class="fu">do.call</span>(layout, <span class="fu">list</span>(net))</span>
<span id="cb107-11"><a href="#cb107-11"></a>  <span class="fu">plot</span>(net, <span class="at">edge.arrow.mode =</span> <span class="dv">0</span>, <span class="at">layout =</span> l, <span class="at">main =</span> layout) }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>[1] "layout_as_star"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>[1] "layout_components"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>[1] "layout_in_circle"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>[1] "layout_nicely"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>[1] "layout_on_grid"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>[1] "layout_on_sphere"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>[1] "layout_randomly"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>[1] "layout_with_dh"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>[1] "layout_with_drl"</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-41-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-43"><img src="index_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>[1] "layout_with_fr"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>[1] "layout_with_gem"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>[1] "layout_with_graphopt"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>[1] "layout_with_kk"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>[1] "layout_with_lgl"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>[1] "layout_with_mds"</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-41-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-44"><img src="index_files/figure-html/unnamed-chunk-41-2.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
</section></section><section id="highlighting-aspects-of-the-network" class="level1"><h1>——-~~ Highlighting aspects of the network ——–</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb123" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1"></a><span class="fu">plot</span>(net)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-42-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-45"><img src="index_files/figure-html/unnamed-chunk-42-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<p>Notice that our network plot is still not too helpful. We can identify the type and size of nodes, but cannot see much about the structure since the links we’re examining are so dense. One way to approach this is to see if we can sparsify the network.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb124" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1"></a><span class="fu">hist</span>(links<span class="sc">$</span>weight)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-43-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-46"><img src="index_files/figure-html/unnamed-chunk-43-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb125" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1"></a><span class="fu">mean</span>(links<span class="sc">$</span>weight)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>[1] 12.40816</code></pre>
</div>
<div class="sourceCode cell-code" id="cb127" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1"></a><span class="fu">sd</span>(links<span class="sc">$</span>weight)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>[1] 9.905635</code></pre>
</div>
</div>
<p>There are more sophisticated ways to extract the key edges, but for the purposes of this exercise we’ll only keep ones that have weight higher than the mean for the network. We can delete edges using <code>delete_edges(net, edges)</code> (or, by the way, add edges with <code>add_edges(net, edges)</code> )</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb129" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1"></a>cut.off <span class="ot">&lt;-</span> <span class="fu">mean</span>(links<span class="sc">$</span>weight)</span>
<span id="cb129-2"><a href="#cb129-2"></a>net.sp <span class="ot">&lt;-</span> <span class="fu">delete_edges</span>(net, <span class="fu">E</span>(net)[weight<span class="sc">&lt;</span>cut.off])</span>
<span id="cb129-3"><a href="#cb129-3"></a><span class="fu">plot</span>(net.sp, <span class="at">layout =</span> layout_with_kk)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-44-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-47"><img src="index_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb130" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb130-2"><a href="#cb130-2"></a>graph <span class="ot">&lt;-</span> <span class="fu">tbl_graph</span>(nodes, links, <span class="at">directed =</span> <span class="cn">TRUE</span>) </span>
<span id="cb130-3"><a href="#cb130-3"></a>graph</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code># A tbl_graph: 17 nodes and 49 edges
#
# A directed multigraph with 1 component
#
# Node Data: 17 × 5 (active)
   id    media               media.type type.label audience.size
   &lt;chr&gt; &lt;chr&gt;                    &lt;int&gt; &lt;chr&gt;              &lt;int&gt;
 1 s01   NY Times                     1 Newspaper             20
 2 s02   Washington Post              1 Newspaper             25
 3 s03   Wall Street Journal          1 Newspaper             30
 4 s04   USA Today                    1 Newspaper             32
 5 s05   LA Times                     1 Newspaper             20
 6 s06   New York Post                1 Newspaper             50
 7 s07   CNN                          2 TV                    56
 8 s08   MSNBC                        2 TV                    34
 9 s09   FOX News                     2 TV                    60
10 s10   ABC                          2 TV                    23
11 s11   BBC                          2 TV                    34
12 s12   Yahoo News                   3 Online                33
13 s13   Google News                  3 Online                23
14 s14   Reuters.com                  3 Online                12
15 s15   NYTimes.com                  3 Online                24
16 s16   WashingtonPost.com           3 Online                28
17 s17   AOL.com                      3 Online                33
#
# Edge Data: 49 × 4
   from    to type      weight
  &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;int&gt;
1     1     2 hyperlink     22
2     1     3 hyperlink     22
3     1     4 hyperlink     21
# ℹ 46 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb132" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1"></a>graph <span class="sc">%&gt;%</span></span>
<span id="cb132-2"><a href="#cb132-2"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span></span>
<span id="cb132-3"><a href="#cb132-3"></a>  <span class="fu">mutate</span>(<span class="at">size =</span> <span class="fu">centrality_degree</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb132-4"><a href="#cb132-4"></a>  </span>
<span id="cb132-5"><a href="#cb132-5"></a>  <span class="co"># New stuff here</span></span>
<span id="cb132-6"><a href="#cb132-6"></a>  <span class="fu">activate</span>(edges) <span class="sc">%&gt;%</span> </span>
<span id="cb132-7"><a href="#cb132-7"></a>  <span class="fu">filter</span>(weight <span class="sc">&gt;=</span> <span class="fu">mean</span>(weight)) <span class="sc">%&gt;%</span> </span>
<span id="cb132-8"><a href="#cb132-8"></a>  </span>
<span id="cb132-9"><a href="#cb132-9"></a>  <span class="fu">ggraph</span>(., <span class="at">layout =</span> <span class="st">"kk"</span>) <span class="sc">+</span></span>
<span id="cb132-10"><a href="#cb132-10"></a>  <span class="fu">geom_edge_link</span>(</span>
<span id="cb132-11"><a href="#cb132-11"></a>    <span class="fu">aes</span>(<span class="at">width =</span> weight),</span>
<span id="cb132-12"><a href="#cb132-12"></a>    <span class="at">color =</span> <span class="st">"grey80"</span>,</span>
<span id="cb132-13"><a href="#cb132-13"></a>    <span class="at">end_cap =</span> <span class="fu">circle</span>(.<span class="dv">2</span>, <span class="st">"cm"</span>),</span>
<span id="cb132-14"><a href="#cb132-14"></a>    </span>
<span id="cb132-15"><a href="#cb132-15"></a>    <span class="at">arrow =</span> <span class="fu">arrow</span>(</span>
<span id="cb132-16"><a href="#cb132-16"></a>      <span class="at">type =</span> <span class="st">"closed"</span>,</span>
<span id="cb132-17"><a href="#cb132-17"></a>      <span class="at">ends =</span> <span class="st">"last"</span>,</span>
<span id="cb132-18"><a href="#cb132-18"></a>      <span class="at">length =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"mm"</span>)</span>
<span id="cb132-19"><a href="#cb132-19"></a>    )) <span class="sc">+</span></span>
<span id="cb132-20"><a href="#cb132-20"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">fill =</span> type.label,</span>
<span id="cb132-21"><a href="#cb132-21"></a>                      <span class="at">size =</span> size),</span>
<span id="cb132-22"><a href="#cb132-22"></a>                  <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb132-23"><a href="#cb132-23"></a>                  <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb132-24"><a href="#cb132-24"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb132-25"><a href="#cb132-25"></a>    <span class="at">name =</span> <span class="st">"Media Type"</span>,</span>
<span id="cb132-26"><a href="#cb132-26"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"grey50"</span>, <span class="st">"gold"</span>, <span class="st">"tomato"</span>),</span>
<span id="cb132-27"><a href="#cb132-27"></a>    <span class="at">guide =</span> <span class="st">"legend"</span>) <span class="sc">+</span></span>
<span id="cb132-28"><a href="#cb132-28"></a>  </span>
<span id="cb132-29"><a href="#cb132-29"></a>  <span class="fu">scale_edge_width</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.2</span>, <span class="fl">1.5</span>), <span class="at">guide =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb132-30"><a href="#cb132-30"></a>  <span class="fu">scale_size_continuous</span>(<span class="st">"Degree"</span>, <span class="at">range =</span>  <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">16</span>)) <span class="sc">+</span></span>
<span id="cb132-31"><a href="#cb132-31"></a>  <span class="co"># not "limits"!</span></span>
<span id="cb132-32"><a href="#cb132-32"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">pch =</span> <span class="dv">21</span>,</span>
<span id="cb132-33"><a href="#cb132-33"></a>                                                 <span class="at">size =</span> <span class="dv">4</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-44-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-48"><img src="index_files/figure-html/unnamed-chunk-44-2.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<p>Another way to think about this is to plot the two tie types (hyperlinks and mentions) separately. We will do that in section 5 of this tutorial: Plotting multiplex networks.</p>
<section id="community-detection" class="level3"><h3 class="anchored" data-anchor-id="community-detection">Community Detection</h3>
<p>We can also try to make the network map more useful by showing the communities within it.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb133" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1"></a><span class="co">#Community detection (by optimizing modularity over partitions):</span></span>
<span id="cb133-2"><a href="#cb133-2"></a>clp <span class="ot">&lt;-</span> <span class="fu">cluster_optimal</span>(net)</span>
<span id="cb133-3"><a href="#cb133-3"></a><span class="fu">class</span>(clp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>[1] "communities"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb135" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1"></a>clp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>IGRAPH clustering optimal, groups: 4, mod: 0.6
+ groups:
  $`1`
  [1] "s01" "s02" "s03" "s04" "s05" "s11" "s15"
  
  $`2`
  [1] "s06" "s16" "s17"
  
  $`3`
  [1] "s07" "s08" "s09" "s10"
  
  $`4`
  + ... omitted several groups/vertices</code></pre>
</div>
<div class="sourceCode cell-code" id="cb137" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1"></a>clp<span class="sc">$</span>membership</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code> [1] 1 1 1 1 1 2 3 3 3 3 1 4 4 4 1 2 2</code></pre>
</div>
</div>
<p>Community detection returns an object of class “communities” which igraph knows how to plot:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb139" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1"></a><span class="fu">plot</span>(clp, net)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-46-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-49"><img src="index_files/figure-html/unnamed-chunk-46-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<p>To plot communities using the <code>tidygraph</code> approach, I have taken help from the <code>ggforce</code> package. This package allows drawing of hull shapes around specific sets of points. Here goes:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb140" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb140-2"><a href="#cb140-2"></a><span class="co"># And ggforce</span></span>
<span id="cb140-3"><a href="#cb140-3"></a><span class="fu">library</span>(ggforce)</span>
<span id="cb140-4"><a href="#cb140-4"></a>graph <span class="ot">&lt;-</span> <span class="fu">tbl_graph</span>(nodes, links, <span class="at">directed =</span> <span class="cn">TRUE</span>) </span>
<span id="cb140-5"><a href="#cb140-5"></a>graph <span class="ot">&lt;-</span> graph <span class="sc">%&gt;%</span></span>
<span id="cb140-6"><a href="#cb140-6"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span></span>
<span id="cb140-7"><a href="#cb140-7"></a>  <span class="fu">mutate</span>(<span class="at">size =</span> <span class="fu">centrality_degree</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb140-8"><a href="#cb140-8"></a>  <span class="co"># new stuff</span></span>
<span id="cb140-9"><a href="#cb140-9"></a>  <span class="fu">mutate</span>(<span class="at">community =</span> <span class="fu">as.factor</span>(tidygraph<span class="sc">::</span><span class="fu">group_optimal</span>()))</span>
<span id="cb140-10"><a href="#cb140-10"></a></span>
<span id="cb140-11"><a href="#cb140-11"></a><span class="co"># Need to pre-compute layout coordinates to pass to ggforce</span></span>
<span id="cb140-12"><a href="#cb140-12"></a><span class="co"># To create a hull around each community</span></span>
<span id="cb140-13"><a href="#cb140-13"></a>layout_go <span class="ot">&lt;-</span> <span class="fu">layout_with_graphopt</span>(graph)</span>
<span id="cb140-14"><a href="#cb140-14"></a>  </span>
<span id="cb140-15"><a href="#cb140-15"></a><span class="fu">ggraph</span>(graph, <span class="at">layout =</span> layout_go) <span class="sc">+</span></span>
<span id="cb140-16"><a href="#cb140-16"></a>  </span>
<span id="cb140-17"><a href="#cb140-17"></a> <span class="co"># new stuff</span></span>
<span id="cb140-18"><a href="#cb140-18"></a> <span class="co"># need to pass x and y coordinates of nodes to `geom_mark_hull`</span></span>
<span id="cb140-19"><a href="#cb140-19"></a> <span class="co"># Hull colour is `community`</span></span>
<span id="cb140-20"><a href="#cb140-20"></a> <span class="co">#</span></span>
<span id="cb140-21"><a href="#cb140-21"></a>  ggforce<span class="sc">::</span><span class="fu">geom_mark_hull</span>(<span class="fu">aes</span>(<span class="at">x =</span> layout_go[, <span class="dv">1</span>],</span>
<span id="cb140-22"><a href="#cb140-22"></a>                     <span class="at">y =</span> layout_go[, <span class="dv">2</span>],</span>
<span id="cb140-23"><a href="#cb140-23"></a>                     <span class="at">color =</span> community, <span class="at">fill =</span> community), <span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb140-24"><a href="#cb140-24"></a>  </span>
<span id="cb140-25"><a href="#cb140-25"></a>  <span class="fu">geom_edge_link</span>(</span>
<span id="cb140-26"><a href="#cb140-26"></a>    <span class="fu">aes</span>(<span class="at">width =</span> weight),</span>
<span id="cb140-27"><a href="#cb140-27"></a>    <span class="at">color =</span> <span class="st">"grey80"</span>,</span>
<span id="cb140-28"><a href="#cb140-28"></a>    <span class="at">end_cap =</span> <span class="fu">circle</span>(.<span class="dv">2</span>, <span class="st">"cm"</span>),</span>
<span id="cb140-29"><a href="#cb140-29"></a>    </span>
<span id="cb140-30"><a href="#cb140-30"></a>    <span class="at">arrow =</span> <span class="fu">arrow</span>(</span>
<span id="cb140-31"><a href="#cb140-31"></a>      <span class="at">type =</span> <span class="st">"closed"</span>,</span>
<span id="cb140-32"><a href="#cb140-32"></a>      <span class="at">ends =</span> <span class="st">"last"</span>,</span>
<span id="cb140-33"><a href="#cb140-33"></a>      <span class="at">length =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"mm"</span>)</span>
<span id="cb140-34"><a href="#cb140-34"></a>    )</span>
<span id="cb140-35"><a href="#cb140-35"></a>  ) <span class="sc">+</span></span>
<span id="cb140-36"><a href="#cb140-36"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">fill =</span> type.label,</span>
<span id="cb140-37"><a href="#cb140-37"></a>                      <span class="at">size =</span> size),</span>
<span id="cb140-38"><a href="#cb140-38"></a>                  <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb140-39"><a href="#cb140-39"></a>                  <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb140-40"><a href="#cb140-40"></a>  <span class="fu">scale_edge_width</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.2</span>, <span class="fl">1.5</span>), <span class="at">guide =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb140-41"><a href="#cb140-41"></a>  <span class="fu">scale_size_continuous</span>(<span class="st">"Degree"</span>, <span class="at">range =</span>  <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb140-42"><a href="#cb140-42"></a>  <span class="fu">scale_fill_discrete</span>(<span class="st">"Media Type"</span>) <span class="sc">+</span></span>
<span id="cb140-43"><a href="#cb140-43"></a>  <span class="fu">scale_colour_discrete</span>(<span class="st">"Community"</span>) <span class="sc">+</span></span>
<span id="cb140-44"><a href="#cb140-44"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">pch =</span> <span class="dv">21</span>,</span>
<span id="cb140-45"><a href="#cb140-45"></a>                                                 <span class="at">size =</span> <span class="dv">4</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-47-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-50"><img src="index_files/figure-html/unnamed-chunk-47-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<p>We can also plot the communities without relying on their built-in plot:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb141" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1"></a><span class="fu">V</span>(net)<span class="sc">$</span>community <span class="ot">&lt;-</span> clp<span class="sc">$</span>membership</span>
<span id="cb141-2"><a href="#cb141-2"></a>colrs <span class="ot">&lt;-</span></span>
<span id="cb141-3"><a href="#cb141-3"></a>  <span class="fu">adjustcolor</span>(<span class="fu">c</span>(<span class="st">"gray50"</span>, <span class="st">"tomato"</span>, <span class="st">"gold"</span>, <span class="st">"yellowgreen"</span>), <span class="at">alpha =</span> .<span class="dv">6</span>)</span>
<span id="cb141-4"><a href="#cb141-4"></a><span class="fu">plot</span>(net, <span class="at">vertex.color =</span> colrs[<span class="fu">V</span>(net)<span class="sc">$</span>community])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-48-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-51"><img src="index_files/figure-html/unnamed-chunk-48-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb142" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1"></a><span class="co"># using tidygraph</span></span>
<span id="cb142-2"><a href="#cb142-2"></a><span class="co"># All clustering algorithms from igraph is available in tidygraph using the group_* prefix. All of these functions return an integer vector with nodes (or edges) sharing the same integer being grouped together.</span></span>
<span id="cb142-3"><a href="#cb142-3"></a>graph <span class="ot">&lt;-</span> <span class="fu">tbl_graph</span>(nodes, links, <span class="at">directed =</span> <span class="cn">TRUE</span>) </span>
<span id="cb142-4"><a href="#cb142-4"></a>graph</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code># A tbl_graph: 17 nodes and 49 edges
#
# A directed multigraph with 1 component
#
# Node Data: 17 × 5 (active)
   id    media               media.type type.label audience.size
   &lt;chr&gt; &lt;chr&gt;                    &lt;int&gt; &lt;chr&gt;              &lt;int&gt;
 1 s01   NY Times                     1 Newspaper             20
 2 s02   Washington Post              1 Newspaper             25
 3 s03   Wall Street Journal          1 Newspaper             30
 4 s04   USA Today                    1 Newspaper             32
 5 s05   LA Times                     1 Newspaper             20
 6 s06   New York Post                1 Newspaper             50
 7 s07   CNN                          2 TV                    56
 8 s08   MSNBC                        2 TV                    34
 9 s09   FOX News                     2 TV                    60
10 s10   ABC                          2 TV                    23
11 s11   BBC                          2 TV                    34
12 s12   Yahoo News                   3 Online                33
13 s13   Google News                  3 Online                23
14 s14   Reuters.com                  3 Online                12
15 s15   NYTimes.com                  3 Online                24
16 s16   WashingtonPost.com           3 Online                28
17 s17   AOL.com                      3 Online                33
#
# Edge Data: 49 × 4
   from    to type      weight
  &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;int&gt;
1     1     2 hyperlink     22
2     1     3 hyperlink     22
3     1     4 hyperlink     21
# ℹ 46 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb144" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1"></a>graph <span class="sc">%&gt;%</span></span>
<span id="cb144-2"><a href="#cb144-2"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span></span>
<span id="cb144-3"><a href="#cb144-3"></a>  <span class="fu">mutate</span>(<span class="at">size =</span> <span class="fu">centrality_degree</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb144-4"><a href="#cb144-4"></a>  </span>
<span id="cb144-5"><a href="#cb144-5"></a>  <span class="co"># new stuff</span></span>
<span id="cb144-6"><a href="#cb144-6"></a>  <span class="fu">mutate</span>(<span class="at">community =</span> <span class="fu">as.factor</span>(tidygraph<span class="sc">::</span><span class="fu">group_optimal</span>())) <span class="sc">%&gt;%</span> </span>
<span id="cb144-7"><a href="#cb144-7"></a>  </span>
<span id="cb144-8"><a href="#cb144-8"></a>  <span class="fu">ggraph</span>(., <span class="at">layout =</span> <span class="st">"graphopt"</span>) <span class="sc">+</span></span>
<span id="cb144-9"><a href="#cb144-9"></a>  <span class="fu">geom_edge_link</span>(</span>
<span id="cb144-10"><a href="#cb144-10"></a>    <span class="fu">aes</span>(<span class="at">width =</span> weight),</span>
<span id="cb144-11"><a href="#cb144-11"></a>    <span class="at">color =</span> <span class="st">"grey80"</span>,</span>
<span id="cb144-12"><a href="#cb144-12"></a>    <span class="at">end_cap =</span> <span class="fu">circle</span>(.<span class="dv">2</span>, <span class="st">"cm"</span>),</span>
<span id="cb144-13"><a href="#cb144-13"></a>    <span class="co"># clears an area near the node</span></span>
<span id="cb144-14"><a href="#cb144-14"></a>    </span>
<span id="cb144-15"><a href="#cb144-15"></a>    <span class="at">arrow =</span> <span class="fu">arrow</span>(</span>
<span id="cb144-16"><a href="#cb144-16"></a>      <span class="at">type =</span> <span class="st">"closed"</span>,</span>
<span id="cb144-17"><a href="#cb144-17"></a>      <span class="at">ends =</span> <span class="st">"last"</span>,</span>
<span id="cb144-18"><a href="#cb144-18"></a>      <span class="at">length =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"mm"</span>)</span>
<span id="cb144-19"><a href="#cb144-19"></a>    )) <span class="sc">+</span></span>
<span id="cb144-20"><a href="#cb144-20"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">fill =</span> community,</span>
<span id="cb144-21"><a href="#cb144-21"></a>                      <span class="at">size =</span> size),</span>
<span id="cb144-22"><a href="#cb144-22"></a>                  <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb144-23"><a href="#cb144-23"></a>                  <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb144-24"><a href="#cb144-24"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb144-25"><a href="#cb144-25"></a>    <span class="at">name =</span> <span class="st">"Community"</span>,</span>
<span id="cb144-26"><a href="#cb144-26"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"grey50"</span>, <span class="st">"gold"</span>, <span class="st">"tomato"</span>, <span class="st">"yellowgreen"</span>),</span>
<span id="cb144-27"><a href="#cb144-27"></a>    <span class="at">guide =</span> <span class="st">"legend"</span>) <span class="sc">+</span></span>
<span id="cb144-28"><a href="#cb144-28"></a></span>
<span id="cb144-29"><a href="#cb144-29"></a>  <span class="fu">scale_edge_width</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.2</span>, <span class="fl">1.5</span>), <span class="at">guide =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb144-30"><a href="#cb144-30"></a>  <span class="fu">scale_size_continuous</span>(<span class="st">"Degree"</span>, <span class="at">range =</span>  <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb144-31"><a href="#cb144-31"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">pch =</span> <span class="dv">21</span>,</span>
<span id="cb144-32"><a href="#cb144-32"></a>                                                 <span class="at">size =</span> <span class="dv">4</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-48-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-52"><img src="index_files/figure-html/unnamed-chunk-48-2.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
</section><section id="highlighting-specific-nodes-or-links" class="level2"><h2 class="anchored" data-anchor-id="highlighting-specific-nodes-or-links">——-~~ Highlighting specific nodes or links ——–</h2>
<p>Sometimes we want to focus the visualization on a particular node or a group of nodes. Let’s represent distance from the NYT:</p>
<ul>
<li>
<code>distances()</code> calculates shortest path from vertices in ‘v’ to ones in ‘to’.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb145" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1"></a>dist.from.NYT <span class="ot">&lt;-</span> <span class="fu">distances</span>(net, </span>
<span id="cb145-2"><a href="#cb145-2"></a>                           <span class="at">v =</span> <span class="fu">V</span>(net)[media <span class="sc">==</span> <span class="st">"NY Times"</span>], </span>
<span id="cb145-3"><a href="#cb145-3"></a>                           <span class="at">to =</span> <span class="fu">V</span>(net), </span>
<span id="cb145-4"><a href="#cb145-4"></a>                           <span class="at">weights =</span> <span class="cn">NA</span>)</span>
<span id="cb145-5"><a href="#cb145-5"></a></span>
<span id="cb145-6"><a href="#cb145-6"></a><span class="co">#Set colors to plot the distances:</span></span>
<span id="cb145-7"><a href="#cb145-7"></a>oranges <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>(<span class="fu">c</span>(<span class="st">"dark red"</span>, <span class="st">"gold"</span>))</span>
<span id="cb145-8"><a href="#cb145-8"></a>col <span class="ot">&lt;-</span> <span class="fu">oranges</span>(<span class="fu">max</span>(dist.from.NYT)<span class="sc">+</span><span class="dv">1</span>)</span>
<span id="cb145-9"><a href="#cb145-9"></a>col <span class="ot">&lt;-</span> col[dist.from.NYT<span class="sc">+</span><span class="dv">1</span>]</span>
<span id="cb145-10"><a href="#cb145-10"></a></span>
<span id="cb145-11"><a href="#cb145-11"></a><span class="co"># Let's have same coordinates for Nodes in both graph renderings</span></span>
<span id="cb145-12"><a href="#cb145-12"></a><span class="co"># Then we can verify that the distance calculations are the same for both renderings</span></span>
<span id="cb145-13"><a href="#cb145-13"></a>coords <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">layout_nicely</span>(net)</span>
<span id="cb145-14"><a href="#cb145-14"></a><span class="fu">plot</span>(net, <span class="at">vertex.label =</span> dist.from.NYT,</span>
<span id="cb145-15"><a href="#cb145-15"></a>     <span class="at">vertex.color =</span> col, <span class="at">vertex.label.color =</span> <span class="st">"black"</span>,</span>
<span id="cb145-16"><a href="#cb145-16"></a>     <span class="at">layout =</span> coords)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-49-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-53"><img src="index_files/figure-html/unnamed-chunk-49-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb146" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb146-2"><a href="#cb146-2"></a>graph <span class="ot">&lt;-</span> <span class="fu">tbl_graph</span>(nodes, links, <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb146-3"><a href="#cb146-3"></a>graph</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code># A tbl_graph: 17 nodes and 49 edges
#
# A directed multigraph with 1 component
#
# Node Data: 17 × 5 (active)
   id    media               media.type type.label audience.size
   &lt;chr&gt; &lt;chr&gt;                    &lt;int&gt; &lt;chr&gt;              &lt;int&gt;
 1 s01   NY Times                     1 Newspaper             20
 2 s02   Washington Post              1 Newspaper             25
 3 s03   Wall Street Journal          1 Newspaper             30
 4 s04   USA Today                    1 Newspaper             32
 5 s05   LA Times                     1 Newspaper             20
 6 s06   New York Post                1 Newspaper             50
 7 s07   CNN                          2 TV                    56
 8 s08   MSNBC                        2 TV                    34
 9 s09   FOX News                     2 TV                    60
10 s10   ABC                          2 TV                    23
11 s11   BBC                          2 TV                    34
12 s12   Yahoo News                   3 Online                33
13 s13   Google News                  3 Online                23
14 s14   Reuters.com                  3 Online                12
15 s15   NYTimes.com                  3 Online                24
16 s16   WashingtonPost.com           3 Online                28
17 s17   AOL.com                      3 Online                33
#
# Edge Data: 49 × 4
   from    to type      weight
  &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;int&gt;
1     1     2 hyperlink     22
2     1     3 hyperlink     22
3     1     4 hyperlink     21
# ℹ 46 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb148" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1"></a><span class="co"># Set up NY Times as root node first</span></span>
<span id="cb148-2"><a href="#cb148-2"></a><span class="co"># V(net)[media == "NY Times"] cannot be used since it returns an `igraph.vs` ( i.e. a list ) object. </span></span>
<span id="cb148-3"><a href="#cb148-3"></a><span class="co"># We need an integer node id.</span></span>
<span id="cb148-4"><a href="#cb148-4"></a>root_nyt <span class="ot">&lt;-</span> graph <span class="sc">%&gt;%</span></span>
<span id="cb148-5"><a href="#cb148-5"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span></span>
<span id="cb148-6"><a href="#cb148-6"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb148-7"><a href="#cb148-7"></a>  <span class="fu">rowid_to_column</span>(<span class="at">var =</span> <span class="st">"node_id"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb148-8"><a href="#cb148-8"></a>  <span class="fu">filter</span>(media <span class="sc">==</span> <span class="st">"NY Times"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb148-9"><a href="#cb148-9"></a>  <span class="fu">select</span>(node_id) <span class="sc">%&gt;%</span> <span class="fu">as_vector</span>()</span>
<span id="cb148-10"><a href="#cb148-10"></a>root_nyt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>node_id 
      1 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb150" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1"></a>graph <span class="sc">%&gt;%</span></span>
<span id="cb150-2"><a href="#cb150-2"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span></span>
<span id="cb150-3"><a href="#cb150-3"></a>  <span class="fu">mutate</span>(<span class="at">size =</span> <span class="fu">centrality_degree</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb150-4"><a href="#cb150-4"></a>  </span>
<span id="cb150-5"><a href="#cb150-5"></a>  <span class="co"># new stuff:</span></span>
<span id="cb150-6"><a href="#cb150-6"></a>  <span class="co"># breadth first search for all distances from the root node</span></span>
<span id="cb150-7"><a href="#cb150-7"></a>  <span class="fu">mutate</span>(<span class="at">order =</span> <span class="fu">bfs_dist</span>(<span class="at">root =</span> root_nyt)) <span class="sc">%&gt;%</span></span>
<span id="cb150-8"><a href="#cb150-8"></a>  </span>
<span id="cb150-9"><a href="#cb150-9"></a>  <span class="fu">ggraph</span>(., <span class="at">layout =</span> coords) <span class="sc">+</span> <span class="co"># same layout</span></span>
<span id="cb150-10"><a href="#cb150-10"></a>  <span class="fu">geom_edge_link</span>(</span>
<span id="cb150-11"><a href="#cb150-11"></a>    <span class="fu">aes</span>(<span class="at">width =</span> weight),</span>
<span id="cb150-12"><a href="#cb150-12"></a>    <span class="at">color =</span> <span class="st">"grey80"</span>,</span>
<span id="cb150-13"><a href="#cb150-13"></a>    <span class="at">end_cap =</span> <span class="fu">circle</span>(.<span class="dv">2</span>, <span class="st">"cm"</span>),</span>
<span id="cb150-14"><a href="#cb150-14"></a>    <span class="at">arrow =</span> <span class="fu">arrow</span>(</span>
<span id="cb150-15"><a href="#cb150-15"></a>      <span class="at">type =</span> <span class="st">"closed"</span>,</span>
<span id="cb150-16"><a href="#cb150-16"></a>      <span class="at">ends =</span> <span class="st">"last"</span>,</span>
<span id="cb150-17"><a href="#cb150-17"></a>      <span class="at">length =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"mm"</span>)</span>
<span id="cb150-18"><a href="#cb150-18"></a>    )</span>
<span id="cb150-19"><a href="#cb150-19"></a>  ) <span class="sc">+</span></span>
<span id="cb150-20"><a href="#cb150-20"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">fill =</span> order,</span>
<span id="cb150-21"><a href="#cb150-21"></a>                      <span class="at">size =</span> size),</span>
<span id="cb150-22"><a href="#cb150-22"></a>                  <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb150-23"><a href="#cb150-23"></a>                  <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb150-24"><a href="#cb150-24"></a>  </span>
<span id="cb150-25"><a href="#cb150-25"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> order)) <span class="sc">+</span></span>
<span id="cb150-26"><a href="#cb150-26"></a>  </span>
<span id="cb150-27"><a href="#cb150-27"></a>  <span class="fu">scale_fill_gradient</span>(</span>
<span id="cb150-28"><a href="#cb150-28"></a>    <span class="at">name =</span> <span class="st">"Distance from NY Times"</span>,</span>
<span id="cb150-29"><a href="#cb150-29"></a>    <span class="at">low =</span> <span class="st">"dark red"</span>,</span>
<span id="cb150-30"><a href="#cb150-30"></a>    <span class="at">high =</span> <span class="st">"gold"</span>,</span>
<span id="cb150-31"><a href="#cb150-31"></a>    <span class="at">guide =</span> <span class="st">"legend"</span></span>
<span id="cb150-32"><a href="#cb150-32"></a>  ) <span class="sc">+</span></span>
<span id="cb150-33"><a href="#cb150-33"></a>  <span class="fu">scale_edge_width</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.2</span>, <span class="fl">1.5</span>), <span class="at">guide =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb150-34"><a href="#cb150-34"></a>  <span class="fu">scale_size_continuous</span>(<span class="st">"Degree"</span>, <span class="at">range =</span>  <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">16</span>)) <span class="sc">+</span></span>
<span id="cb150-35"><a href="#cb150-35"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">pch =</span> <span class="dv">21</span>,</span>
<span id="cb150-36"><a href="#cb150-36"></a>                                                 <span class="at">size =</span> <span class="dv">4</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-50-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-54"><img src="index_files/figure-html/unnamed-chunk-50-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<p>Or, a bit more readable:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb151" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1"></a><span class="fu">plot</span>(net, <span class="at">vertex.color =</span> col, </span>
<span id="cb151-2"><a href="#cb151-2"></a>     <span class="at">vertex.label =</span> dist.from.NYT, <span class="at">edge.arrow.size =</span> .<span class="dv">6</span>,</span>
<span id="cb151-3"><a href="#cb151-3"></a>     <span class="at">vertex.label.color =</span> <span class="st">"white"</span>, </span>
<span id="cb151-4"><a href="#cb151-4"></a>     <span class="at">vertex.size =</span> <span class="fu">V</span>(net)<span class="sc">$</span>size<span class="sc">*</span><span class="fl">1.6</span>, </span>
<span id="cb151-5"><a href="#cb151-5"></a>     <span class="at">edge.width =</span> <span class="dv">2</span>,</span>
<span id="cb151-6"><a href="#cb151-6"></a>     <span class="at">layout =</span> <span class="fu">norm_coords</span>(<span class="fu">layout_with_lgl</span>(net))<span class="sc">*</span><span class="fl">1.4</span>, <span class="at">rescale =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-51-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-55"><img src="index_files/figure-html/unnamed-chunk-51-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
</section><section id="path-highlighting" class="level2"><h2 class="anchored" data-anchor-id="path-highlighting">Path Highlighting</h2>
<p>We can also highlight paths between the nodes in the network.</p>
<ul>
<li>Say here between MSNBC and the New York Post</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb152" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1"></a>news.path <span class="ot">&lt;-</span> <span class="fu">shortest_paths</span>(net,</span>
<span id="cb152-2"><a href="#cb152-2"></a>                            <span class="at">from  =</span>  <span class="fu">V</span>(net)[media <span class="sc">==</span> <span class="st">"MSNBC"</span>],</span>
<span id="cb152-3"><a href="#cb152-3"></a>                            <span class="at">to   =</span>  <span class="fu">V</span>(net)[media <span class="sc">==</span> <span class="st">"New York Post"</span>],</span>
<span id="cb152-4"><a href="#cb152-4"></a>                            <span class="at">output  =</span>  <span class="st">"both"</span>)  <span class="co">#both path nodes and edges</span></span>
<span id="cb152-5"><a href="#cb152-5"></a>news.path.distance <span class="ot">&lt;-</span> <span class="fu">distances</span>(net,</span>
<span id="cb152-6"><a href="#cb152-6"></a>                                <span class="fu">V</span>(net)[media <span class="sc">==</span> <span class="st">"MSNBC"</span>],</span>
<span id="cb152-7"><a href="#cb152-7"></a>                                <span class="fu">V</span>(net)[media <span class="sc">==</span> <span class="st">"New York Post"</span>] )</span>
<span id="cb152-8"><a href="#cb152-8"></a>news.path</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>$vpath
$vpath[[1]]
+ 4/17 vertices, named, from ea8819e:
[1] s08 s03 s12 s06


$epath
$epath[[1]]
+ 3/48 edges from ea8819e (vertex names):
[1] s08-&gt;s03 s03-&gt;s12 s12-&gt;s06


$predecessors
NULL

$inbound_edges
NULL</code></pre>
</div>
<div class="sourceCode cell-code" id="cb154" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1"></a>news.path.distance</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>    s06
s08   5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb156" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1"></a><span class="co">#Generate edge color variable to plot the path:</span></span>
<span id="cb156-2"><a href="#cb156-2"></a>ecol <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">"gray80"</span>, <span class="fu">ecount</span>(net))</span>
<span id="cb156-3"><a href="#cb156-3"></a>ecol[<span class="fu">unlist</span>(news.path<span class="sc">$</span>epath)] <span class="ot">&lt;-</span> <span class="st">"orange"</span></span>
<span id="cb156-4"><a href="#cb156-4"></a></span>
<span id="cb156-5"><a href="#cb156-5"></a><span class="co">#Generate edge width variable to plot the path:</span></span>
<span id="cb156-6"><a href="#cb156-6"></a>ew <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">2</span>, <span class="fu">ecount</span>(net))</span>
<span id="cb156-7"><a href="#cb156-7"></a>ew[<span class="fu">unlist</span>(news.path<span class="sc">$</span>epath)] <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb156-8"><a href="#cb156-8"></a></span>
<span id="cb156-9"><a href="#cb156-9"></a><span class="co">#Generate node color variable to plot the path:</span></span>
<span id="cb156-10"><a href="#cb156-10"></a>vcol <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">"gray40"</span>, <span class="fu">vcount</span>(net))</span>
<span id="cb156-11"><a href="#cb156-11"></a>vcol[<span class="fu">unlist</span>(news.path<span class="sc">$</span>vpath)] <span class="ot">&lt;-</span> <span class="st">"gold"</span></span>
<span id="cb156-12"><a href="#cb156-12"></a></span>
<span id="cb156-13"><a href="#cb156-13"></a><span class="fu">plot</span>(net, <span class="at">vertex.color =</span> vcol, </span>
<span id="cb156-14"><a href="#cb156-14"></a>     <span class="at">edge.color =</span> ecol,</span>
<span id="cb156-15"><a href="#cb156-15"></a>     <span class="at">edge.width =</span> ew, </span>
<span id="cb156-16"><a href="#cb156-16"></a>     <span class="at">edge.arrow.mode =</span> <span class="dv">0</span>,</span>
<span id="cb156-17"><a href="#cb156-17"></a>     <span class="do">## added lines</span></span>
<span id="cb156-18"><a href="#cb156-18"></a>     <span class="at">vertex.label =</span> <span class="fu">V</span>(net)<span class="sc">$</span>media,</span>
<span id="cb156-19"><a href="#cb156-19"></a>     <span class="at">vertex.label.font =</span> <span class="dv">2</span>, </span>
<span id="cb156-20"><a href="#cb156-20"></a>     <span class="at">vertex.label.color =</span> <span class="st">"gray40"</span>,</span>
<span id="cb156-21"><a href="#cb156-21"></a>     <span class="at">vertex.label.cex =</span> .<span class="dv">7</span>,</span>
<span id="cb156-22"><a href="#cb156-22"></a>     <span class="at">layout =</span> coords <span class="sc">*</span> <span class="fl">1.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-52-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-56"><img src="index_files/figure-html/unnamed-chunk-52-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb157" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb157-2"><a href="#cb157-2"></a><span class="co"># We need to use:</span></span>
<span id="cb157-3"><a href="#cb157-3"></a><span class="co"># to_shortest_path(graph, from, to, mode = "out", weights = NULL)</span></span>
<span id="cb157-4"><a href="#cb157-4"></a><span class="co"># Let's set up `to` and `from` nodes</span></span>
<span id="cb157-5"><a href="#cb157-5"></a><span class="co">#</span></span>
<span id="cb157-6"><a href="#cb157-6"></a><span class="co"># V(net)[media == "NY Times"] cannot be used since it returns an `igraph.vs` ( i.e. a list ) object.</span></span>
<span id="cb157-7"><a href="#cb157-7"></a><span class="co"># We need integer node ids for `from` and `to` in `to_shortest_path`</span></span>
<span id="cb157-8"><a href="#cb157-8"></a></span>
<span id="cb157-9"><a href="#cb157-9"></a>msnbc <span class="ot">&lt;-</span> graph <span class="sc">%&gt;%</span></span>
<span id="cb157-10"><a href="#cb157-10"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span></span>
<span id="cb157-11"><a href="#cb157-11"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb157-12"><a href="#cb157-12"></a>  <span class="fu">rowid_to_column</span>(<span class="at">var =</span> <span class="st">"node_id"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb157-13"><a href="#cb157-13"></a>  <span class="fu">filter</span>(media <span class="sc">==</span> <span class="st">"MSNBC"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb157-14"><a href="#cb157-14"></a>  <span class="fu">select</span>(node_id) <span class="sc">%&gt;%</span> <span class="fu">as_vector</span>()</span>
<span id="cb157-15"><a href="#cb157-15"></a>msnbc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>node_id 
      8 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb159" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1"></a>nypost <span class="ot">&lt;-</span> graph <span class="sc">%&gt;%</span></span>
<span id="cb159-2"><a href="#cb159-2"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span></span>
<span id="cb159-3"><a href="#cb159-3"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb159-4"><a href="#cb159-4"></a>  <span class="fu">rowid_to_column</span>(<span class="at">var =</span> <span class="st">"node_id"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb159-5"><a href="#cb159-5"></a>  <span class="fu">filter</span>(media <span class="sc">==</span> <span class="st">"New York Post"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb159-6"><a href="#cb159-6"></a>  <span class="fu">select</span>(node_id) <span class="sc">%&gt;%</span> <span class="fu">as_vector</span>()</span>
<span id="cb159-7"><a href="#cb159-7"></a>nypost</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>node_id 
      6 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb161" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1"></a><span class="co"># Let's create a fresh graph object using morph</span></span>
<span id="cb161-2"><a href="#cb161-2"></a><span class="co"># However we want to merge it back with the original `graph`</span></span>
<span id="cb161-3"><a href="#cb161-3"></a><span class="co"># to get an overlay plot</span></span>
<span id="cb161-4"><a href="#cb161-4"></a><span class="co">#</span></span>
<span id="cb161-5"><a href="#cb161-5"></a><span class="co"># # Can do this to obtain a separate graph</span></span>
<span id="cb161-6"><a href="#cb161-6"></a><span class="co"># convert(to_shortest_path,from = msnbc,to = nypost)</span></span>
<span id="cb161-7"><a href="#cb161-7"></a><span class="co"># However we want to merge it back with the original `graph`</span></span>
<span id="cb161-8"><a href="#cb161-8"></a><span class="co"># to get an overlay plot</span></span>
<span id="cb161-9"><a href="#cb161-9"></a>msnbc_nyp <span class="ot">&lt;-</span></span>
<span id="cb161-10"><a href="#cb161-10"></a>  graph <span class="sc">%&gt;%</span></span>
<span id="cb161-11"><a href="#cb161-11"></a>  <span class="co"># first mark all nodes and edges as *not* on the shortest path</span></span>
<span id="cb161-12"><a href="#cb161-12"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span></span>
<span id="cb161-13"><a href="#cb161-13"></a>  <span class="fu">mutate</span>(<span class="at">shortest_path_node =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb161-14"><a href="#cb161-14"></a>  <span class="fu">activate</span>(edges) <span class="sc">%&gt;%</span></span>
<span id="cb161-15"><a href="#cb161-15"></a>  <span class="fu">mutate</span>(<span class="at">shortest_path_edge =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb161-16"><a href="#cb161-16"></a>  </span>
<span id="cb161-17"><a href="#cb161-17"></a>  <span class="co"># Find shortest path between MSNBC and NY Post</span></span>
<span id="cb161-18"><a href="#cb161-18"></a>  <span class="fu">morph</span>(to_shortest_path, <span class="at">from =</span> msnbc, <span class="at">to =</span> nypost) <span class="sc">%&gt;%</span></span>
<span id="cb161-19"><a href="#cb161-19"></a>  </span>
<span id="cb161-20"><a href="#cb161-20"></a>  <span class="co"># Now to mark the shortest_path nodes as TRUE</span></span>
<span id="cb161-21"><a href="#cb161-21"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span></span>
<span id="cb161-22"><a href="#cb161-22"></a>  <span class="fu">mutate</span>(<span class="at">shortest_path_node =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb161-23"><a href="#cb161-23"></a>  </span>
<span id="cb161-24"><a href="#cb161-24"></a>  <span class="co"># Now to mark the shortest_path edges as TRUE</span></span>
<span id="cb161-25"><a href="#cb161-25"></a>  <span class="fu">activate</span>(edges) <span class="sc">%&gt;%</span></span>
<span id="cb161-26"><a href="#cb161-26"></a>  <span class="fu">mutate</span>(<span class="at">shortest_path_edge =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb161-27"><a href="#cb161-27"></a>  <span class="co">#</span></span>
<span id="cb161-28"><a href="#cb161-28"></a>  <span class="co"># Merge back into main graph; Still saving it as a `msnbc_nyp`</span></span>
<span id="cb161-29"><a href="#cb161-29"></a>  <span class="fu">unmorph</span>()</span>
<span id="cb161-30"><a href="#cb161-30"></a>msnbc_nyp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code># A tbl_graph: 17 nodes and 49 edges
#
# A directed multigraph with 1 component
#
# Edge Data: 49 × 5 (active)
    from    to type      weight shortest_path_edge
   &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;int&gt; &lt;lgl&gt;             
 1     1     2 hyperlink     22 FALSE             
 2     1     3 hyperlink     22 FALSE             
 3     1     4 hyperlink     21 FALSE             
 4     1    15 mention       20 FALSE             
 5     2     1 hyperlink     23 FALSE             
 6     2     3 hyperlink     21 FALSE             
 7     2     9 hyperlink      1 FALSE             
 8     2    10 hyperlink      5 FALSE             
 9     3     1 hyperlink     21 FALSE             
10     3     4 hyperlink     22 TRUE              
# ℹ 39 more rows
#
# Node Data: 17 × 6
  id    media             media.type type.label audience.size shortest_path_node
  &lt;chr&gt; &lt;chr&gt;                  &lt;int&gt; &lt;chr&gt;              &lt;int&gt; &lt;lgl&gt;             
1 s01   NY Times                   1 Newspaper             20 FALSE             
2 s02   Washington Post            1 Newspaper             25 FALSE             
3 s03   Wall Street Jour…          1 Newspaper             30 TRUE              
# ℹ 14 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb163" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1"></a>msnbc_nyp <span class="sc">%&gt;%</span></span>
<span id="cb163-2"><a href="#cb163-2"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span></span>
<span id="cb163-3"><a href="#cb163-3"></a>  <span class="fu">mutate</span>(<span class="at">size =</span> <span class="fu">centrality_degree</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb163-4"><a href="#cb163-4"></a>  <span class="fu">ggraph</span>(<span class="at">layout =</span> coords) <span class="sc">+</span></span>
<span id="cb163-5"><a href="#cb163-5"></a>  <span class="co">#geom_edge_link0(colour = "grey") +</span></span>
<span id="cb163-6"><a href="#cb163-6"></a>  <span class="fu">geom_edge_link0</span>(<span class="fu">aes</span>(<span class="at">colour =</span> shortest_path_edge,</span>
<span id="cb163-7"><a href="#cb163-7"></a>                      <span class="at">width =</span> shortest_path_edge)) <span class="sc">+</span></span>
<span id="cb163-8"><a href="#cb163-8"></a>  </span>
<span id="cb163-9"><a href="#cb163-9"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> size,</span>
<span id="cb163-10"><a href="#cb163-10"></a>                      <span class="at">fill =</span> shortest_path_node), <span class="at">shape =</span> <span class="dv">21</span>) <span class="sc">+</span></span>
<span id="cb163-11"><a href="#cb163-11"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> media)) <span class="sc">+</span></span>
<span id="cb163-12"><a href="#cb163-12"></a>  </span>
<span id="cb163-13"><a href="#cb163-13"></a>  <span class="fu">scale_size_continuous</span>(<span class="st">"Degree"</span>, <span class="at">range =</span>  <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">16</span>)) <span class="sc">+</span></span>
<span id="cb163-14"><a href="#cb163-14"></a>  <span class="fu">scale_fill_manual</span>(<span class="st">"Shortest Path"</span>,</span>
<span id="cb163-15"><a href="#cb163-15"></a>                    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"grey"</span>, <span class="st">"gold"</span>)) <span class="sc">+</span></span>
<span id="cb163-16"><a href="#cb163-16"></a>  </span>
<span id="cb163-17"><a href="#cb163-17"></a>  <span class="fu">scale_edge_width_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>)) <span class="sc">+</span></span>
<span id="cb163-18"><a href="#cb163-18"></a>  </span>
<span id="cb163-19"><a href="#cb163-19"></a>  <span class="fu">scale_edge_colour_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"grey"</span>, <span class="st">"orange"</span>)) <span class="sc">+</span></span>
<span id="cb163-20"><a href="#cb163-20"></a>  <span class="fu">guides</span>(</span>
<span id="cb163-21"><a href="#cb163-21"></a>    <span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">pch =</span> <span class="dv">21</span>,</span>
<span id="cb163-22"><a href="#cb163-22"></a>                                            <span class="at">size =</span> <span class="dv">6</span>)),</span>
<span id="cb163-23"><a href="#cb163-23"></a>    <span class="at">edge_colour =</span> <span class="st">"none"</span>,</span>
<span id="cb163-24"><a href="#cb163-24"></a>    <span class="at">edge_width =</span> <span class="st">"none"</span></span>
<span id="cb163-25"><a href="#cb163-25"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-53-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-57"><img src="index_files/figure-html/unnamed-chunk-53-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<ul>
<li>Highlight the edges going into or out of a vertex, for instance the WSJ. For a single node, use <code>incident()</code>, for multiple nodes use <code>incident_edges()</code>
</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb164" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1"></a>inc.edges <span class="ot">&lt;-</span></span>
<span id="cb164-2"><a href="#cb164-2"></a>  <span class="fu">incident</span>(net, <span class="fu">V</span>(net)[media <span class="sc">==</span> <span class="st">"Wall Street Journal"</span>], <span class="at">mode =</span> <span class="st">"all"</span>)</span>
<span id="cb164-3"><a href="#cb164-3"></a></span>
<span id="cb164-4"><a href="#cb164-4"></a><span class="co">#Set colors to plot the selected edges.</span></span>
<span id="cb164-5"><a href="#cb164-5"></a>ecol <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">"gray80"</span>, <span class="fu">ecount</span>(net))</span>
<span id="cb164-6"><a href="#cb164-6"></a>ecol[inc.edges] <span class="ot">&lt;-</span> <span class="st">"orange"</span></span>
<span id="cb164-7"><a href="#cb164-7"></a>vcol <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">"grey40"</span>, <span class="fu">vcount</span>(net))</span>
<span id="cb164-8"><a href="#cb164-8"></a>vcol[<span class="fu">V</span>(net)<span class="sc">$</span>media <span class="sc">==</span> <span class="st">"Wall Street Journal"</span>] <span class="ot">&lt;-</span> <span class="st">"gold"</span></span>
<span id="cb164-9"><a href="#cb164-9"></a><span class="fu">plot</span>(</span>
<span id="cb164-10"><a href="#cb164-10"></a>  net,</span>
<span id="cb164-11"><a href="#cb164-11"></a>  <span class="at">vertex.color =</span> vcol,</span>
<span id="cb164-12"><a href="#cb164-12"></a>  <span class="at">edge.color =</span> ecol,</span>
<span id="cb164-13"><a href="#cb164-13"></a>  <span class="at">edge.width =</span> <span class="dv">2</span>,</span>
<span id="cb164-14"><a href="#cb164-14"></a>  <span class="at">layout =</span> coords</span>
<span id="cb164-15"><a href="#cb164-15"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-54-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-58"><img src="index_files/figure-html/unnamed-chunk-54-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb165" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb165-2"><a href="#cb165-2"></a>wsj <span class="ot">&lt;-</span> graph <span class="sc">%&gt;%</span> </span>
<span id="cb165-3"><a href="#cb165-3"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span> </span>
<span id="cb165-4"><a href="#cb165-4"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb165-5"><a href="#cb165-5"></a>  <span class="fu">rowid_to_column</span>(<span class="at">var =</span> <span class="st">"node_id"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb165-6"><a href="#cb165-6"></a>  <span class="fu">filter</span>(media <span class="sc">==</span> <span class="st">"Wall Street Journal"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb165-7"><a href="#cb165-7"></a>  <span class="fu">select</span>(node_id) <span class="sc">%&gt;%</span> <span class="fu">as_vector</span>()</span>
<span id="cb165-8"><a href="#cb165-8"></a></span>
<span id="cb165-9"><a href="#cb165-9"></a>graph <span class="sc">%&gt;%</span> </span>
<span id="cb165-10"><a href="#cb165-10"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span> </span>
<span id="cb165-11"><a href="#cb165-11"></a>  <span class="fu">mutate</span>(<span class="at">wsj_adjacent =</span> <span class="fu">node_is_adjacent</span>(<span class="at">to =</span> wsj, <span class="at">mode =</span> <span class="st">"all"</span>, </span>
<span id="cb165-12"><a href="#cb165-12"></a>                                         <span class="at">include_to =</span> <span class="cn">TRUE</span>),</span>
<span id="cb165-13"><a href="#cb165-13"></a>         <span class="at">size =</span> <span class="fu">centrality_degree</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb165-14"><a href="#cb165-14"></a>  <span class="fu">mutate</span>(<span class="at">WSJ =</span> <span class="fu">if_else</span>(media <span class="sc">==</span> <span class="st">"Wall Street Journal"</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb165-15"><a href="#cb165-15"></a>  <span class="fu">activate</span>(edges) <span class="sc">%&gt;%</span> </span>
<span id="cb165-16"><a href="#cb165-16"></a>  <span class="fu">mutate</span>(<span class="at">wsj_links =</span> <span class="fu">edge_is_incident</span>(wsj)) <span class="sc">%&gt;%</span> </span>
<span id="cb165-17"><a href="#cb165-17"></a>  </span>
<span id="cb165-18"><a href="#cb165-18"></a>  <span class="fu">ggraph</span>(., <span class="at">layout =</span> coords) <span class="sc">+</span></span>
<span id="cb165-19"><a href="#cb165-19"></a>  <span class="fu">geom_edge_link0</span>(<span class="fu">aes</span>(<span class="at">colour =</span> wsj_links), <span class="at">width =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb165-20"><a href="#cb165-20"></a>  </span>
<span id="cb165-21"><a href="#cb165-21"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">fill =</span> WSJ, </span>
<span id="cb165-22"><a href="#cb165-22"></a>                      <span class="at">size =</span> size),<span class="at">shape =</span> <span class="dv">21</span>) <span class="sc">+</span></span>
<span id="cb165-23"><a href="#cb165-23"></a>  </span>
<span id="cb165-24"><a href="#cb165-24"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> media), <span class="at">repel =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> </span>
<span id="cb165-25"><a href="#cb165-25"></a>  </span>
<span id="cb165-26"><a href="#cb165-26"></a>  <span class="fu">scale_fill_manual</span>(<span class="st">"WSJ Neighbours"</span>, </span>
<span id="cb165-27"><a href="#cb165-27"></a>                      <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"grey"</span>, <span class="st">"gold"</span>), </span>
<span id="cb165-28"><a href="#cb165-28"></a>                      <span class="at">guide =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> </span>
<span id="cb165-29"><a href="#cb165-29"></a>                                             <span class="fu">list</span>(<span class="at">pch =</span> <span class="dv">21</span>, </span>
<span id="cb165-30"><a href="#cb165-30"></a>                                                  <span class="at">size =</span> <span class="dv">5</span>))) <span class="sc">+</span> </span>
<span id="cb165-31"><a href="#cb165-31"></a>  <span class="fu">scale_edge_colour_manual</span>(<span class="st">"WSJ Links"</span>, </span>
<span id="cb165-32"><a href="#cb165-32"></a>                      <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"grey"</span>, <span class="st">"orange"</span>)) <span class="sc">+</span> </span>
<span id="cb165-33"><a href="#cb165-33"></a>  <span class="fu">scale_size</span>(<span class="st">"Degree"</span>, <span class="at">range =</span> <span class="fu">c</span>( <span class="dv">2</span>, <span class="dv">16</span>)) <span class="sc">+</span></span>
<span id="cb165-34"><a href="#cb165-34"></a>  <span class="fu">ggtitle</span>(<span class="at">label =</span> <span class="st">"Highlighting WSJ Neighbours and Links"</span>) <span class="sc">+</span></span>
<span id="cb165-35"><a href="#cb165-35"></a>  <span class="fu">guides</span>(<span class="at">shape =</span> <span class="st">"none"</span>, <span class="at">fill =</span> <span class="st">"none"</span> <span class="co">#, colour = "none"</span></span>
<span id="cb165-36"><a href="#cb165-36"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-55-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-59"><img src="index_files/figure-html/unnamed-chunk-55-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
</section><section id="highlight-neighbours" class="level2"><h2 class="anchored" data-anchor-id="highlight-neighbours">Highlight Neighbours</h2>
<p>Or we can highlight the immediate neighbors of a vertex, say WSJ. The <code>neighbors</code> function finds all nodes one step out from the focal actor. To find the neighbors for multiple nodes, use <code>adjacent_vertices()</code>. To find node neighborhoods going more than one step out, use function <code>ego()</code> with parameter <code>order</code> set to the number of steps out to go from the focal node(s).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb166" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1"></a>neigh.nodes <span class="ot">&lt;-</span> <span class="fu">neighbors</span>(net, <span class="fu">V</span>(net)[media <span class="sc">==</span> <span class="st">"Wall Street Journal"</span>], <span class="at">mode =</span> <span class="st">"out"</span>)</span>
<span id="cb166-2"><a href="#cb166-2"></a></span>
<span id="cb166-3"><a href="#cb166-3"></a><span class="co"># Set colors to plot the neighbors:</span></span>
<span id="cb166-4"><a href="#cb166-4"></a>vcol[neigh.nodes] <span class="ot">&lt;-</span> <span class="st">"#ff9d00"</span></span>
<span id="cb166-5"><a href="#cb166-5"></a><span class="fu">plot</span>(net, <span class="at">vertex.color =</span> vcol)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-56-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-60"><img src="index_files/figure-html/unnamed-chunk-56-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb167" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb167-2"><a href="#cb167-2"></a>wsj <span class="ot">&lt;-</span> graph <span class="sc">%&gt;%</span> </span>
<span id="cb167-3"><a href="#cb167-3"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span> </span>
<span id="cb167-4"><a href="#cb167-4"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb167-5"><a href="#cb167-5"></a>  <span class="fu">rowid_to_column</span>(<span class="at">var =</span> <span class="st">"node_id"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb167-6"><a href="#cb167-6"></a>  <span class="fu">filter</span>(media <span class="sc">==</span> <span class="st">"Wall Street Journal"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb167-7"><a href="#cb167-7"></a>  <span class="fu">select</span>(node_id) <span class="sc">%&gt;%</span> <span class="fu">as_vector</span>()</span>
<span id="cb167-8"><a href="#cb167-8"></a></span>
<span id="cb167-9"><a href="#cb167-9"></a>graph <span class="sc">%&gt;%</span> </span>
<span id="cb167-10"><a href="#cb167-10"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span> </span>
<span id="cb167-11"><a href="#cb167-11"></a>  <span class="fu">mutate</span>(<span class="at">wsj_adjacent =</span> <span class="fu">node_is_adjacent</span>(<span class="at">to =</span> wsj, <span class="at">mode =</span> <span class="st">"all"</span>, </span>
<span id="cb167-12"><a href="#cb167-12"></a>  <span class="co"># remove WSJ from the list!</span></span>
<span id="cb167-13"><a href="#cb167-13"></a>  <span class="co"># highlight only the neighbours</span></span>
<span id="cb167-14"><a href="#cb167-14"></a>  </span>
<span id="cb167-15"><a href="#cb167-15"></a>                                         <span class="at">include_to =</span> <span class="cn">FALSE</span>),</span>
<span id="cb167-16"><a href="#cb167-16"></a>         <span class="at">size =</span> <span class="fu">centrality_degree</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb167-17"><a href="#cb167-17"></a>  <span class="fu">mutate</span>(<span class="at">WSJ =</span> <span class="fu">if_else</span>(media <span class="sc">==</span> <span class="st">"Wall Street Journal"</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb167-18"><a href="#cb167-18"></a>  <span class="fu">activate</span>(edges) <span class="sc">%&gt;%</span> </span>
<span id="cb167-19"><a href="#cb167-19"></a>  <span class="fu">mutate</span>(<span class="at">wsj_links =</span> <span class="fu">edge_is_incident</span>(wsj)) <span class="sc">%&gt;%</span> </span>
<span id="cb167-20"><a href="#cb167-20"></a>  </span>
<span id="cb167-21"><a href="#cb167-21"></a>  <span class="fu">ggraph</span>(., <span class="at">layout =</span> coords) <span class="sc">+</span></span>
<span id="cb167-22"><a href="#cb167-22"></a>  <span class="fu">geom_edge_link0</span>(<span class="fu">aes</span>(<span class="at">colour =</span> wsj_links), <span class="at">width =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb167-23"><a href="#cb167-23"></a>  </span>
<span id="cb167-24"><a href="#cb167-24"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">fill =</span> wsj_adjacent, </span>
<span id="cb167-25"><a href="#cb167-25"></a>                      <span class="at">size =</span> size),<span class="at">shape =</span> <span class="dv">21</span>) <span class="sc">+</span></span>
<span id="cb167-26"><a href="#cb167-26"></a>  </span>
<span id="cb167-27"><a href="#cb167-27"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> media), <span class="at">repel =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> </span>
<span id="cb167-28"><a href="#cb167-28"></a>  </span>
<span id="cb167-29"><a href="#cb167-29"></a>  <span class="fu">scale_fill_manual</span>(<span class="st">"WSJ Neighbours"</span>, </span>
<span id="cb167-30"><a href="#cb167-30"></a>                      <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"grey"</span>, <span class="st">"gold"</span>), </span>
<span id="cb167-31"><a href="#cb167-31"></a>                      <span class="at">guide =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> </span>
<span id="cb167-32"><a href="#cb167-32"></a>                                             <span class="fu">list</span>(<span class="at">pch =</span> <span class="dv">21</span>, </span>
<span id="cb167-33"><a href="#cb167-33"></a>                                                  <span class="at">size =</span> <span class="dv">5</span>))) <span class="sc">+</span> </span>
<span id="cb167-34"><a href="#cb167-34"></a>  <span class="fu">scale_edge_colour_manual</span>(<span class="st">"WSJ Links"</span>, </span>
<span id="cb167-35"><a href="#cb167-35"></a>                      <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"grey"</span>, <span class="st">"orange"</span>)) <span class="sc">+</span> </span>
<span id="cb167-36"><a href="#cb167-36"></a>  <span class="fu">scale_size</span>(<span class="st">"Degree"</span>, <span class="at">range =</span> <span class="fu">c</span>( <span class="dv">2</span>, <span class="dv">16</span>)) <span class="sc">+</span></span>
<span id="cb167-37"><a href="#cb167-37"></a>  <span class="fu">ggtitle</span>(<span class="at">label =</span> <span class="st">"Highlighting WSJ Neighbours and Links"</span>) <span class="sc">+</span></span>
<span id="cb167-38"><a href="#cb167-38"></a>  <span class="fu">guides</span>(<span class="at">shape =</span> <span class="st">"none"</span>, <span class="at">fill =</span> <span class="st">"none"</span> <span class="co">#, colour = "none"</span></span>
<span id="cb167-39"><a href="#cb167-39"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-57-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-61"><img src="index_files/figure-html/unnamed-chunk-57-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<p>Another way to draw attention to a group of nodes: (This is generally not recommended since, depending on layout, nodes that are not ‘marked’ can accidentally get placed on top of the mark)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb168" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1"></a><span class="fu">plot</span>(net, <span class="at">mark.groups =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">8</span>), <span class="at">mark.col =</span> <span class="st">"#C5E5E7"</span>, <span class="at">mark.border =</span> <span class="cn">NA</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-58-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-62"><img src="index_files/figure-html/unnamed-chunk-58-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb169" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1"></a><span class="co"># Mark multiple groups:</span></span>
<span id="cb169-2"><a href="#cb169-2"></a><span class="fu">plot</span>(net, <span class="at">mark.groups =</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">8</span>), <span class="fu">c</span>(<span class="dv">15</span><span class="sc">:</span><span class="dv">17</span>)),</span>
<span id="cb169-3"><a href="#cb169-3"></a>          <span class="at">mark.col =</span> <span class="fu">c</span>(<span class="st">"#C5E5E7"</span>,<span class="st">"#ECD89A"</span>), <span class="at">mark.border =</span> <span class="cn">NA</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-58-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-63"><img src="index_files/figure-html/unnamed-chunk-58-2.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
</section><section id="interactive-plotting-with-tkplot" class="level2"><h2 class="anchored" data-anchor-id="interactive-plotting-with-tkplot">——-~~ Interactive plotting with ‘tkplot’ ——–</h2>
<p>R and igraph offer interactive plotting capabilities (mostly helpful for small networks)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb170" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1"></a>tkid <span class="ot">&lt;-</span> <span class="fu">tkplot</span>(net) <span class="co">#tkid is the id of the tkplot</span></span>
<span id="cb170-2"><a href="#cb170-2"></a></span>
<span id="cb170-3"><a href="#cb170-3"></a>l <span class="ot">&lt;-</span> <span class="fu">tkplot.getcoords</span>(tkid) <span class="co"># grab the coordinates from tkplot</span></span>
<span id="cb170-4"><a href="#cb170-4"></a><span class="fu">plot</span>(net, <span class="at">layout =</span> l)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-59-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-64"><img src="index_files/figure-html/unnamed-chunk-59-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
</section><section id="other-ways-to-represent-a-network" class="level2"><h2 class="anchored" data-anchor-id="other-ways-to-represent-a-network">——-~~ Other ways to represent a network ——–</h2>
<p>One reminder that there are other ways to represent a network:</p>
<ul>
<li>Heatmap of the network matrix:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb171" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1"></a>netm <span class="ot">&lt;-</span> <span class="fu">as_adjacency_matrix</span>(net, <span class="at">attr =</span> <span class="st">"weight"</span>, <span class="at">sparse =</span> F)</span>
<span id="cb171-2"><a href="#cb171-2"></a><span class="fu">colnames</span>(netm) <span class="ot">&lt;-</span> <span class="fu">V</span>(net)<span class="sc">$</span>media</span>
<span id="cb171-3"><a href="#cb171-3"></a><span class="fu">rownames</span>(netm) <span class="ot">&lt;-</span> <span class="fu">V</span>(net)<span class="sc">$</span>media</span>
<span id="cb171-4"><a href="#cb171-4"></a></span>
<span id="cb171-5"><a href="#cb171-5"></a>palf <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>(<span class="fu">c</span>(<span class="st">"gold"</span>, <span class="st">"dark orange"</span>))</span>
<span id="cb171-6"><a href="#cb171-6"></a></span>
<span id="cb171-7"><a href="#cb171-7"></a><span class="co"># The Rowv &amp; Colv parameters turn dendrograms on and off</span></span>
<span id="cb171-8"><a href="#cb171-8"></a><span class="fu">heatmap</span>(netm[,<span class="dv">17</span><span class="sc">:</span><span class="dv">1</span>], <span class="at">Rowv  =</span>  <span class="cn">NA</span>, <span class="at">Colv  =</span>  <span class="cn">NA</span>, <span class="at">col  =</span>  <span class="fu">palf</span>(<span class="dv">20</span>),</span>
<span id="cb171-9"><a href="#cb171-9"></a>        <span class="at">scale =</span> <span class="st">"none"</span>, <span class="at">margins =</span> <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">10</span>) )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-60-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-65"><img src="index_files/figure-html/unnamed-chunk-60-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<ul>
<li>Degree distribution</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb172" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1"></a>deg.dist <span class="ot">&lt;-</span> <span class="fu">degree_distribution</span>(net, <span class="at">cumulative =</span> T, <span class="at">mode =</span> <span class="st">"all"</span>)</span>
<span id="cb172-2"><a href="#cb172-2"></a><span class="co"># degree is available in `sna` too</span></span>
<span id="cb172-3"><a href="#cb172-3"></a><span class="fu">plot</span>(<span class="at">x =</span> <span class="dv">0</span><span class="sc">:</span><span class="fu">max</span>(igraph<span class="sc">::</span><span class="fu">degree</span>(net)), <span class="at">y =</span> <span class="dv">1</span><span class="sc">-</span>deg.dist, <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">cex =</span> <span class="fl">1.4</span>, <span class="at">col =</span> <span class="st">"orange"</span>, <span class="at">xlab =</span> <span class="st">"Degree"</span>, <span class="at">ylab =</span> <span class="st">"Cumulative Frequency"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-61-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-66"><img src="index_files/figure-html/unnamed-chunk-61-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb173" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1"></a><span class="co"># Using Tidygraph</span></span>
<span id="cb173-2"><a href="#cb173-2"></a><span class="co"># https://stackoverflow.com/questions/18356860/cumulative-histogram-with-ggplot2</span></span>
<span id="cb173-3"><a href="#cb173-3"></a>graph <span class="sc">%&gt;%</span> </span>
<span id="cb173-4"><a href="#cb173-4"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span> </span>
<span id="cb173-5"><a href="#cb173-5"></a>  <span class="fu">mutate</span>(<span class="at">degree =</span> <span class="fu">centrality_degree</span>(<span class="at">mode =</span> <span class="st">"all"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb173-6"><a href="#cb173-6"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb173-7"><a href="#cb173-7"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> degree, <span class="at">y =</span> <span class="fu">stat</span>(count))) <span class="sc">+</span></span>
<span id="cb173-8"><a href="#cb173-8"></a>  <span class="co"># geom_histogram(aes(y = cumsum(..count..)), binwidth = 1) + </span></span>
<span id="cb173-9"><a href="#cb173-9"></a>  <span class="fu">stat_bin</span>(<span class="fu">aes</span>(<span class="at">y =</span> <span class="fu">cumsum</span>(<span class="fu">after_stat</span>(count))),</span>
<span id="cb173-10"><a href="#cb173-10"></a>                <span class="at">binwidth =</span> <span class="dv">1</span>,<span class="co"># Ta-Da !!</span></span>
<span id="cb173-11"><a href="#cb173-11"></a>                <span class="at">geom =</span><span class="st">"point"</span>,<span class="at">color =</span><span class="st">"orange"</span>, <span class="at">size =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-61-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-67"><img src="index_files/figure-html/unnamed-chunk-61-2.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
</section><section id="plotting-two-mode-networks" class="level2"><h2 class="anchored" data-anchor-id="plotting-two-mode-networks">4. Plotting two-mode networks</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb174" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1"></a><span class="fu">head</span>(nodes2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["id"],"name":[1],"type":["chr"],"align":["left"]},{"label":["media"],"name":[2],"type":["chr"],"align":["left"]},{"label":["media.type"],"name":[3],"type":["int"],"align":["right"]},{"label":["media.name"],"name":[4],"type":["chr"],"align":["left"]},{"label":["audience.size"],"name":[5],"type":["int"],"align":["right"]}],"data":[{"1":"s01","2":"NYT","3":"1","4":"Newspaper","5":"20","_rn_":"1"},{"1":"s02","2":"WaPo","3":"1","4":"Newspaper","5":"25","_rn_":"2"},{"1":"s03","2":"WSJ","3":"1","4":"Newspaper","5":"30","_rn_":"3"},{"1":"s04","2":"USAT","3":"1","4":"Newspaper","5":"32","_rn_":"4"},{"1":"s05","2":"LATimes","3":"1","4":"Newspaper","5":"20","_rn_":"5"},{"1":"s06","2":"CNN","3":"2","4":"TV","5":"56","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="sourceCode cell-code" id="cb175" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1"></a><span class="fu">head</span>(links2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>    U01 U02 U03 U04 U05 U06 U07 U08 U09 U10 U11 U12 U13 U14 U15 U16 U17 U18 U19
s01   1   1   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
s02   0   0   0   1   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
s03   0   0   0   0   0   1   1   1   1   0   0   0   0   0   0   0   0   0   0
s04   0   0   0   0   0   0   0   0   1   1   1   0   0   0   0   0   0   0   0
s05   0   0   0   0   0   0   0   0   0   0   1   1   1   0   0   0   0   0   0
s06   0   0   0   0   0   0   0   0   0   0   0   0   1   1   0   0   1   0   0
    U20
s01   0
s02   1
s03   0
s04   0
s05   0
s06   0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb177" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1"></a>net2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>IGRAPH 01225d0 UN-B 30 31 -- 
+ attr: type (v/l), name (v/c)
+ edges from 01225d0 (vertex names):
 [1] s01--U01 s01--U02 s01--U03 s02--U04 s02--U05 s02--U20 s03--U06 s03--U07
 [9] s03--U08 s03--U09 s04--U09 s04--U10 s04--U11 s05--U11 s05--U12 s05--U13
[17] s06--U13 s06--U14 s06--U17 s07--U14 s07--U15 s07--U16 s08--U16 s08--U17
[25] s08--U18 s08--U19 s09--U06 s09--U19 s09--U20 s10--U01 s10--U11</code></pre>
</div>
<div class="sourceCode cell-code" id="cb179" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1"></a><span class="fu">plot</span>(net2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-62-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-68"><img src="index_files/figure-html/unnamed-chunk-62-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<p>This time we will make nodes look different based on their type. Media outlets are blue squares, audience nodes are orange circles:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb180" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb180-1"><a href="#cb180-1"></a><span class="fu">V</span>(net2)<span class="sc">$</span>color <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"steel blue"</span>, <span class="st">"orange"</span>)[<span class="fu">V</span>(net2)<span class="sc">$</span>type<span class="sc">+</span><span class="dv">1</span>]</span>
<span id="cb180-2"><a href="#cb180-2"></a><span class="fu">V</span>(net2)<span class="sc">$</span>shape <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"square"</span>, <span class="st">"circle"</span>)[<span class="fu">V</span>(net2)<span class="sc">$</span>type<span class="sc">+</span><span class="dv">1</span>]</span>
<span id="cb180-3"><a href="#cb180-3"></a></span>
<span id="cb180-4"><a href="#cb180-4"></a><span class="co"># Media outlets will have name labels, audience members will not:</span></span>
<span id="cb180-5"><a href="#cb180-5"></a><span class="fu">V</span>(net2)<span class="sc">$</span>label <span class="ot">&lt;-</span> <span class="st">""</span></span>
<span id="cb180-6"><a href="#cb180-6"></a><span class="fu">V</span>(net2)<span class="sc">$</span>label[<span class="fu">V</span>(net2)<span class="sc">$</span>type <span class="sc">==</span> F] <span class="ot">&lt;-</span> nodes2<span class="sc">$</span>media[<span class="fu">V</span>(net2)<span class="sc">$</span>type <span class="sc">==</span> F]</span>
<span id="cb180-7"><a href="#cb180-7"></a><span class="fu">V</span>(net2)<span class="sc">$</span>label.cex <span class="ot">=</span> .<span class="dv">6</span></span>
<span id="cb180-8"><a href="#cb180-8"></a><span class="fu">V</span>(net2)<span class="sc">$</span>label.font <span class="ot">=</span> <span class="dv">2</span></span>
<span id="cb180-9"><a href="#cb180-9"></a></span>
<span id="cb180-10"><a href="#cb180-10"></a><span class="fu">plot</span>(net2, <span class="at">vertex.label.color =</span> <span class="st">"white"</span>, <span class="at">vertex.size =</span> (<span class="dv">2</span><span class="sc">-</span><span class="fu">V</span>(net2)<span class="sc">$</span>type)<span class="sc">*</span><span class="dv">8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-63-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-69"><img src="index_files/figure-html/unnamed-chunk-63-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb181" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb181-2"><a href="#cb181-2"></a><span class="fu">as_tbl_graph</span>(<span class="at">x =</span> links2, <span class="at">directed =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb181-3"><a href="#cb181-3"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span></span>
<span id="cb181-4"><a href="#cb181-4"></a>  <span class="fu">left_join</span>(nodes2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"name"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb181-5"><a href="#cb181-5"></a>  <span class="fu">ggraph</span>(<span class="at">layout =</span> <span class="st">"nicely"</span>) <span class="sc">+</span></span>
<span id="cb181-6"><a href="#cb181-6"></a>  <span class="fu">geom_edge_link0</span>() <span class="sc">+</span></span>
<span id="cb181-7"><a href="#cb181-7"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">shape =</span> type, <span class="at">fill =</span> type, <span class="at">size =</span> type)) <span class="sc">+</span></span>
<span id="cb181-8"><a href="#cb181-8"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">if_else</span>(type, <span class="st">""</span>, media)), <span class="at">colour =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb181-9"><a href="#cb181-9"></a>  </span>
<span id="cb181-10"><a href="#cb181-10"></a>  <span class="fu">scale_shape_manual</span>(</span>
<span id="cb181-11"><a href="#cb181-11"></a>    <span class="st">"Type"</span>,</span>
<span id="cb181-12"><a href="#cb181-12"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="dv">22</span>, <span class="dv">21</span>),</span>
<span id="cb181-13"><a href="#cb181-13"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Media"</span>, <span class="st">"Persons"</span>),</span>
<span id="cb181-14"><a href="#cb181-14"></a>    <span class="at">guide =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">6</span>))</span>
<span id="cb181-15"><a href="#cb181-15"></a>  ) <span class="sc">+</span></span>
<span id="cb181-16"><a href="#cb181-16"></a>  </span>
<span id="cb181-17"><a href="#cb181-17"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb181-18"><a href="#cb181-18"></a>    <span class="st">"Type"</span>,</span>
<span id="cb181-19"><a href="#cb181-19"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"dodgerblue"</span>, <span class="st">"orange"</span>),</span>
<span id="cb181-20"><a href="#cb181-20"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Media"</span>, <span class="st">"Persons"</span>)</span>
<span id="cb181-21"><a href="#cb181-21"></a>  ) <span class="sc">+</span></span>
<span id="cb181-22"><a href="#cb181-22"></a>  </span>
<span id="cb181-23"><a href="#cb181-23"></a>  <span class="fu">scale_size_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">4</span>), <span class="at">guide =</span> <span class="st">"none"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-64-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-70"><img src="index_files/figure-html/unnamed-chunk-64-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<p><code>igraph</code> has a built-in bipartite layout, though it’s not the most helpful:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb182" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1"></a><span class="fu">plot</span>(net2, <span class="at">vertex.label =</span> <span class="cn">NA</span>, <span class="at">vertex.size =</span> <span class="dv">7</span>, <span class="at">layout =</span> layout_as_bipartite)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-65-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-71"><img src="index_files/figure-html/unnamed-chunk-65-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb183" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1"></a><span class="co"># using tidygraph</span></span>
<span id="cb183-2"><a href="#cb183-2"></a><span class="fu">as_tbl_graph</span>(<span class="at">x =</span> links2, <span class="at">directed =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb183-3"><a href="#cb183-3"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span></span>
<span id="cb183-4"><a href="#cb183-4"></a>  <span class="fu">left_join</span>(nodes2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"name"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb183-5"><a href="#cb183-5"></a>  <span class="fu">ggraph</span>(., <span class="at">layout =</span> <span class="st">"igraph"</span>, <span class="at">algorithm =</span> <span class="st">"bipartite"</span>) <span class="sc">+</span></span>
<span id="cb183-6"><a href="#cb183-6"></a>  <span class="fu">geom_edge_link0</span>() <span class="sc">+</span></span>
<span id="cb183-7"><a href="#cb183-7"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">shape =</span> type, <span class="at">fill =</span> type, <span class="at">size =</span> type)) <span class="sc">+</span></span>
<span id="cb183-8"><a href="#cb183-8"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">if_else</span>(type, <span class="st">""</span>, media)), <span class="at">colour =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb183-9"><a href="#cb183-9"></a>  </span>
<span id="cb183-10"><a href="#cb183-10"></a>  <span class="fu">scale_shape_manual</span>(</span>
<span id="cb183-11"><a href="#cb183-11"></a>    <span class="st">"Type"</span>,</span>
<span id="cb183-12"><a href="#cb183-12"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="dv">22</span>, <span class="dv">21</span>),</span>
<span id="cb183-13"><a href="#cb183-13"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Media"</span>, <span class="st">"Persons"</span>),</span>
<span id="cb183-14"><a href="#cb183-14"></a>    <span class="at">guide =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">6</span>))</span>
<span id="cb183-15"><a href="#cb183-15"></a>  ) <span class="sc">+</span></span>
<span id="cb183-16"><a href="#cb183-16"></a>  </span>
<span id="cb183-17"><a href="#cb183-17"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb183-18"><a href="#cb183-18"></a>    <span class="st">"Type"</span>,</span>
<span id="cb183-19"><a href="#cb183-19"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"dodgerblue"</span>, <span class="st">"orange"</span>),</span>
<span id="cb183-20"><a href="#cb183-20"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Media"</span>, <span class="st">"Persons"</span>)</span>
<span id="cb183-21"><a href="#cb183-21"></a>  ) <span class="sc">+</span></span>
<span id="cb183-22"><a href="#cb183-22"></a>  </span>
<span id="cb183-23"><a href="#cb183-23"></a>  <span class="fu">scale_size_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">4</span>), <span class="at">guide =</span> <span class="st">"none"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-65-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-72"><img src="index_files/figure-html/unnamed-chunk-65-2.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<ul>
<li>Using text as nodes:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb184" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1"></a><span class="fu">par</span>(<span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>))</span>
<span id="cb184-2"><a href="#cb184-2"></a><span class="fu">plot</span>(net2, <span class="at">vertex.shape =</span> <span class="st">"none"</span>, <span class="at">vertex.label =</span> nodes2<span class="sc">$</span>media,</span>
<span id="cb184-3"><a href="#cb184-3"></a>     <span class="at">vertex.label.color =</span> <span class="fu">V</span>(net2)<span class="sc">$</span>color, <span class="at">vertex.label.font =</span> <span class="dv">2</span>,</span>
<span id="cb184-4"><a href="#cb184-4"></a>     <span class="at">vertex.label.cex =</span> .<span class="dv">95</span>, <span class="at">edge.color =</span> <span class="st">"gray70"</span>,  <span class="at">edge.width =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-66-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-73"><img src="index_files/figure-html/unnamed-chunk-66-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb185" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb185-2"><a href="#cb185-2"></a><span class="fu">as_tbl_graph</span>(<span class="at">x =</span> links2, <span class="at">directed =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb185-3"><a href="#cb185-3"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span></span>
<span id="cb185-4"><a href="#cb185-4"></a>  <span class="fu">left_join</span>(nodes2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"name"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb185-5"><a href="#cb185-5"></a>  <span class="fu">ggraph</span>(<span class="at">layout =</span> <span class="st">"nicely"</span>) <span class="sc">+</span></span>
<span id="cb185-6"><a href="#cb185-6"></a>  <span class="fu">geom_edge_link</span>(<span class="at">end_cap =</span> <span class="fu">circle</span>(.<span class="dv">4</span>,<span class="st">"cm"</span>), </span>
<span id="cb185-7"><a href="#cb185-7"></a>                 <span class="at">start_cap =</span> <span class="fu">circle</span>(<span class="fl">0.4</span>, <span class="st">"cm"</span>)) <span class="sc">+</span></span>
<span id="cb185-8"><a href="#cb185-8"></a>  <span class="co"># geom_node&gt;point(aes(shape = type, fill = type, size = type)) +</span></span>
<span id="cb185-9"><a href="#cb185-9"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label=</span> media, <span class="at">colour =</span> type), <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb185-10"><a href="#cb185-10"></a>  </span>
<span id="cb185-11"><a href="#cb185-11"></a>  <span class="fu">scale_shape_manual</span>(</span>
<span id="cb185-12"><a href="#cb185-12"></a>    <span class="st">"Type"</span>,</span>
<span id="cb185-13"><a href="#cb185-13"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="dv">22</span>, <span class="dv">21</span>),</span>
<span id="cb185-14"><a href="#cb185-14"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Media"</span>, <span class="st">"Persons"</span>),</span>
<span id="cb185-15"><a href="#cb185-15"></a>    <span class="at">guide =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">4</span>))</span>
<span id="cb185-16"><a href="#cb185-16"></a>  ) <span class="sc">+</span></span>
<span id="cb185-17"><a href="#cb185-17"></a>  </span>
<span id="cb185-18"><a href="#cb185-18"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb185-19"><a href="#cb185-19"></a>    <span class="st">"Type"</span>,</span>
<span id="cb185-20"><a href="#cb185-20"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"dodgerblue"</span>, <span class="st">"orange"</span>),</span>
<span id="cb185-21"><a href="#cb185-21"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Media"</span>, <span class="st">"Persons"</span>)</span>
<span id="cb185-22"><a href="#cb185-22"></a>  ) <span class="sc">+</span></span>
<span id="cb185-23"><a href="#cb185-23"></a>  </span>
<span id="cb185-24"><a href="#cb185-24"></a>  <span class="fu">scale_size_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">4</span>), <span class="at">guide =</span> <span class="st">"none"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-66-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-74"><img src="index_files/figure-html/unnamed-chunk-66-2.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<ul>
<li>Using images as nodes You will need the ‘png’ package to do this:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb186" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1"></a><span class="co"># install.packages("png")</span></span>
<span id="cb186-2"><a href="#cb186-2"></a><span class="fu">library</span>(<span class="st">"png"</span>)</span>
<span id="cb186-3"><a href="#cb186-3"></a></span>
<span id="cb186-4"><a href="#cb186-4"></a>img<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">readPNG</span>(<span class="st">"./images/news.png"</span>)</span>
<span id="cb186-5"><a href="#cb186-5"></a>img<span class="fl">.2</span> <span class="ot">&lt;-</span> <span class="fu">readPNG</span>(<span class="st">"./images/user.png"</span>)</span>
<span id="cb186-6"><a href="#cb186-6"></a></span>
<span id="cb186-7"><a href="#cb186-7"></a><span class="fu">V</span>(net2)<span class="sc">$</span>raster <span class="ot">&lt;-</span> <span class="fu">list</span>(img<span class="fl">.1</span>, img<span class="fl">.2</span>)[<span class="fu">V</span>(net2)<span class="sc">$</span>type<span class="sc">+</span><span class="dv">1</span>]</span>
<span id="cb186-8"><a href="#cb186-8"></a></span>
<span id="cb186-9"><a href="#cb186-9"></a><span class="fu">par</span>(<span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>))</span>
<span id="cb186-10"><a href="#cb186-10"></a></span>
<span id="cb186-11"><a href="#cb186-11"></a><span class="fu">plot</span>(net2, <span class="at">vertex.shape =</span> <span class="st">"raster"</span>, <span class="at">vertex.label =</span> <span class="cn">NA</span>,</span>
<span id="cb186-12"><a href="#cb186-12"></a>     <span class="at">vertex.size =</span> <span class="dv">16</span>, <span class="at">vertex.size2 =</span> <span class="dv">16</span>, <span class="at">edge.width =</span> <span class="dv">2</span>)</span>
<span id="cb186-13"><a href="#cb186-13"></a></span>
<span id="cb186-14"><a href="#cb186-14"></a></span>
<span id="cb186-15"><a href="#cb186-15"></a><span class="co"># By the way, you can also add any image you want to any plot. For example, many #network graphs could be improved by a photo of a puppy carrying a basket full of kittens.</span></span>
<span id="cb186-16"><a href="#cb186-16"></a>img<span class="fl">.3</span> <span class="ot">&lt;-</span> <span class="fu">readPNG</span>(<span class="st">"./images/puppy.png"</span>)</span>
<span id="cb186-17"><a href="#cb186-17"></a><span class="fu">rasterImage</span>(img<span class="fl">.3</span>,  <span class="at">xleft =</span> <span class="sc">-</span><span class="fl">1.7</span>, <span class="at">xright =</span> <span class="dv">0</span>, <span class="at">ybottom =</span> <span class="sc">-</span><span class="fl">1.2</span>, <span class="at">ytop =</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-67-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-75"><img src="index_files/figure-html/unnamed-chunk-67-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb187" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1"></a><span class="co"># The numbers after the image are coordinates for the plot.</span></span>
<span id="cb187-2"><a href="#cb187-2"></a><span class="co"># The limits of your plotting area are given in par()$usr</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb188" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1"></a><span class="co"># Using ~~tidygraph~~ visNetwork</span></span>
<span id="cb188-2"><a href="#cb188-2"></a><span class="co"># See this cheatsheet:</span></span>
<span id="cb188-3"><a href="#cb188-3"></a><span class="co"># system.file("fontAwesome/Font_Awesome_Cheatsheet.pdf", package = "visNetwork")</span></span>
<span id="cb188-4"><a href="#cb188-4"></a><span class="fu">library</span>(visNetwork)</span>
<span id="cb188-5"><a href="#cb188-5"></a></span>
<span id="cb188-6"><a href="#cb188-6"></a><span class="fu">as_tbl_graph</span>(<span class="at">x =</span> links2, <span class="at">directed =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb188-7"><a href="#cb188-7"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span></span>
<span id="cb188-8"><a href="#cb188-8"></a>  <span class="fu">left_join</span>(nodes2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"name"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb188-9"><a href="#cb188-9"></a>  </span>
<span id="cb188-10"><a href="#cb188-10"></a>  <span class="co"># visNetwork needs a "group" variable for grouping...</span></span>
<span id="cb188-11"><a href="#cb188-11"></a>  <span class="fu">mutate</span>(<span class="at">group =</span> <span class="fu">as.character</span>(type)) <span class="sc">%&gt;%</span> </span>
<span id="cb188-12"><a href="#cb188-12"></a>  <span class="fu">visIgraph</span>(.) <span class="sc">%&gt;%</span> </span>
<span id="cb188-13"><a href="#cb188-13"></a>  <span class="fu">visGroups</span>(<span class="at">groupname =</span> <span class="st">"FALSE"</span>,<span class="at">shape =</span> <span class="st">"icon"</span>, </span>
<span id="cb188-14"><a href="#cb188-14"></a>            <span class="at">icon =</span> <span class="fu">list</span>(<span class="at">code =</span> <span class="st">"f26c"</span>, <span class="at">size =</span> <span class="dv">75</span>, <span class="at">color =</span> <span class="st">"orange"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb188-15"><a href="#cb188-15"></a>  <span class="fu">visGroups</span>(<span class="at">groupname =</span> <span class="st">"TRUE"</span>,<span class="at">shape =</span> <span class="st">"icon"</span>, </span>
<span id="cb188-16"><a href="#cb188-16"></a>            <span class="at">icon =</span> <span class="fu">list</span>(<span class="at">code =</span> <span class="st">"f007"</span>, <span class="at">size =</span> <span class="dv">75</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb188-17"><a href="#cb188-17"></a>  <span class="fu">addFontAwesome</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item" id="htmlwidget-aa1fb83543888770d983" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-aa1fb83543888770d983">{"x":{"nodes":{"id":["s01","s02","s03","s04","s05","s06","s07","s08","s09","s10","U01","U02","U03","U04","U05","U06","U07","U08","U09","U10","U11","U12","U13","U14","U15","U16","U17","U18","U19","U20"],"type":[false,false,false,false,false,false,false,false,false,false,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],"media":["NYT","WaPo","WSJ","USAT","LATimes","CNN","MSNBC","FOX ","ABC","BBC","John","Mary","Paul","Ted","Tom","Kate","Ed","Anna","Dan","Nancy","Sandra","Ronda","Sheila","Jim","Jill","Jo","Brian","Jason","Lisa","Dave"],"media.type":[1,1,1,1,1,2,2,2,2,2,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"media.name":["Newspaper","Newspaper","Newspaper","Newspaper","Newspaper","TV","TV","TV","TV","TV",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"audience.size":[20,25,30,32,20,56,34,60,23,34,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"group":["FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE"],"label":["s01","s02","s03","s04","s05","s06","s07","s08","s09","s10","U01","U02","U03","U04","U05","U06","U07","U08","U09","U10","U11","U12","U13","U14","U15","U16","U17","U18","U19","U20"],"x":[0.5561829742020403,0.4787296176376472,0.7917047362588572,0.637421465846586,0.08152387948326512,-0.3831805852093579,-0.7801166647123042,-0.3238535928400779,0.3286668508543831,0.4684384080305239,0.5181694162067856,0.6732962607613044,0.4971452091076116,0.6056277733426716,0.4348421386646828,0.5812467968033697,0.9578895787087573,1,0.7410961981996809,0.8134242518728965,0.4043813063838519,-0.02348734556585474,-0.1719203002709823,-0.6287937994632824,-1,-0.5924471328621428,-0.3637579211171768,-0.4315767402902384,-0.003833830057761722,0.4081307456820076],"y":[0.8859740406621639,-0.882419602430872,-0.2261602361793703,0.1794782616623227,0.2749827845952297,-0.02406382938751117,-0.2106191816796534,-0.3666349839525945,-0.5238761194213567,0.5400058335337434,0.722294467010927,0.9836394887702147,1,-0.9785434364083981,-1,-0.3861167901424198,-0.3011517340703381,-0.2107313348685479,-0.02083437241412101,0.2336642249094218,0.3389065326697338,0.3730704297246992,0.1379934622877417,-0.09346317594042286,-0.2204835300573462,-0.313564351850301,-0.195552557292219,-0.472571012189458,-0.4591205665444397,-0.7131245345709382]},"edges":{"from":["s01","s01","s01","s02","s02","s02","s03","s03","s03","s03","s04","s04","s04","s05","s05","s05","s06","s06","s06","s07","s07","s07","s08","s08","s08","s08","s09","s09","s09","s10","s10"],"to":["U01","U02","U03","U04","U05","U20","U06","U07","U08","U09","U09","U10","U11","U11","U12","U13","U13","U14","U17","U14","U15","U16","U16","U17","U18","U19","U06","U19","U20","U01","U11"],"weight":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"smooth":false,"arrows":"to"},"physics":{"stabilization":false},"groups":{"FALSE":{"shape":"icon","icon":{"code":"f26c","size":75,"color":"orange"}},"useDefaultGroups":true,"TRUE":{"shape":"icon","icon":{"code":"f007","size":75,"color":"#2B7CE9"}}}},"groups":["FALSE","TRUE"],"width":null,"height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"iconsRedraw":true},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>We can also generate and plot <strong>bipartite projections</strong> for the <strong>two-mode network</strong> : (co-memberships are easy to calculate by multiplying the network matrix by its transposed matrix, or using igraph’s <code>bipartite.projection</code> function)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb189" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1"></a>net2.bp <span class="ot">&lt;-</span> <span class="fu">bipartite.projection</span>(net2)</span>
<span id="cb189-2"><a href="#cb189-2"></a></span>
<span id="cb189-3"><a href="#cb189-3"></a><span class="co">#We can calculate the projections manually as well:</span></span>
<span id="cb189-4"><a href="#cb189-4"></a><span class="fu">as_incidence_matrix</span>(net2)  <span class="sc">%*%</span> <span class="fu">t</span>(<span class="fu">as_incidence_matrix</span>(net2))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>    s01 s02 s03 s04 s05 s06 s07 s08 s09 s10
s01   3   0   0   0   0   0   0   0   0   1
s02   0   3   0   0   0   0   0   0   1   0
s03   0   0   4   1   0   0   0   0   1   0
s04   0   0   1   3   1   0   0   0   0   1
s05   0   0   0   1   3   1   0   0   0   1
s06   0   0   0   0   1   3   1   1   0   0
s07   0   0   0   0   0   1   3   1   0   0
s08   0   0   0   0   0   1   1   4   1   0
s09   0   1   1   0   0   0   0   1   3   0
s10   1   0   0   1   1   0   0   0   0   2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb191" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1"></a><span class="fu">t</span>(<span class="fu">as_incidence_matrix</span>(net2)) <span class="sc">%*%</span>   <span class="fu">as_incidence_matrix</span>(net2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>    U01 U02 U03 U04 U05 U06 U07 U08 U09 U10 U11 U12 U13 U14 U15 U16 U17 U18 U19
U01   2   1   1   0   0   0   0   0   0   0   1   0   0   0   0   0   0   0   0
U02   1   1   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
U03   1   1   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
U04   0   0   0   1   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
U05   0   0   0   1   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
U06   0   0   0   0   0   2   1   1   1   0   0   0   0   0   0   0   0   0   1
U07   0   0   0   0   0   1   1   1   1   0   0   0   0   0   0   0   0   0   0
U08   0   0   0   0   0   1   1   1   1   0   0   0   0   0   0   0   0   0   0
U09   0   0   0   0   0   1   1   1   2   1   1   0   0   0   0   0   0   0   0
U10   0   0   0   0   0   0   0   0   1   1   1   0   0   0   0   0   0   0   0
U11   1   0   0   0   0   0   0   0   1   1   3   1   1   0   0   0   0   0   0
U12   0   0   0   0   0   0   0   0   0   0   1   1   1   0   0   0   0   0   0
U13   0   0   0   0   0   0   0   0   0   0   1   1   2   1   0   0   1   0   0
U14   0   0   0   0   0   0   0   0   0   0   0   0   1   2   1   1   1   0   0
U15   0   0   0   0   0   0   0   0   0   0   0   0   0   1   1   1   0   0   0
U16   0   0   0   0   0   0   0   0   0   0   0   0   0   1   1   2   1   1   1
U17   0   0   0   0   0   0   0   0   0   0   0   0   1   1   0   1   2   1   1
U18   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   1   1   1
U19   0   0   0   0   0   1   0   0   0   0   0   0   0   0   0   1   1   1   2
U20   0   0   0   1   1   1   0   0   0   0   0   0   0   0   0   0   0   0   1
    U20
U01   0
U02   0
U03   0
U04   1
U05   1
U06   1
U07   0
U08   0
U09   0
U10   0
U11   0
U12   0
U13   0
U14   0
U15   0
U16   0
U17   0
U18   0
U19   1
U20   2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb193" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb193-1"><a href="#cb193-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb193-2"><a href="#cb193-2"></a></span>
<span id="cb193-3"><a href="#cb193-3"></a><span class="fu">plot</span>(</span>
<span id="cb193-4"><a href="#cb193-4"></a>  net2.bp<span class="sc">$</span>proj1,</span>
<span id="cb193-5"><a href="#cb193-5"></a>  <span class="at">vertex.label.color =</span> <span class="st">"black"</span>,</span>
<span id="cb193-6"><a href="#cb193-6"></a>  <span class="at">vertex.label.dist =</span> <span class="dv">2</span>,</span>
<span id="cb193-7"><a href="#cb193-7"></a>  <span class="at">vertex.label =</span> nodes2<span class="sc">$</span>media[<span class="sc">!</span><span class="fu">is.na</span>(nodes2<span class="sc">$</span>media.type)]</span>
<span id="cb193-8"><a href="#cb193-8"></a>)</span>
<span id="cb193-9"><a href="#cb193-9"></a></span>
<span id="cb193-10"><a href="#cb193-10"></a><span class="fu">plot</span>(</span>
<span id="cb193-11"><a href="#cb193-11"></a>  net2.bp<span class="sc">$</span>proj2,</span>
<span id="cb193-12"><a href="#cb193-12"></a>  <span class="at">vertex.label.color =</span> <span class="st">"black"</span>,</span>
<span id="cb193-13"><a href="#cb193-13"></a>  <span class="at">vertex.label.dist =</span> <span class="dv">2</span>,</span>
<span id="cb193-14"><a href="#cb193-14"></a>  <span class="at">vertex.label =</span> nodes2<span class="sc">$</span>media[<span class="fu">is.na</span>(nodes2<span class="sc">$</span>media.type)]</span>
<span id="cb193-15"><a href="#cb193-15"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-69-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-76"><img src="index_files/figure-html/unnamed-chunk-69-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb194" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb194-1"><a href="#cb194-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb194-2"><a href="#cb194-2"></a><span class="co"># Calculate projections and add attributes/labels</span></span>
<span id="cb194-3"><a href="#cb194-3"></a>proj1 <span class="ot">&lt;-</span></span>
<span id="cb194-4"><a href="#cb194-4"></a>  <span class="fu">as_incidence_matrix</span>(net2)  <span class="sc">%*%</span> <span class="fu">t</span>(<span class="fu">as_incidence_matrix</span>(net2)) <span class="sc">%&gt;%</span></span>
<span id="cb194-5"><a href="#cb194-5"></a>  <span class="fu">as_tbl_graph</span>() <span class="sc">%&gt;%</span></span>
<span id="cb194-6"><a href="#cb194-6"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span></span>
<span id="cb194-7"><a href="#cb194-7"></a>  <span class="fu">left_join</span>(., nodes2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"name"</span> <span class="ot">=</span> <span class="st">"id"</span>))</span>
<span id="cb194-8"><a href="#cb194-8"></a>proj2 <span class="ot">&lt;-</span></span>
<span id="cb194-9"><a href="#cb194-9"></a>  <span class="fu">t</span>(<span class="fu">as_incidence_matrix</span>(net2)) <span class="sc">%*%</span>   <span class="fu">as_incidence_matrix</span>(net2) <span class="sc">%&gt;%</span> <span class="fu">as_tbl_graph</span>() <span class="sc">%&gt;%</span></span>
<span id="cb194-10"><a href="#cb194-10"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span></span>
<span id="cb194-11"><a href="#cb194-11"></a>  <span class="fu">left_join</span>(., nodes2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"name"</span> <span class="ot">=</span> <span class="st">"id"</span>))</span>
<span id="cb194-12"><a href="#cb194-12"></a></span>
<span id="cb194-13"><a href="#cb194-13"></a></span>
<span id="cb194-14"><a href="#cb194-14"></a>p1 <span class="ot">&lt;-</span> proj1 <span class="sc">%&gt;%</span></span>
<span id="cb194-15"><a href="#cb194-15"></a>  <span class="fu">ggraph</span>(<span class="at">layout =</span> <span class="st">"graphopt"</span>) <span class="sc">+</span></span>
<span id="cb194-16"><a href="#cb194-16"></a>  <span class="fu">geom_edge_link0</span>() <span class="sc">+</span></span>
<span id="cb194-17"><a href="#cb194-17"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">6</span>, <span class="at">colour =</span> <span class="st">"orange"</span>) <span class="sc">+</span></span>
<span id="cb194-18"><a href="#cb194-18"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> media), <span class="at">repel =</span> <span class="cn">TRUE</span>)</span>
<span id="cb194-19"><a href="#cb194-19"></a></span>
<span id="cb194-20"><a href="#cb194-20"></a>p2 <span class="ot">&lt;-</span> proj2 <span class="sc">%&gt;%</span></span>
<span id="cb194-21"><a href="#cb194-21"></a>  <span class="fu">ggraph</span>(<span class="at">layout =</span> <span class="st">"graphopt"</span>) <span class="sc">+</span></span>
<span id="cb194-22"><a href="#cb194-22"></a>  <span class="fu">geom_edge_link0</span>() <span class="sc">+</span></span>
<span id="cb194-23"><a href="#cb194-23"></a>  <span class="fu">geom_node_point</span>(</span>
<span id="cb194-24"><a href="#cb194-24"></a>    <span class="fu">aes</span>(<span class="at">colour =</span> media.type),</span>
<span id="cb194-25"><a href="#cb194-25"></a>    <span class="at">size =</span> <span class="dv">6</span>,</span>
<span id="cb194-26"><a href="#cb194-26"></a>    <span class="at">shape  =</span> <span class="dv">15</span>,</span>
<span id="cb194-27"><a href="#cb194-27"></a>    <span class="at">colour =</span> <span class="st">"dodgerblue"</span></span>
<span id="cb194-28"><a href="#cb194-28"></a>  ) <span class="sc">+</span></span>
<span id="cb194-29"><a href="#cb194-29"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> media), <span class="at">repel =</span> <span class="cn">TRUE</span>)</span>
<span id="cb194-30"><a href="#cb194-30"></a></span>
<span id="cb194-31"><a href="#cb194-31"></a>p1 <span class="sc">+</span> p2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-70-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-77"><img src="index_files/figure-html/unnamed-chunk-70-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
</section><section id="plotting-multiplex-networks" class="level2"><h2 class="anchored" data-anchor-id="plotting-multiplex-networks">5. Plotting multiplex networks</h2>
<p>In some cases, the networks we want to plot are <strong>multigraphs</strong>: they can have multiple edges connecting the same two nodes. A related concept, <strong>multiplex networks</strong>, contain multiple types of ties – e.g. friendship, romantic, and work relationships between individuals.</p>
<p>In our example network, we also have two tie types: hyperlinks and mentions. One thing we can do is plot each type of tie separately:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb195" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb195-1"><a href="#cb195-1"></a><span class="fu">E</span>(net)<span class="sc">$</span>width <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb195-2"><a href="#cb195-2"></a><span class="fu">plot</span>(</span>
<span id="cb195-3"><a href="#cb195-3"></a>  net,</span>
<span id="cb195-4"><a href="#cb195-4"></a>  <span class="at">edge.color =</span> <span class="fu">c</span>(<span class="st">"dark red"</span>, <span class="st">"slategrey"</span>)[(<span class="fu">E</span>(net)<span class="sc">$</span>type <span class="sc">==</span> <span class="st">"hyperlink"</span>) <span class="sc">+</span></span>
<span id="cb195-5"><a href="#cb195-5"></a>                                            <span class="dv">1</span>],</span>
<span id="cb195-6"><a href="#cb195-6"></a>  <span class="at">vertex.color =</span> <span class="st">"gray40"</span>,</span>
<span id="cb195-7"><a href="#cb195-7"></a>  <span class="at">layout =</span> layout_in_circle,</span>
<span id="cb195-8"><a href="#cb195-8"></a>  <span class="at">edge.curved =</span> .<span class="dv">3</span></span>
<span id="cb195-9"><a href="#cb195-9"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-71-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-78"><img src="index_files/figure-html/unnamed-chunk-71-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb196" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1"></a><span class="co"># Another way to delete edges using the minus operator:</span></span>
<span id="cb196-2"><a href="#cb196-2"></a>net.m <span class="ot">&lt;-</span> net <span class="sc">-</span> <span class="fu">E</span>(net)[<span class="fu">E</span>(net)<span class="sc">$</span>type <span class="sc">==</span> <span class="st">"hyperlink"</span>]</span>
<span id="cb196-3"><a href="#cb196-3"></a>net.h <span class="ot">&lt;-</span> net <span class="sc">-</span> <span class="fu">E</span>(net)[<span class="fu">E</span>(net)<span class="sc">$</span>type <span class="sc">==</span> <span class="st">"mention"</span>]</span>
<span id="cb196-4"><a href="#cb196-4"></a></span>
<span id="cb196-5"><a href="#cb196-5"></a><span class="co">#Plot the two links separately:</span></span>
<span id="cb196-6"><a href="#cb196-6"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb196-7"><a href="#cb196-7"></a></span>
<span id="cb196-8"><a href="#cb196-8"></a><span class="fu">plot</span>(net.h,</span>
<span id="cb196-9"><a href="#cb196-9"></a>     <span class="at">vertex.color =</span> <span class="st">"orange"</span>,</span>
<span id="cb196-10"><a href="#cb196-10"></a>     <span class="at">layout =</span> layout_with_fr,</span>
<span id="cb196-11"><a href="#cb196-11"></a>     <span class="at">main =</span> <span class="st">"Tie: Hyperlink"</span>)</span>
<span id="cb196-12"><a href="#cb196-12"></a><span class="fu">plot</span>(net.m,</span>
<span id="cb196-13"><a href="#cb196-13"></a>     <span class="at">vertex.color =</span> <span class="st">"lightsteelblue2"</span>,</span>
<span id="cb196-14"><a href="#cb196-14"></a>     <span class="at">layout =</span> layout_with_fr,</span>
<span id="cb196-15"><a href="#cb196-15"></a>     <span class="at">main =</span> <span class="st">"Tie: Mention"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-71-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-79"><img src="index_files/figure-html/unnamed-chunk-71-2.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<ul>
<li>Make sure the nodes stay in the same place in both plots:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb197" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb197-1"><a href="#cb197-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">1</span>))</span>
<span id="cb197-2"><a href="#cb197-2"></a></span>
<span id="cb197-3"><a href="#cb197-3"></a>l <span class="ot">&lt;-</span> <span class="fu">layout_with_fr</span>(net)</span>
<span id="cb197-4"><a href="#cb197-4"></a><span class="fu">plot</span>(net.h,</span>
<span id="cb197-5"><a href="#cb197-5"></a>     <span class="at">vertex.color =</span> <span class="st">"orange"</span>,</span>
<span id="cb197-6"><a href="#cb197-6"></a>     <span class="at">layout =</span> l,</span>
<span id="cb197-7"><a href="#cb197-7"></a>     <span class="at">main =</span> <span class="st">"Tie: Hyperlink"</span>)</span>
<span id="cb197-8"><a href="#cb197-8"></a><span class="fu">plot</span>(net.m,</span>
<span id="cb197-9"><a href="#cb197-9"></a>     <span class="at">vertex.color =</span> <span class="st">"lightsteelblue2"</span>,</span>
<span id="cb197-10"><a href="#cb197-10"></a>     <span class="at">layout =</span> l,</span>
<span id="cb197-11"><a href="#cb197-11"></a>     <span class="at">main =</span> <span class="st">"Tie: Mention"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-72-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-80"><img src="index_files/figure-html/unnamed-chunk-72-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb198" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb198-1"><a href="#cb198-1"></a><span class="co">#Using tidygraph</span></span>
<span id="cb198-2"><a href="#cb198-2"></a></span>
<span id="cb198-3"><a href="#cb198-3"></a>layout <span class="ot">&lt;-</span> <span class="fu">layout_in_circle</span>(net)</span>
<span id="cb198-4"><a href="#cb198-4"></a>p1 <span class="ot">&lt;-</span> <span class="fu">tbl_graph</span>(nodes, links, <span class="at">directed =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb198-5"><a href="#cb198-5"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span> </span>
<span id="cb198-6"><a href="#cb198-6"></a>  <span class="fu">mutate</span>(<span class="at">size =</span> <span class="fu">centrality_degree</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb198-7"><a href="#cb198-7"></a>  <span class="fu">activate</span>(edges) <span class="sc">%&gt;%</span> </span>
<span id="cb198-8"><a href="#cb198-8"></a>  <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">"hyperlink"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb198-9"><a href="#cb198-9"></a>  </span>
<span id="cb198-10"><a href="#cb198-10"></a>  <span class="co"># reusing the earlier computed layout</span></span>
<span id="cb198-11"><a href="#cb198-11"></a>  <span class="fu">ggraph</span>(<span class="at">layout =</span> layout) <span class="sc">+</span></span>
<span id="cb198-12"><a href="#cb198-12"></a>  <span class="fu">geom_edge_arc</span>(<span class="at">strength =</span> <span class="fl">0.05</span>) <span class="sc">+</span></span>
<span id="cb198-13"><a href="#cb198-13"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> size), <span class="at">shape =</span> <span class="dv">21</span>, </span>
<span id="cb198-14"><a href="#cb198-14"></a>                  <span class="at">fill =</span> <span class="st">"orange"</span>) <span class="sc">+</span></span>
<span id="cb198-15"><a href="#cb198-15"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">12</span>)) <span class="sc">+</span> </span>
<span id="cb198-16"><a href="#cb198-16"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Tie: Hyperlink"</span>) <span class="sc">+</span> </span>
<span id="cb198-17"><a href="#cb198-17"></a>  <span class="fu">theme</span>(<span class="at">aspect.ratio =</span> <span class="dv">1</span>,,</span>
<span id="cb198-18"><a href="#cb198-18"></a>        <span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span>
<span id="cb198-19"><a href="#cb198-19"></a></span>
<span id="cb198-20"><a href="#cb198-20"></a>p2 <span class="ot">&lt;-</span> <span class="fu">tbl_graph</span>(nodes, links, <span class="at">directed =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb198-21"><a href="#cb198-21"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span> </span>
<span id="cb198-22"><a href="#cb198-22"></a>  <span class="fu">mutate</span>(<span class="at">size =</span> <span class="fu">centrality_degree</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb198-23"><a href="#cb198-23"></a>  <span class="fu">activate</span>(edges) <span class="sc">%&gt;%</span> </span>
<span id="cb198-24"><a href="#cb198-24"></a>  <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">"mention"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb198-25"><a href="#cb198-25"></a>   <span class="co"># reusing the earlier computed layout</span></span>
<span id="cb198-26"><a href="#cb198-26"></a>  <span class="fu">ggraph</span>(<span class="at">layout =</span> layout) <span class="sc">+</span></span>
<span id="cb198-27"><a href="#cb198-27"></a>  <span class="fu">geom_edge_arc</span>(<span class="at">strength =</span> <span class="fl">0.05</span>) <span class="sc">+</span></span>
<span id="cb198-28"><a href="#cb198-28"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> size), <span class="at">shape =</span> <span class="dv">21</span>, </span>
<span id="cb198-29"><a href="#cb198-29"></a>                  <span class="at">fill =</span> <span class="st">"lightsteelblue2"</span>) <span class="sc">+</span></span>
<span id="cb198-30"><a href="#cb198-30"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">12</span>)) <span class="sc">+</span> </span>
<span id="cb198-31"><a href="#cb198-31"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Tie: Mention"</span>) <span class="sc">+</span> </span>
<span id="cb198-32"><a href="#cb198-32"></a>  <span class="fu">theme</span>(<span class="at">aspect.ratio =</span> <span class="dv">1</span>, <span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span>
<span id="cb198-33"><a href="#cb198-33"></a></span>
<span id="cb198-34"><a href="#cb198-34"></a><span class="fu">wrap_plots</span>(p1, p2,<span class="at">guides =</span> <span class="st">"collect"</span>) <span class="sc">&amp;</span> </span>
<span id="cb198-35"><a href="#cb198-35"></a>  <span class="co"># note this "pipe" for patchwork!</span></span>
<span id="cb198-36"><a href="#cb198-36"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-73-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-81"><img src="index_files/figure-html/unnamed-chunk-73-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<p>In our example network, we don’t have <strong>node dyads</strong> connected by multiple types of connections (we never have both a ‘hyperlink’ and a ‘mention’ tie between the same two news outlets) – however that could happen.</p>
<p>Note: See the edges between <code>s03</code> and <code>s10</code>…these are in opposite directions. So no dyads.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb199" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb199-1"><a href="#cb199-1"></a>layout <span class="ot">&lt;-</span> <span class="fu">layout_in_circle</span>(net)</span>
<span id="cb199-2"><a href="#cb199-2"></a><span class="fu">tbl_graph</span>(nodes, links, <span class="at">directed =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb199-3"><a href="#cb199-3"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span> </span>
<span id="cb199-4"><a href="#cb199-4"></a>  <span class="fu">mutate</span>(<span class="at">size =</span> <span class="fu">centrality_degree</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb199-5"><a href="#cb199-5"></a></span>
<span id="cb199-6"><a href="#cb199-6"></a>  <span class="co"># reusing the earlier computed layout</span></span>
<span id="cb199-7"><a href="#cb199-7"></a>  <span class="fu">ggraph</span>(<span class="at">layout =</span> layout) <span class="sc">+</span></span>
<span id="cb199-8"><a href="#cb199-8"></a>  <span class="fu">geom_edge_arc</span>(<span class="at">strength =</span> <span class="fl">0.05</span>, <span class="fu">aes</span>(<span class="at">colour =</span> type)) <span class="sc">+</span></span>
<span id="cb199-9"><a href="#cb199-9"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> size), <span class="at">shape =</span> <span class="dv">21</span>, </span>
<span id="cb199-10"><a href="#cb199-10"></a>                  <span class="at">fill =</span> <span class="st">"orange"</span>) <span class="sc">+</span></span>
<span id="cb199-11"><a href="#cb199-11"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> id), <span class="at">repel =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb199-12"><a href="#cb199-12"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">12</span>)) <span class="sc">+</span> </span>
<span id="cb199-13"><a href="#cb199-13"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Tie: Hyperlink"</span>) <span class="sc">+</span> </span>
<span id="cb199-14"><a href="#cb199-14"></a>  <span class="fu">theme</span>(<span class="at">aspect.ratio =</span> <span class="dv">1</span>,,</span>
<span id="cb199-15"><a href="#cb199-15"></a>        <span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-74-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-82"><img src="index_files/figure-html/unnamed-chunk-74-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<p>One challenge in visualizing multiplex networks is that multiple edges between the same two nodes may get plotted on top of each other in a way that makes them impossible to distinguish. For example, let us generate a simple multiplex network with two nodes and three ties between them:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb200" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb200-1"><a href="#cb200-1"></a>multigtr <span class="ot">&lt;-</span> <span class="fu">graph</span>(<span class="at">edges =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>), <span class="at">n =</span> <span class="dv">2</span>)</span>
<span id="cb200-2"><a href="#cb200-2"></a></span>
<span id="cb200-3"><a href="#cb200-3"></a>l <span class="ot">&lt;-</span> <span class="fu">layout_with_kk</span>(multigtr)</span>
<span id="cb200-4"><a href="#cb200-4"></a></span>
<span id="cb200-5"><a href="#cb200-5"></a><span class="co"># Let's just plot the graph:</span></span>
<span id="cb200-6"><a href="#cb200-6"></a><span class="fu">plot</span>(</span>
<span id="cb200-7"><a href="#cb200-7"></a>  multigtr,</span>
<span id="cb200-8"><a href="#cb200-8"></a>  <span class="at">vertex.color =</span> <span class="st">"lightsteelblue"</span>,</span>
<span id="cb200-9"><a href="#cb200-9"></a>  <span class="at">vertex.frame.color =</span> <span class="st">"white"</span>,</span>
<span id="cb200-10"><a href="#cb200-10"></a>  <span class="at">vertex.size =</span> <span class="dv">40</span>,</span>
<span id="cb200-11"><a href="#cb200-11"></a>  <span class="at">vertex.shape =</span> <span class="st">"circle"</span>,</span>
<span id="cb200-12"><a href="#cb200-12"></a>  <span class="at">vertex.label =</span> <span class="cn">NA</span>,</span>
<span id="cb200-13"><a href="#cb200-13"></a>  <span class="at">edge.color =</span> <span class="fu">c</span>(<span class="st">"gold"</span>, <span class="st">"tomato"</span>, <span class="st">"yellowgreen"</span>),</span>
<span id="cb200-14"><a href="#cb200-14"></a>  <span class="at">edge.width =</span> <span class="dv">10</span>,</span>
<span id="cb200-15"><a href="#cb200-15"></a>  <span class="at">edge.arrow.size =</span> <span class="dv">5</span>,</span>
<span id="cb200-16"><a href="#cb200-16"></a>  <span class="at">edge.curved =</span> <span class="fl">0.1</span>,</span>
<span id="cb200-17"><a href="#cb200-17"></a>  <span class="at">layout =</span> l</span>
<span id="cb200-18"><a href="#cb200-18"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-75-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-83"><img src="index_files/figure-html/unnamed-chunk-75-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb201" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb201-1"><a href="#cb201-1"></a><span class="co"># Using tidygraph</span></span>
<span id="cb201-2"><a href="#cb201-2"></a>multigtr <span class="sc">%&gt;%</span> </span>
<span id="cb201-3"><a href="#cb201-3"></a>  <span class="fu">as_tbl_graph</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb201-4"><a href="#cb201-4"></a>  <span class="fu">activate</span>(edges) <span class="sc">%&gt;%</span> </span>
<span id="cb201-5"><a href="#cb201-5"></a>  <span class="fu">mutate</span>(<span class="at">edge_col =</span> <span class="fu">c</span>(<span class="st">"gold"</span>, <span class="st">"tomato"</span>, <span class="st">"yellowgreen"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb201-6"><a href="#cb201-6"></a><span class="fu">ggraph</span>(., <span class="at">layout =</span> l) <span class="sc">+</span></span>
<span id="cb201-7"><a href="#cb201-7"></a>  <span class="fu">geom_edge_arc</span>(<span class="at">strength =</span> <span class="fl">0.1</span>, <span class="fu">aes</span>(<span class="at">colour =</span> edge_col)) <span class="sc">+</span> </span>
<span id="cb201-8"><a href="#cb201-8"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">colour =</span> <span class="st">"lightsteelblue"</span>) <span class="sc">+</span></span>
<span id="cb201-9"><a href="#cb201-9"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-75-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-84"><img src="index_files/figure-html/unnamed-chunk-75-2.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<p>Because all edges in the graph have the same curvature, they are drawn over each other so that we only see the last one. What we can do is assign each edge a different curvature. One useful function in ‘igraph’ called <code>curve_multiple()</code> can help us here. For a graph G, <code>curve.multiple(G)</code> will generate a curvature for each edge that maximizes visibility.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb202" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb202-1"><a href="#cb202-1"></a><span class="fu">plot</span>(</span>
<span id="cb202-2"><a href="#cb202-2"></a>  multigtr,</span>
<span id="cb202-3"><a href="#cb202-3"></a>  <span class="at">vertex.color =</span> <span class="st">"lightsteelblue"</span>,</span>
<span id="cb202-4"><a href="#cb202-4"></a>  <span class="at">vertex.frame.color =</span> <span class="st">"white"</span>,</span>
<span id="cb202-5"><a href="#cb202-5"></a>  <span class="at">vertex.size =</span> <span class="dv">40</span>,</span>
<span id="cb202-6"><a href="#cb202-6"></a>  <span class="at">vertex.shape =</span> <span class="st">"circle"</span>,</span>
<span id="cb202-7"><a href="#cb202-7"></a>  <span class="at">vertex.label =</span> <span class="cn">NA</span>,</span>
<span id="cb202-8"><a href="#cb202-8"></a>  <span class="at">edge.color =</span> <span class="fu">c</span>(<span class="st">"gold"</span>, <span class="st">"tomato"</span>, <span class="st">"yellowgreen"</span>),</span>
<span id="cb202-9"><a href="#cb202-9"></a>  <span class="at">edge.width =</span> <span class="dv">10</span>,</span>
<span id="cb202-10"><a href="#cb202-10"></a>  <span class="at">edge.arrow.size =</span> <span class="dv">5</span>,</span>
<span id="cb202-11"><a href="#cb202-11"></a>  <span class="at">edge.curved =</span> <span class="fu">curve_multiple</span>(multigtr),</span>
<span id="cb202-12"><a href="#cb202-12"></a>  <span class="at">layout =</span> l</span>
<span id="cb202-13"><a href="#cb202-13"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-76-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-85"><img src="index_files/figure-html/unnamed-chunk-76-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb203" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb203-1"><a href="#cb203-1"></a>multigtr <span class="sc">%&gt;%</span> </span>
<span id="cb203-2"><a href="#cb203-2"></a>  <span class="fu">as_tbl_graph</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb203-3"><a href="#cb203-3"></a>  <span class="fu">activate</span>(edges) <span class="sc">%&gt;%</span> </span>
<span id="cb203-4"><a href="#cb203-4"></a>  <span class="fu">mutate</span>(<span class="at">edge_col =</span> <span class="fu">c</span>(<span class="st">"gold"</span>, <span class="st">"tomato"</span>, <span class="st">"yellowgreen"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb203-5"><a href="#cb203-5"></a><span class="fu">ggraph</span>(., <span class="at">layout =</span> l) <span class="sc">+</span></span>
<span id="cb203-6"><a href="#cb203-6"></a>  <span class="fu">geom_edge_fan</span>(<span class="at">strength =</span> <span class="fl">0.1</span>, <span class="fu">aes</span>(<span class="at">colour =</span> edge_col),<span class="at">width =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb203-7"><a href="#cb203-7"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">colour =</span> <span class="st">"lightsteelblue"</span>) <span class="sc">+</span></span>
<span id="cb203-8"><a href="#cb203-8"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-77-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-86"><img src="index_files/figure-html/unnamed-chunk-77-1.png" class="img-fluid figure-img" width="2100"></a></p>
</figure>
</div>
</div>
</div>
<p>And that is the end of this reoworked tutorial! Hope you enjoyed it and found it useful!!</p>


</section></section><a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/av-quarto\.netlify\.app");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
          // default icon
          link.classList.add("external");
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>License: <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC BY-SA 2.0</a></p>
</div>   
    <div class="nav-footer-center">
<p>Website made with ❤️ and <a href="https://quarto.org/">Quarto</a>, by Arvind V.</p>
</div>
    <div class="nav-footer-right">
<p>Hosted by Netlify <a href="https://www.netlify.com"><iconify-icon inline="" icon="simple-icons:netlify" aria-label="Icon netlify from simple-icons Iconify.design set." title="Icon netlify from simple-icons Iconify.design set."></iconify-icon></a>.</p>
</div>
  </div>
</footer><script>var lightboxQuarto = GLightbox({"loop":false,"closeEffect":"zoom","descPosition":"right","openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>


<script src="../../../../site_libs/quarto-html/zenscroll-min.js"></script>
<script src="../../../../site_libs/quarto-contrib/line-highlight-1.0.0/line-highlight.js" defer="true"></script>
</body></html>