<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Arvind Venkatadri">
<meta name="dcterms.date" content="2022-12-27">
<title>The Foundation Series - 🐉 Visualizing Categorical Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="../../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../../">
<script src="../../../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../../../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../../../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><style>html{ scroll-behavior: smooth; }</style>
<script src="../../../../../site_libs/kePrint-0.0.1/kePrint.js"></script><link href="../../../../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link href="../../../../../site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="../../../../../site_libs/pagedtable-1.1/js/pagedtable.js"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
<meta property="og:title" content="The Foundation Series - 🐉 Visualizing Categorical Data">
<meta property="og:description" content="Types, Categories, and Counts">
<meta property="og:site-name" content="The Foundation Series">
<meta name="twitter:title" content="The Foundation Series - 🐉 Visualizing Categorical Data">
<meta name="twitter:description" content="Types, Categories, and Counts">
<meta name="twitter:creator" content="@arvind_v">
<meta name="twitter:card" content="summary_large_image">
</head>
<body class="nav-sidebar floating nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../../../../index.html">
    <span class="navbar-title">The Foundation Series</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link" href="../../../../../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
</ul>
<ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item compact">
    <a class="nav-link" href="https://github.com/arvindvenkatadri/my-quarto-website"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/arvind_v"><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../../../../blog.xml"><i class="bi bi-rss" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
<div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
                  <a href="" class="quarto-reader-toggle nav-link" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">🐉 Visualizing Categorical Data</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../blog.html" class="sidebar-item-text sidebar-link">Home</a>
  </div>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Teaching</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../content/courses/Descriptive-Analytics/listing.html" class="sidebar-item-text sidebar-link">Descriptive Analytics</a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../content/courses/Basics-of-Modeling/listing.html" class="sidebar-item-text sidebar-link">Basics of Modelling</a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../content/courses/Predictive-Analytics/listing.html" class="sidebar-item-text sidebar-link">Predictive Analytics</a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../content/courses/Prescriptive-Analytics/listing.html" class="sidebar-item-text sidebar-link">Prescriptive Analytics</a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../content/courses/R-for-Artists/listing.html" class="sidebar-item-text sidebar-link">R for Artists</a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
      </ul>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../content/posts/listing.html" class="sidebar-item-text sidebar-link">Posts</a>
  </div>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../content/projects/listing.html" class="sidebar-item-text sidebar-link">Projects</a>
  </div>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="toc-section-number">1</span>  Introduction</a></li>
  <li>
<a href="#categorical-data" id="toc-categorical-data" class="nav-link" data-scroll-target="#categorical-data"><span class="toc-section-number">2</span>  Categorical Data</a>
  <ul class="collapse">
<li><a href="#case-form" id="toc-case-form" class="nav-link" data-scroll-target="#case-form"><span class="toc-section-number">2.1</span>  Case Form</a></li>
  <li><a href="#frequency-data" id="toc-frequency-data" class="nav-link" data-scroll-target="#frequency-data"><span class="toc-section-number">2.2</span>  Frequency Data</a></li>
  <li><a href="#table-form" id="toc-table-form" class="nav-link" data-scroll-target="#table-form"><span class="toc-section-number">2.3</span>  Table form</a></li>
  </ul>
</li>
  <li><a href="#creating-contingency-tables" id="toc-creating-contingency-tables" class="nav-link" data-scroll-target="#creating-contingency-tables"><span class="toc-section-number">3</span>  Creating Contingency Tables</a></li>
  <li>
<a href="#what-sort-of-plots-can-we-make-for-categorical-data" id="toc-what-sort-of-plots-can-we-make-for-categorical-data" class="nav-link" data-scroll-target="#what-sort-of-plots-can-we-make-for-categorical-data"><span class="toc-section-number">4</span>  What sort of Plots can we make for Categorical Data?</a>
  <ul class="collapse">
<li><a href="#mosaic-plots" id="toc-mosaic-plots" class="nav-link" data-scroll-target="#mosaic-plots"><span class="toc-section-number">4.1</span>  Mosaic Plots</a></li>
  <li><a href="#balloon-plots" id="toc-balloon-plots" class="nav-link" data-scroll-target="#balloon-plots"><span class="toc-section-number">4.2</span>  Balloon Plots</a></li>
  <li><a href="#plots-for-likert-data" id="toc-plots-for-likert-data" class="nav-link" data-scroll-target="#plots-for-likert-data"><span class="toc-section-number">4.3</span>  Plots for Likert Data</a></li>
  </ul>
</li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion"><span class="toc-section-number">5</span>  Conclusion</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references"><span class="toc-section-number">6</span>  References</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title d-none d-lg-block">🐉 Visualizing Categorical Data</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Arvind Venkatadri </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 27, 2022</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">January 25, 2023</p>
    </div>
  </div>
    
  </div>
  
<div>
  <div class="abstract">
    <div class="abstract-title">Abstract</div>
    Types, Categories, and Counts
  </div>
</div>

</header><section id="introduction" class="level2" data-number="1"><h2 data-number="1" class="anchored" data-anchor-id="introduction">
<span class="header-section-number">1</span> Introduction</h2>
<p>To recall, a categorical <strong>variable</strong> is one for which the possible measured or assigned values consist of a discrete set of categories, which may be <code>ordered</code> or <code>unordered</code>. Some typical examples are:</p>
<ul>
<li>Gender, with categories “Male,” “Female.”</li>
<li>Marital status, with categories “Never married,” “Married,” “Separated,” “Divorced,” “Widowed.”</li>
<li>Fielding position (in <del>baseball</del> cricket), with categories “Slips,”Cover “,”Mid-off “Deep Fine Leg”, “Close-in”, “Deep”…</li>
<li>Side effects (in a pharmacological study), with categories “None,” “Skin rash,” “Sleep disorder,” “Anxiety,” . . ..</li>
<li>Political attitude, with categories “Left,” “Center,” “Right.”</li>
<li>Party preference (in India), with categories “BJP” “Congress,” “AAP,” “TMC”…</li>
<li>Treatment outcome, with categories “no improvement,” “some improvement,” or “marked improvement.”</li>
<li>Age, with categories “0–9,” “10–19,” “20–29,” “30–39,” . . . .</li>
<li>Number of children, with categories 0, 1, 2, . . . .</li>
</ul>
<p>As these examples suggest, categorical variables differ in the number of categories: we often distinguish binary variables (or dichotomous variables) such as Gender from those with more than two categories (called polytomous variables).</p>
<p></p>
</section><section id="categorical-data" class="level2 page-columns page-full" data-number="2"><h2 data-number="2" class="anchored" data-anchor-id="categorical-data">
<span class="header-section-number">2</span> Categorical Data</h2>
<p>From the <code>{vcd package}</code> vignette:</p>
<blockquote class="blockquote">
<p>The first thing you need to know is that categorical data can be represented in <strong>three different forms in R</strong>, and it is sometimes necessary to convert from one form to another, for carrying out statistical tests, fitting models or visualizing the results.</p>
</blockquote>
<ul>
<li>Case Data</li>
<li>Frequency Data</li>
<li>Cross-Tabular Count Data</li>
</ul>
<p>Let us first see examples of each.</p>
<section id="case-form" class="level3 page-columns page-full" data-number="2.1"><h3 data-number="2.1" class="anchored" data-anchor-id="case-form">
<span class="header-section-number">2.1</span> Case Form</h3>
<p>Containing <em>individual observations</em> with one or more <strong>categorical</strong> factors, used as classifying variables. The total number of observations is <code>nrow(X)</code>, and the number of variables is <code>ncol(X)</code>.</p>
<div class="cell">
<details><summary>Show the Code</summary><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">names</span>(Arthritis)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] "ID"        "Treatment" "Sex"       "Age"       "Improved" </code></pre>
</div>
<details><summary>Show the Code</summary><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">class</span>(Arthritis)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
<details><summary>Show the Code</summary><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">glimpse</span>(Arthritis)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Rows: 84
Columns: 5
$ ID        &lt;int&gt; 57, 46, 77, 17, 36, 23, 75, 39, 33, 55, 30, 5, 63, 83, 66, 4…
$ Treatment &lt;fct&gt; Treated, Treated, Treated, Treated, Treated, Treated, Treate…
$ Sex       &lt;fct&gt; Male, Male, Male, Male, Male, Male, Male, Male, Male, Male, …
$ Age       &lt;int&gt; 27, 29, 30, 32, 46, 58, 59, 59, 63, 63, 64, 64, 69, 70, 23, …
$ Improved  &lt;ord&gt; Some, None, None, Marked, Marked, Marked, None, Marked, None…</code></pre>
</div>
</div>
<p>From Michael Friendly <a href="../../../../../pdf/DataAnalytics/Michael-Friendly-DDAS.pdf">Discrete Data Analysis and Visualization</a> :</p>
<blockquote class="blockquote">
<p>In many circumstances, data is recorded on each individual or experimental unit. Data in this form is called case data, or data in case form.</p>
</blockquote>
<div class="cell page-columns page-full">
<div class="cell-output-display page-columns page-full">

<table class="lightable-classic-2" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">

 <thead><tr>
<th style="text-align:right;"> ID </th>
   <th style="text-align:left;"> Treatment </th>
   <th style="text-align:left;"> Sex </th>
   <th style="text-align:right;"> Age </th>
   <th style="text-align:left;"> Improved </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:right;"> 57 </td>
   <td style="text-align:left;"> Treated </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:left;"> Some </td>
  </tr>
<tr>
<td style="text-align:right;"> 46 </td>
   <td style="text-align:left;"> Treated </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:right;"> 29 </td>
   <td style="text-align:left;"> None </td>
  </tr>
<tr>
<td style="text-align:right;"> 77 </td>
   <td style="text-align:left;"> Treated </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:right;"> 30 </td>
   <td style="text-align:left;"> None </td>
  </tr>
<tr>
<td style="text-align:right;"> 17 </td>
   <td style="text-align:left;"> Treated </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:right;"> 32 </td>
   <td style="text-align:left;"> Marked </td>
  </tr>
<tr>
<td style="text-align:right;"> 36 </td>
   <td style="text-align:left;"> Treated </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:right;"> 46 </td>
   <td style="text-align:left;"> Marked </td>
  </tr>
<tr>
<td style="text-align:right;"> 23 </td>
   <td style="text-align:left;"> Treated </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:right;"> 58 </td>
   <td style="text-align:left;"> Marked </td>
  </tr>
</tbody>
</table>
<div class="quarto-table-caption margin-caption">Arthritis Treatments and Effects (first 6 entries)</div></div>
</div>
<p>The <code>Arthritis</code> data set has three factors and two integer* variables. One of the three factors <code>Improved</code> is an <strong>ordered factor</strong>.</p>
<ol type="1">
<li>ID</li>
<li>Treatment: a factor; Placebo or Treated</li>
<li>Sex: a factor, M / F</li>
<li>Age: integer</li>
<li>Improved: <strong>Ordinal factor</strong>; None &lt; Some &lt; Marked</li>
</ol></section><section id="frequency-data" class="level3 page-columns page-full" data-number="2.2"><h3 data-number="2.2" class="anchored" data-anchor-id="frequency-data">
<span class="header-section-number">2.2</span> Frequency Data</h3>
<p>Data in frequency form has already been tabulated, by counting over the (combinations of ) categories of the table variables. When the data are in <strong>case form</strong>, we can always trace any observation back to its individual identifier or data record, since each row is a unique observation or <em>case</em>; the reverse is rarely possible.</p>
<p>Frequency Data is usually a data frame, with columns of categorical variables and at least one column containing <code>frequency</code> or <code>count</code> information.</p>
<div class="cell page-columns page-full">
<details><summary>Show the Code</summary><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">str</span>(GSS)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   6 obs. of  3 variables:
 $ sex  : Factor w/ 2 levels "female","male": 1 2 1 2 1 2
 $ party: Factor w/ 3 levels "dem","indep",..: 1 1 2 2 3 3
 $ count: num  279 165 73 47 225 191</code></pre>
</div>
<details><summary>Show the Code</summary><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>GSS <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2"></a>  <span class="fu">kbl</span>(<span class="at">caption =</span> <span class="st">"General Social Survey"</span>,<span class="at">centering =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="fu">kable_classic_2</span>(<span class="at">html_font =</span> <span class="st">"Cambria"</span>, <span class="at">full_width =</span> F,)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display page-columns page-full">

<table class="lightable-classic-2" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">

 <thead><tr>
<th style="text-align:left;"> sex </th>
   <th style="text-align:left;"> party </th>
   <th style="text-align:right;"> count </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> female </td>
   <td style="text-align:left;"> dem </td>
   <td style="text-align:right;"> 279 </td>
  </tr>
<tr>
<td style="text-align:left;"> male </td>
   <td style="text-align:left;"> dem </td>
   <td style="text-align:right;"> 165 </td>
  </tr>
<tr>
<td style="text-align:left;"> female </td>
   <td style="text-align:left;"> indep </td>
   <td style="text-align:right;"> 73 </td>
  </tr>
<tr>
<td style="text-align:left;"> male </td>
   <td style="text-align:left;"> indep </td>
   <td style="text-align:right;"> 47 </td>
  </tr>
<tr>
<td style="text-align:left;"> female </td>
   <td style="text-align:left;"> rep </td>
   <td style="text-align:right;"> 225 </td>
  </tr>
<tr>
<td style="text-align:left;"> male </td>
   <td style="text-align:left;"> rep </td>
   <td style="text-align:right;"> 191 </td>
  </tr>
</tbody>
</table>
<div class="quarto-table-caption margin-caption">General Social Survey</div></div>
</div>
<p>Respondents in the GSS survey were classified by <code>sex</code> and <code>party</code> identification.</p>
</section><section id="table-form" class="level3 page-columns page-full" data-number="2.3"><h3 data-number="2.3" class="anchored" data-anchor-id="table-form">
<span class="header-section-number">2.3</span> Table form</h3>
<blockquote class="blockquote">
<p>Table Form Data can be a <code>matrix</code>, <code>array</code> or <code>table object</code>, whose elements are the frequencies in an <strong>n-way table</strong>. The variable names (factors) and their levels are given by <code>dimnames(X)</code>.</p>
</blockquote>
<div class="cell">
<details><summary>Show the Code</summary><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>HairEyeColor</span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="fu">class</span>(HairEyeColor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>, , Sex = Male

       Eye
Hair    Brown Blue Hazel Green
  Black    32   11    10     3
  Brown    53   50    25    15
  Red      10   10     7     7
  Blond     3   30     5     8

, , Sex = Female

       Eye
Hair    Brown Blue Hazel Green
  Black    36    9     5     2
  Brown    66   34    29    14
  Red      16    7     7     7
  Blond     4   64     5     8

[1] "table"</code></pre>
</div>
</div>
<p><code>HairEyeColor</code> is a “two-way” table, consisting of <strong>two tables</strong>, one for <code>Sex = Female</code> and the other for <code>Sex = Male</code>. The total number of observations is <code>sum(X)</code>. The number of dimensions of the table is <code>length(dimnames(X))</code>, and the table sizes are given by <code>sapply(dimnames(X), length)</code>. The data looks like a n-dimensional cube and needs n-way tables to represent.</p>
<div class="cell">
<details><summary>Show the Code</summary><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">sum</span>(HairEyeColor)</span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="fu">dimnames</span>(HairEyeColor)</span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="fu">sapply</span>(<span class="fu">dimnames</span>(HairEyeColor), length)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] 592
$Hair
[1] "Black" "Brown" "Red"   "Blond"

$Eye
[1] "Brown" "Blue"  "Hazel" "Green"

$Sex
[1] "Male"   "Female"

Hair  Eye  Sex 
   4    4    2 </code></pre>
</div>
</div>
<p>We may need to convert the (multiple) tables into a data frame:</p>
<div class="cell page-columns page-full">
<details><summary>Show the Code</summary><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="do">## Convert the two tables into a data frame</span></span>
<span id="cb14-2"><a href="#cb14-2"></a>HairEyeColor <span class="sc">%&gt;%</span> </span>
<span id="cb14-3"><a href="#cb14-3"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> <span class="co"># Convert</span></span>
<span id="cb14-4"><a href="#cb14-4"></a>  <span class="fu">head</span>() <span class="sc">%&gt;%</span> <span class="co"># Take first few rows to show</span></span>
<span id="cb14-5"><a href="#cb14-5"></a>  <span class="fu">kbl</span>(<span class="at">caption =</span> <span class="st">"Hair Eye and Color (First 6 Entries)"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb14-6"><a href="#cb14-6"></a>  <span class="fu">kable_classic_2</span>(<span class="at">html_font =</span> <span class="st">"Cambria"</span>, <span class="at">full_width =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display page-columns page-full">

<table class="lightable-classic-2" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">

 <thead><tr>
<th style="text-align:left;"> Hair </th>
   <th style="text-align:left;"> Eye </th>
   <th style="text-align:left;"> Sex </th>
   <th style="text-align:right;"> n </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> Black </td>
   <td style="text-align:left;"> Brown </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:right;"> 32 </td>
  </tr>
<tr>
<td style="text-align:left;"> Brown </td>
   <td style="text-align:left;"> Brown </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:right;"> 53 </td>
  </tr>
<tr>
<td style="text-align:left;"> Red </td>
   <td style="text-align:left;"> Brown </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:right;"> 10 </td>
  </tr>
<tr>
<td style="text-align:left;"> Blond </td>
   <td style="text-align:left;"> Brown </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:right;"> 3 </td>
  </tr>
<tr>
<td style="text-align:left;"> Black </td>
   <td style="text-align:left;"> Blue </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:right;"> 11 </td>
  </tr>
<tr>
<td style="text-align:left;"> Brown </td>
   <td style="text-align:left;"> Blue </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:right;"> 50 </td>
  </tr>
</tbody>
</table>
<div class="quarto-table-caption margin-caption">Hair Eye and Color (First 6 Entries)</div></div>
</div>
</section></section><section id="creating-contingency-tables" class="level2" data-number="3"><h2 data-number="3" class="anchored" data-anchor-id="creating-contingency-tables">
<span class="header-section-number">3</span> Creating Contingency Tables</h2>
<p>Most plots for Categorical Data ( as we shall see ) require that the data be converted into a <em>Contigency Table</em>; even Statistical tests for Proportions ( the $ ^2 $ test ) need Contingency Tables. The <em>Frequency Table</em> we encountered earlier is very close to being a full-fledged Contingency Table.</p>
<p>In this section we understand how to make Contingency Tables from each of the three forms.</p>
</section><section id="what-sort-of-plots-can-we-make-for-categorical-data" class="level2" data-number="4"><h2 data-number="4" class="anchored" data-anchor-id="what-sort-of-plots-can-we-make-for-categorical-data">
<span class="header-section-number">4</span> What sort of Plots can we make for Categorical Data?</h2>
<p>We have already seen bar plots, which allow us to plot counts of categorical data. However, if there are a large number* of categorical variables or if thecategorical variables have many levels, the bar plot is not adequate.</p>
<p>From Michael Friendly:</p>
<blockquote class="blockquote">
<p>The familiar techniques for displaying raw data are often disappointing when applied to categorical data. The simple scatterplot, for example, widely used to show the relation between quantitative response and predictors, when applied to discrete variables, gives a display of the category combinations, with all identical values overplotted, and no representation of their frequency.</p>
</blockquote>
<blockquote class="blockquote">
<p>Instead, frequencies of categorical variables are often best represented graphically using <strong>areas</strong> rather than as <strong>position along a scale</strong>. Using the visual attribute:</p>
</blockquote>
<p><span class="math display">\[\pmb{area \sim frequency}\]</span></p>
<blockquote class="blockquote">
<p>allows creating novel graphical displays of frequency data for special circumstances.</p>
</blockquote>
<p>Let us not look at some sample plots that embody this “area-frequency* principle.</p>
<section id="mosaic-plots" class="level3" data-number="4.1"><h3 data-number="4.1" class="anchored" data-anchor-id="mosaic-plots">
<span class="header-section-number">4.1</span> Mosaic Plots</h3>
<p>A mosaicplot is basically an area-proportional visualization of (typically observed) frequencies, consisting of tiles (corresponding to the cells) created by vertically and horizontally splitting a rectangle recursively. Thus, the area of each tile is proportional to the corresponding cell entry given the dimensions of previous splits.</p>
<p>The <code><a href="https://rdrr.io/pkg/vcd/man/mosaic.html">vcd::mosaic()</a></code> function needs the data in <em>contingency table</em> form. We will use <code><a href="https://rdrr.io/pkg/vcd/man/structable.html">vcd::structable()</a></code> function to construct one:</p>
<div class="cell">
<details><summary>Show the Code</summary><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>art <span class="ot">&lt;-</span> vcd<span class="sc">::</span><span class="fu">structable</span>(<span class="sc">~</span> Treatment <span class="sc">+</span> Improved, <span class="at">data =</span> Arthritis)</span>
<span id="cb15-2"><a href="#cb15-2"></a>art</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>          Improved None Some Marked
Treatment                          
Placebo              29    7      7
Treated              13    7     21</code></pre>
</div>
<details><summary>Show the Code</summary><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>vcd<span class="sc">::</span><span class="fu">mosaic</span>(art, <span class="at">gp =</span> shading_max)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="index_files/figure-html/mosaic-plot-using-vcd-1.png" class="img-fluid" width="672"></p>
</div>
<details><summary>Show the Code</summary><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="do">### Or</span></span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="do">### vcd::mosaic(structable(~ Treatment + Improved, data = Arthritis), gp = shading_max, split_vertical = TRUE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="balloon-plots" class="level3" data-number="4.2"><h3 data-number="4.2" class="anchored" data-anchor-id="balloon-plots">
<span class="header-section-number">4.2</span> Balloon Plots</h3>
<div class="cell">
<details><summary>Show the Code</summary><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>housetasks <span class="ot">&lt;-</span> <span class="fu">read.delim</span>(</span>
<span id="cb19-2"><a href="#cb19-2"></a>  <span class="fu">system.file</span>(<span class="st">"demo-data/housetasks.txt"</span>, <span class="at">package =</span> <span class="st">"ggpubr"</span>),</span>
<span id="cb19-3"><a href="#cb19-3"></a>  <span class="at">row.names =</span> <span class="dv">1</span></span>
<span id="cb19-4"><a href="#cb19-4"></a>  )</span>
<span id="cb19-5"><a href="#cb19-5"></a><span class="fu">head</span>(housetasks, <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Wife"],"name":[1],"type":["int"],"align":["right"]},{"label":["Alternating"],"name":[2],"type":["int"],"align":["right"]},{"label":["Husband"],"name":[3],"type":["int"],"align":["right"]},{"label":["Jointly"],"name":[4],"type":["int"],"align":["right"]}],"data":[{"1":"156","2":"14","3":"2","4":"4","_rn_":"Laundry"},{"1":"124","2":"20","3":"5","4":"4","_rn_":"Main_meal"},{"1":"77","2":"11","3":"7","4":"13","_rn_":"Dinner"},{"1":"82","2":"36","3":"15","4":"7","_rn_":"Breakfeast"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<details><summary>Show the Code</summary><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="fu">ggballoonplot</span>(housetasks, <span class="at">fill =</span> <span class="st">"value"</span>)<span class="sc">+</span></span>
<span id="cb20-2"><a href="#cb20-2"></a>  <span class="fu">scale_fill_viridis_c</span>(<span class="at">option =</span> <span class="st">"C"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="index_files/figure-html/balloon-plot-using-ggpubr-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details><summary>Show the Code</summary><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(HairEyeColor)</span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="fu">ggballoonplot</span>(df, <span class="at">x =</span> <span class="st">"Hair"</span>, <span class="at">y =</span> <span class="st">"Eye"</span>, <span class="at">size =</span> <span class="st">"Freq"</span>,</span>
<span id="cb21-3"><a href="#cb21-3"></a>              <span class="at">fill =</span> <span class="st">"Freq"</span>, <span class="at">facet.by =</span> <span class="st">"Sex"</span>,</span>
<span id="cb21-4"><a href="#cb21-4"></a>              <span class="at">ggtheme =</span> <span class="fu">theme_bw</span>()) <span class="sc">+</span></span>
<span id="cb21-5"><a href="#cb21-5"></a>  <span class="fu">scale_fill_viridis_c</span>(<span class="at">option =</span> <span class="st">"C"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section><section id="plots-for-likert-data" class="level3" data-number="4.3"><h3 data-number="4.3" class="anchored" data-anchor-id="plots-for-likert-data">
<span class="header-section-number">4.3</span> Plots for Likert Data</h3>
<p>In many business situations, we perform surveys to get Likert scale data, where several respondents rate a product or a service on a scale of <code>Very much like</code>, <code>somewhat like</code>, <code>neutral</code>, <code>Dislike</code> and <code>Very much dislike</code>. Such data may look for example as follows:</p>
<div class="cell">
<details><summary>Show the Code</summary><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="fu">data</span>(efc)</span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="fu">head</span>(efc, <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["c12hour"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["e15relat"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["e16sex"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["e17age"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["e42dep"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["c82cop1"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["c83cop2"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["c84cop3"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["c85cop4"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["c86cop5"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["c87cop6"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["c88cop7"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["c89cop8"],"name":[13],"type":["dbl"],"align":["right"]},{"label":["c90cop9"],"name":[14],"type":["dbl"],"align":["right"]},{"label":["c160age"],"name":[15],"type":["dbl"],"align":["right"]},{"label":["c161sex"],"name":[16],"type":["dbl"],"align":["right"]},{"label":["c172code"],"name":[17],"type":["dbl"],"align":["right"]},{"label":["c175empl"],"name":[18],"type":["dbl"],"align":["right"]},{"label":["barthtot"],"name":[19],"type":["dbl"],"align":["right"]},{"label":["neg_c_7"],"name":[20],"type":["dbl"],"align":["right"]},{"label":["pos_v_4"],"name":[21],"type":["dbl"],"align":["right"]},{"label":["quol_5"],"name":[22],"type":["dbl"],"align":["right"]},{"label":["resttotn"],"name":[23],"type":["dbl"],"align":["right"]},{"label":["tot_sc_e"],"name":[24],"type":["dbl"],"align":["right"]},{"label":["n4pstu"],"name":[25],"type":["dbl"],"align":["right"]},{"label":["nur_pst"],"name":[26],"type":["dbl"],"align":["right"]}],"data":[{"1":"16","2":"2","3":"2","4":"83","5":"3","6":"3","7":"2","8":"2","9":"2","10":"1","11":"1","12":"2","13":"3","14":"3","15":"56","16":"2","17":"2","18":"1","19":"75","20":"12","21":"12","22":"14","23":"0","24":"4","25":"0","26":"NA","_rn_":"1"},{"1":"148","2":"2","3":"2","4":"88","5":"3","6":"3","7":"3","8":"3","9":"3","10":"4","11":"1","12":"3","13":"2","14":"2","15":"54","16":"2","17":"2","18":"1","19":"75","20":"20","21":"11","22":"10","23":"4","24":"0","25":"0","26":"NA","_rn_":"2"},{"1":"70","2":"1","3":"2","4":"82","5":"3","6":"2","7":"2","8":"1","9":"4","10":"1","11":"1","12":"1","13":"4","14":"3","15":"80","16":"1","17":"1","18":"0","19":"35","20":"11","21":"13","22":"7","23":"0","24":"1","25":"2","26":"2","_rn_":"3"},{"1":"168","2":"1","3":"2","4":"67","5":"4","6":"4","7":"1","8":"3","9":"1","10":"1","11":"1","12":"1","13":"2","14":"4","15":"69","16":"1","17":"2","18":"0","19":"0","20":"10","21":"15","22":"12","23":"2","24":"0","25":"3","26":"3","_rn_":"4"},{"1":"168","2":"2","3":"2","4":"84","5":"4","6":"3","7":"2","8":"1","9":"2","10":"2","11":"2","12":"1","13":"4","14":"4","15":"47","16":"2","17":"2","18":"0","19":"25","20":"12","21":"15","22":"19","23":"2","24":"1","25":"2","26":"2","_rn_":"5"},{"1":"16","2":"2","3":"2","4":"85","5":"4","6":"2","7":"2","8":"3","9":"3","10":"3","11":"2","12":"2","13":"1","14":"1","15":"56","16":"1","17":"2","18":"1","19":"60","20":"19","21":"9","22":"8","23":"1","24":"3","25":"2","26":"2","_rn_":"6"},{"1":"161","2":"1","3":"1","4":"74","5":"4","6":"4","7":"2","8":"4","9":"1","10":"1","11":"2","12":"4","13":"1","14":"4","15":"61","16":"2","17":"2","18":"0","19":"5","20":"15","21":"13","22":"20","23":"0","24":"0","25":"3","26":"3","_rn_":"7"},{"1":"110","2":"4","3":"2","4":"87","5":"4","6":"3","7":"2","8":"2","9":"1","10":"1","11":"1","12":"2","13":"3","14":"3","15":"67","16":"2","17":"2","18":"0","19":"35","20":"11","21":"14","22":"20","23":"0","24":"1","25":"1","26":"1","_rn_":"8"},{"1":"28","2":"2","3":"2","4":"79","5":"4","6":"3","7":"2","8":"3","9":"2","10":"2","11":"1","12":"3","13":"1","14":"3","15":"59","16":"2","17":"NA","18":"0","19":"15","20":"15","21":"13","22":"8","23":"0","24":"2","25":"3","26":"3","_rn_":"9"},{"1":"40","2":"2","3":"2","4":"83","5":"4","6":"3","7":"2","8":"1","9":"2","10":"1","11":"1","12":"1","13":"1","14":"3","15":"49","16":"2","17":"2","18":"0","19":"0","20":"10","21":"13","22":"15","23":"1","24":"1","25":"3","26":"3","_rn_":"10"},{"1":"100","2":"1","3":"1","4":"68","5":"4","6":"3","7":"4","8":"4","9":"4","10":"4","11":"4","12":"4","13":"1","14":"1","15":"66","16":"2","17":"2","18":"0","19":"25","20":"28","21":"9","22":"1","23":"1","24":"1","25":"3","26":"3","_rn_":"11"},{"1":"25","2":"8","3":"2","4":"97","5":"3","6":"3","7":"3","8":"3","9":"1","10":"3","11":"1","12":"4","13":"3","14":"1","15":"47","16":"2","17":"2","18":"1","19":"85","20":"18","21":"8","22":"19","23":"1","24":"1","25":"1","26":"1","_rn_":"12"},{"1":"25","2":"2","3":"2","4":"80","5":"4","6":"3","7":"2","8":"2","9":"2","10":"2","11":"1","12":"2","13":"4","14":"4","15":"58","16":"2","17":"3","18":"0","19":"15","20":"13","21":"14","22":"12","23":"0","24":"3","25":"3","26":"3","_rn_":"13"},{"1":"24","2":"1","3":"2","4":"75","5":"3","6":"3","7":"2","8":"4","9":"4","10":"1","11":"1","12":"2","13":"4","14":"4","15":"75","16":"1","17":"1","18":"0","19":"70","20":"18","21":"14","22":"8","23":"0","24":"0","25":"1","26":"1","_rn_":"14"},{"1":"56","2":"2","3":"2","4":"82","5":"3","6":"2","7":"3","8":"3","9":"3","10":"2","11":"2","12":"1","13":"1","14":"1","15":"49","16":"2","17":"3","18":"1","19":"NA","20":"16","21":"9","22":"8","23":"3","24":"3","25":"0","26":"NA","_rn_":"15"},{"1":"20","2":"2","3":"2","4":"89","5":"3","6":"4","7":"2","8":"1","9":"3","10":"3","11":"1","12":"2","13":"1","14":"3","15":"56","16":"2","17":"2","18":"0","19":"0","20":"13","21":"14","22":"6","23":"0","24":"2","25":"0","26":"NA","_rn_":"16"},{"1":"25","2":"1","3":"1","4":"80","5":"1","6":"3","7":"2","8":"1","9":"2","10":"1","11":"1","12":"2","13":"4","14":"4","15":"75","16":"2","17":"2","18":"0","19":"95","20":"11","21":"15","22":"16","23":"0","24":"2","25":"0","26":"NA","_rn_":"17"},{"1":"126","2":"1","3":"1","4":"72","5":"3","6":"4","7":"2","8":"1","9":"2","10":"1","11":"1","12":"2","13":"3","14":"3","15":"70","16":"2","17":"2","18":"0","19":"55","20":"11","21":"13","22":"14","23":"0","24":"0","25":"2","26":"2","_rn_":"18"},{"1":"168","2":"2","3":"1","4":"94","5":"3","6":"3","7":"2","8":"1","9":"2","10":"2","11":"1","12":"3","13":"1","14":"4","15":"52","16":"1","17":"3","18":"1","19":"55","20":"13","21":"13","22":"15","23":"3","24":"1","25":"1","26":"1","_rn_":"19"},{"1":"118","2":"1","3":"1","4":"79","5":"4","6":"3","7":"2","8":"4","9":"2","10":"1","11":"3","12":"3","13":"2","14":"2","15":"48","16":"2","17":"3","18":"1","19":"45","20":"17","21":"12","22":"10","23":"0","24":"7","25":"2","26":"2","_rn_":"20"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p><code>efc</code> is a German data set from a European study on family care of older people. Following a common protocol, data were collected from national samples of approximately 1,000 family carers (i.e.&nbsp;caregivers) per country and clustered into comparable subgroups to facilitate cross-national analysis. One of the <em>research questions</em> in <a href="https://doi.org/10.1093/geront/48.6.752"><strong>this EUROFAM study</strong></a> was:</p>
<blockquote class="blockquote">
<p>What are the main difficulties carers experience accessing the services used? What prevents carers from accessing unused supports that they need? What causes them to stop using still-needed services?</p>
</blockquote>
<p>We will select the variables from the <code>efc</code> data set that related to <em>coping</em> (on part of care-givers) and plot their responses after inspecting them:</p>
<div class="cell">
<details><summary>Show the Code</summary><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>efc <span class="sc">%&gt;%</span> <span class="fu">select</span>(dplyr<span class="sc">::</span><span class="fu">contains</span>(<span class="st">"cop"</span>)) <span class="sc">%&gt;%</span> <span class="fu">str</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   908 obs. of  9 variables:
 $ c82cop1: num  3 3 2 4 3 2 4 3 3 3 ...
  ..- attr(*, "label")= chr "do you feel you cope well as caregiver?"
  ..- attr(*, "labels")= Named num [1:4] 1 2 3 4
  .. ..- attr(*, "names")= chr [1:4] "never" "sometimes" "often" "always"
 $ c83cop2: num  2 3 2 1 2 2 2 2 2 2 ...
  ..- attr(*, "label")= chr "do you find caregiving too demanding?"
  ..- attr(*, "labels")= Named num [1:4] 1 2 3 4
  .. ..- attr(*, "names")= chr [1:4] "Never" "Sometimes" "Often" "Always"
 $ c84cop3: num  2 3 1 3 1 3 4 2 3 1 ...
  ..- attr(*, "label")= chr "does caregiving cause difficulties in your relationship with your friends?"
  ..- attr(*, "labels")= Named num [1:4] 1 2 3 4
  .. ..- attr(*, "names")= chr [1:4] "Never" "Sometimes" "Often" "Always"
 $ c85cop4: num  2 3 4 1 2 3 1 1 2 2 ...
  ..- attr(*, "label")= chr "does caregiving have negative effect on your physical health?"
  ..- attr(*, "labels")= Named num [1:4] 1 2 3 4
  .. ..- attr(*, "names")= chr [1:4] "Never" "Sometimes" "Often" "Always"
 $ c86cop5: num  1 4 1 1 2 3 1 1 2 1 ...
  ..- attr(*, "label")= chr "does caregiving cause difficulties in your relationship with your family?"
  ..- attr(*, "labels")= Named num [1:4] 1 2 3 4
  .. ..- attr(*, "names")= chr [1:4] "Never" "Sometimes" "Often" "Always"
 $ c87cop6: num  1 1 1 1 2 2 2 1 1 1 ...
  ..- attr(*, "label")= chr "does caregiving cause financial difficulties?"
  ..- attr(*, "labels")= Named num [1:4] 1 2 3 4
  .. ..- attr(*, "names")= chr [1:4] "Never" "Sometimes" "Often" "Always"
 $ c88cop7: num  2 3 1 1 1 2 4 2 3 1 ...
  ..- attr(*, "label")= chr "do you feel trapped in your role as caregiver?"
  ..- attr(*, "labels")= Named num [1:4] 1 2 3 4
  .. ..- attr(*, "names")= chr [1:4] "Never" "Sometimes" "Often" "Always"
 $ c89cop8: num  3 2 4 2 4 1 1 3 1 1 ...
  ..- attr(*, "label")= chr "do you feel supported by friends/neighbours?"
  ..- attr(*, "labels")= Named num [1:4] 1 2 3 4
  .. ..- attr(*, "names")= chr [1:4] "never" "sometimes" "often" "always"
 $ c90cop9: num  3 2 3 4 4 1 4 3 3 3 ...
  ..- attr(*, "label")= chr "do you feel caregiving worthwhile?"
  ..- attr(*, "labels")= Named num [1:4] 1 2 3 4
  .. ..- attr(*, "names")= chr [1:4] "never" "sometimes" "often" "always"</code></pre>
</div>
</div>
<p>The <code>cop</code>ing related variables have responses on the Likert Scale <code>(1,2,3,4)</code> which correspong to <code>(never, sometimes, often, always)</code>, <strong>and</strong> each variable also has a <code>label</code> defining each variable. We can plot this data using the <code>plot_likert</code> function from package <code>sjPlot</code>:</p>
<div class="cell">
<details><summary>Show the Code</summary><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>efc <span class="sc">%&gt;%</span> <span class="fu">select</span>(dplyr<span class="sc">::</span><span class="fu">contains</span>(<span class="st">"cop"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb25-2"><a href="#cb25-2"></a>  sjPlot<span class="sc">::</span><span class="fu">plot_likert</span>(<span class="at">title =</span> <span class="st">"Caregiver Survey from EUROFAM"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>So there we are with Categorical data ! There are a few other plots with this type of data, which are useful in very specialized circumstances. One example of this is the <code>agreement plot</code> which captures the agreement between two (sets) of evaluators, on ratings given on a shared ordinal scale to a set of items. An example from the field of medical diagnosis is the opinions of two specialists on a common set of patients.</p>
</section></section><section id="conclusion" class="level2" data-number="5"><h2 data-number="5" class="anchored" data-anchor-id="conclusion">
<span class="header-section-number">5</span> Conclusion</h2>
<p>How are these bar plots different from histograms? Why don’t “regular” plots simply work for Categorical data? Discuss!</p>
</section><section id="references" class="level2" data-number="6"><h2 data-number="6" class="anchored" data-anchor-id="references">
<span class="header-section-number">6</span> References</h2>
<ol type="1">
<li><p>Using the <code>strcplot</code> command from <code>vcd</code>, <a href="https://cran.r-project.org/web/packages/vcd/vignettes/strucplot.pdf" class="uri">https://cran.r-project.org/web/packages/vcd/vignettes/strucplot.pdf</a></p></li>
<li><p>Creating Frequency Tables with <code>vcd</code>, <a href="https://cran.r-project.org/web/packages/vcdExtra/vignettes/A_creating.html" class="uri">https://cran.r-project.org/web/packages/vcdExtra/vignettes/A_creating.html</a></p></li>
<li><p>Creating mosaic plots with <code>vcd</code>, <a href="https://cran.r-project.org/web/packages/vcdExtra/vignettes/D_mosaics.html" class="uri">https://cran.r-project.org/web/packages/vcdExtra/vignettes/D_mosaics.html</a></p></li>
<li>
</li></ol>


<!-- -->

</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp(/https:\/\/av-quarto\.netlify\.app/);
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script><script src="https://utteranc.es/client.js" repo="arvindvenkatadri/my-quarto-website" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb26" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb26-1"><a href="#cb26-1"></a><span class="co">---</span></span>
<span id="cb26-2"><a href="#cb26-2"></a><span class="an">title:</span><span class="co"> "\U0001F409 Visualizing Categorical Data"</span></span>
<span id="cb26-3"><a href="#cb26-3"></a><span class="an">author:</span><span class="co"> "Arvind Venkatadri"</span></span>
<span id="cb26-4"><a href="#cb26-4"></a><span class="an">date:</span><span class="co"> 27/Dec/2022</span></span>
<span id="cb26-5"><a href="#cb26-5"></a><span class="an">date-modified:</span><span class="co"> "`r Sys.Date()`"</span></span>
<span id="cb26-6"><a href="#cb26-6"></a><span class="an">abstract:</span><span class="co"> Types, Categories, and Counts</span></span>
<span id="cb26-7"><a href="#cb26-7"></a><span class="an">order:</span><span class="co"> 120</span></span>
<span id="cb26-8"><a href="#cb26-8"></a><span class="an">format:</span><span class="co"> html</span></span>
<span id="cb26-9"><a href="#cb26-9"></a><span class="co">#fig-format: retina</span></span>
<span id="cb26-10"><a href="#cb26-10"></a><span class="an">code-fold:</span><span class="co"> true</span></span>
<span id="cb26-11"><a href="#cb26-11"></a><span class="an">code-summary:</span><span class="co"> Show the Code</span></span>
<span id="cb26-12"><a href="#cb26-12"></a><span class="an">code-tools:</span><span class="co"> true</span></span>
<span id="cb26-13"><a href="#cb26-13"></a><span class="an">code-line-numbers:</span><span class="co"> true</span></span>
<span id="cb26-14"><a href="#cb26-14"></a><span class="an">code-overflow:</span><span class="co"> scroll</span></span>
<span id="cb26-15"><a href="#cb26-15"></a><span class="an">code-block-border-left:</span><span class="co"> true</span></span>
<span id="cb26-16"><a href="#cb26-16"></a><span class="an">code-block-bg:</span><span class="co"> "beige"</span></span>
<span id="cb26-17"><a href="#cb26-17"></a><span class="an">code-copy:</span><span class="co"> true</span></span>
<span id="cb26-18"><a href="#cb26-18"></a><span class="an">fig-align:</span><span class="co"> center</span></span>
<span id="cb26-19"><a href="#cb26-19"></a><span class="an">reference-location:</span><span class="co"> margin</span></span>
<span id="cb26-20"><a href="#cb26-20"></a><span class="an">cap-location:</span><span class="co"> margin</span></span>
<span id="cb26-21"><a href="#cb26-21"></a><span class="an">highlight-style:</span><span class="co"> tango</span></span>
<span id="cb26-22"><a href="#cb26-22"></a><span class="an">df-print:</span><span class="co"> paged</span></span>
<span id="cb26-23"><a href="#cb26-23"></a><span class="an">section-divs:</span><span class="co"> true</span></span>
<span id="cb26-24"><a href="#cb26-24"></a><span class="an">number-sections:</span><span class="co"> true</span></span>
<span id="cb26-25"><a href="#cb26-25"></a><span class="an">execute:</span><span class="co"> </span></span>
<span id="cb26-26"><a href="#cb26-26"></a><span class="co">  freeze: auto</span></span>
<span id="cb26-27"><a href="#cb26-27"></a><span class="an">tags:</span></span>
<span id="cb26-28"><a href="#cb26-28"></a><span class="co">- Proportions</span></span>
<span id="cb26-29"><a href="#cb26-29"></a><span class="co">- Frequency Tables</span></span>
<span id="cb26-30"><a href="#cb26-30"></a><span class="co">- Contingency Tables</span></span>
<span id="cb26-31"><a href="#cb26-31"></a><span class="co">- Numerical Data in Groups</span></span>
<span id="cb26-32"><a href="#cb26-32"></a><span class="co">- Margins</span></span>
<span id="cb26-33"><a href="#cb26-33"></a><span class="co">- Likert Scale data</span></span>
<span id="cb26-34"><a href="#cb26-34"></a><span class="co">- Bar Plots (for Contingency Tables)</span></span>
<span id="cb26-35"><a href="#cb26-35"></a><span class="co">- Mosaic Plots</span></span>
<span id="cb26-36"><a href="#cb26-36"></a><span class="co">- Balloon Plots</span></span>
<span id="cb26-37"><a href="#cb26-37"></a><span class="co">- Pie Charts</span></span>
<span id="cb26-38"><a href="#cb26-38"></a><span class="co">- Correspondence Analysis</span></span>
<span id="cb26-39"><a href="#cb26-39"></a></span>
<span id="cb26-40"><a href="#cb26-40"></a><span class="co">---</span></span>
<span id="cb26-41"><a href="#cb26-41"></a></span>
<span id="cb26-42"><a href="#cb26-42"></a><span class="in">```{r setup, include=FALSE}</span></span>
<span id="cb26-43"><a href="#cb26-43"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span>
<span id="cb26-44"><a href="#cb26-44"></a><span class="fu">library</span>(blogdown)</span>
<span id="cb26-45"><a href="#cb26-45"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb26-46"><a href="#cb26-46"></a><span class="fu">library</span>(skimr)</span>
<span id="cb26-47"><a href="#cb26-47"></a><span class="fu">library</span>(vcd) <span class="co"># Michael Friendly's package, Visualizing Categorical Data</span></span>
<span id="cb26-48"><a href="#cb26-48"></a><span class="fu">library</span>(vcdExtra) <span class="co"># Categorical Data Sets</span></span>
<span id="cb26-49"><a href="#cb26-49"></a><span class="fu">library</span>(sjPlot) <span class="co"># Likert Scale Plots</span></span>
<span id="cb26-50"><a href="#cb26-50"></a><span class="fu">library</span>(ggpubr) <span class="co"># Colours, Themes and geometries in ggplot</span></span>
<span id="cb26-51"><a href="#cb26-51"></a><span class="fu">library</span>(ca) <span class="co"># Correspondence Analysis</span></span>
<span id="cb26-52"><a href="#cb26-52"></a></span>
<span id="cb26-53"><a href="#cb26-53"></a><span class="do">## Making Tables</span></span>
<span id="cb26-54"><a href="#cb26-54"></a><span class="fu">library</span>(kableExtra) <span class="co"># html styled tables</span></span>
<span id="cb26-55"><a href="#cb26-55"></a><span class="fu">library</span>(gt) <span class="co"># MAking Cool Tables</span></span>
<span id="cb26-56"><a href="#cb26-56"></a><span class="fu">library</span>(patchwork) <span class="co"># To arrange plots on a grid and other things</span></span>
<span id="cb26-57"><a href="#cb26-57"></a></span>
<span id="cb26-58"><a href="#cb26-58"></a><span class="in">```</span></span>
<span id="cb26-59"><a href="#cb26-59"></a></span>
<span id="cb26-60"><a href="#cb26-60"></a><span class="fu">## Introduction</span></span>
<span id="cb26-61"><a href="#cb26-61"></a></span>
<span id="cb26-62"><a href="#cb26-62"></a>To recall, a categorical **variable** is one for which the possible</span>
<span id="cb26-63"><a href="#cb26-63"></a>measured or assigned values consist of a discrete set of categories,</span>
<span id="cb26-64"><a href="#cb26-64"></a>which may be <span class="in">`ordered`</span> or <span class="in">`unordered`</span>. Some typical examples are:</span>
<span id="cb26-65"><a href="#cb26-65"></a></span>
<span id="cb26-66"><a href="#cb26-66"></a><span class="ss">-   </span>Gender, with categories "Male," "Female."</span>
<span id="cb26-67"><a href="#cb26-67"></a><span class="ss">-   </span>Marital status, with categories "Never married," "Married,"</span>
<span id="cb26-68"><a href="#cb26-68"></a>    "Separated," "Divorced," "Widowed."</span>
<span id="cb26-69"><a href="#cb26-69"></a><span class="ss">-   </span>Fielding position (in ~~baseball~~ cricket), with categories</span>
<span id="cb26-70"><a href="#cb26-70"></a>    "Slips,"Cover ","Mid-off "Deep Fine Leg", "Close-in", "Deep"...</span>
<span id="cb26-71"><a href="#cb26-71"></a><span class="ss">-   </span>Side effects (in a pharmacological study), with categories "None,"</span>
<span id="cb26-72"><a href="#cb26-72"></a>    "Skin rash," "Sleep disorder," "Anxiety," . . ..</span>
<span id="cb26-73"><a href="#cb26-73"></a><span class="ss">-   </span>Political attitude, with categories "Left," "Center," "Right."</span>
<span id="cb26-74"><a href="#cb26-74"></a><span class="ss">-   </span>Party preference (in India), with categories "BJP" "Congress,"</span>
<span id="cb26-75"><a href="#cb26-75"></a>    "AAP," "TMC"...</span>
<span id="cb26-76"><a href="#cb26-76"></a><span class="ss">-   </span>Treatment outcome, with categories "no improvement," "some</span>
<span id="cb26-77"><a href="#cb26-77"></a>    improvement," or "marked improvement."</span>
<span id="cb26-78"><a href="#cb26-78"></a><span class="ss">-   </span>Age, with categories "0--9," "10--19," "20--29," "30--39," . . . .</span>
<span id="cb26-79"><a href="#cb26-79"></a><span class="ss">-   </span>Number of children, with categories 0, 1, 2, . . . .</span>
<span id="cb26-80"><a href="#cb26-80"></a></span>
<span id="cb26-81"><a href="#cb26-81"></a>As these examples suggest, categorical variables differ in the number of</span>
<span id="cb26-82"><a href="#cb26-82"></a>categories: we often distinguish binary variables (or dichotomous</span>
<span id="cb26-83"><a href="#cb26-83"></a>variables) such as Gender from those with more than two categories</span>
<span id="cb26-84"><a href="#cb26-84"></a>(called polytomous variables).</span>
<span id="cb26-85"><a href="#cb26-85"></a></span>
<span id="cb26-86"><a href="#cb26-86"></a>{{&lt; video, https://www.youtube.com/embed/7NhNeADL8fA &gt;}}</span>
<span id="cb26-87"><a href="#cb26-87"></a></span>
<span id="cb26-88"><a href="#cb26-88"></a><span class="fu">## Categorical Data</span></span>
<span id="cb26-89"><a href="#cb26-89"></a></span>
<span id="cb26-90"><a href="#cb26-90"></a>From the <span class="in">`{vcd package}`</span> vignette:</span>
<span id="cb26-91"><a href="#cb26-91"></a></span>
<span id="cb26-92"><a href="#cb26-92"></a><span class="at">&gt; The first thing you need to know is that categorical data can be</span></span>
<span id="cb26-93"><a href="#cb26-93"></a><span class="at">&gt; represented in **three different forms in R**, and it is sometimes</span></span>
<span id="cb26-94"><a href="#cb26-94"></a><span class="at">&gt; necessary to convert from one form to another, for carrying out</span></span>
<span id="cb26-95"><a href="#cb26-95"></a><span class="at">&gt; statistical tests, fitting models or visualizing the results.</span></span>
<span id="cb26-96"><a href="#cb26-96"></a></span>
<span id="cb26-97"><a href="#cb26-97"></a><span class="ss">-   </span>Case Data</span>
<span id="cb26-98"><a href="#cb26-98"></a><span class="ss">-   </span>Frequency Data</span>
<span id="cb26-99"><a href="#cb26-99"></a><span class="ss">-   </span>Cross-Tabular Count Data</span>
<span id="cb26-100"><a href="#cb26-100"></a></span>
<span id="cb26-101"><a href="#cb26-101"></a>Let us first see examples of each.</span>
<span id="cb26-102"><a href="#cb26-102"></a></span>
<span id="cb26-103"><a href="#cb26-103"></a><span class="fu">### Case Form</span></span>
<span id="cb26-104"><a href="#cb26-104"></a></span>
<span id="cb26-105"><a href="#cb26-105"></a>Containing *individual observations* with one or more **categorical**</span>
<span id="cb26-106"><a href="#cb26-106"></a>factors, used as classifying variables. The total number of observations</span>
<span id="cb26-107"><a href="#cb26-107"></a>is <span class="in">`nrow(X)`</span>, and the number of variables is <span class="in">`ncol(X)`</span>.</span>
<span id="cb26-108"><a href="#cb26-108"></a></span>
<span id="cb26-109"><a href="#cb26-109"></a><span class="in">```{r Arthritis-Dataset}</span></span>
<span id="cb26-110"><a href="#cb26-110"></a></span>
<span id="cb26-111"><a href="#cb26-111"></a><span class="fu">names</span>(Arthritis)</span>
<span id="cb26-112"><a href="#cb26-112"></a><span class="fu">class</span>(Arthritis)</span>
<span id="cb26-113"><a href="#cb26-113"></a><span class="fu">glimpse</span>(Arthritis)</span>
<span id="cb26-114"><a href="#cb26-114"></a></span>
<span id="cb26-115"><a href="#cb26-115"></a><span class="in">```</span></span>
<span id="cb26-116"><a href="#cb26-116"></a></span>
<span id="cb26-117"><a href="#cb26-117"></a>From Michael Friendly <span class="co">[</span><span class="ot">Discrete Data Analysis and Visualization</span><span class="co">](/pdf/DataAnalytics/Michael-Friendly-DDAS.pdf)</span> :</span>
<span id="cb26-118"><a href="#cb26-118"></a></span>
<span id="cb26-119"><a href="#cb26-119"></a><span class="at">&gt; In many circumstances, data is recorded on each individual or</span></span>
<span id="cb26-120"><a href="#cb26-120"></a><span class="at">&gt; experimental unit. Data in this form is called case data, or data in</span></span>
<span id="cb26-121"><a href="#cb26-121"></a><span class="at">&gt; case form.</span></span>
<span id="cb26-122"><a href="#cb26-122"></a></span>
<span id="cb26-123"><a href="#cb26-123"></a><span class="in">```{r, case-form-data, echo=FALSE}</span></span>
<span id="cb26-124"><a href="#cb26-124"></a></span>
<span id="cb26-125"><a href="#cb26-125"></a><span class="fu">head</span>(Arthritis) <span class="sc">%&gt;%</span> </span>
<span id="cb26-126"><a href="#cb26-126"></a>  <span class="fu">kbl</span>(<span class="at">caption =</span> <span class="st">"Arthritis Treatments and Effects (first 6 entries)"</span>,<span class="at">centering =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb26-127"><a href="#cb26-127"></a>  <span class="fu">kable_classic_2</span>(<span class="at">html_font =</span> <span class="st">"Cambria"</span>, <span class="at">full_width =</span> F,)</span>
<span id="cb26-128"><a href="#cb26-128"></a></span>
<span id="cb26-129"><a href="#cb26-129"></a><span class="in">```</span></span>
<span id="cb26-130"><a href="#cb26-130"></a></span>
<span id="cb26-131"><a href="#cb26-131"></a>The <span class="in">`Arthritis`</span> data set has three factors and two integer<span class="sc">\*</span> variables.</span>
<span id="cb26-132"><a href="#cb26-132"></a>One of the three factors <span class="in">`Improved`</span> is an **ordered factor**.</span>
<span id="cb26-133"><a href="#cb26-133"></a></span>
<span id="cb26-134"><a href="#cb26-134"></a>1)  ID</span>
<span id="cb26-135"><a href="#cb26-135"></a>2)  Treatment: a factor; Placebo or Treated</span>
<span id="cb26-136"><a href="#cb26-136"></a>3)  Sex: a factor, M / F</span>
<span id="cb26-137"><a href="#cb26-137"></a>4)  Age: integer</span>
<span id="cb26-138"><a href="#cb26-138"></a>5)  Improved: **Ordinal factor**; None <span class="sc">\&lt;</span> Some <span class="sc">\&lt;</span> Marked</span>
<span id="cb26-139"><a href="#cb26-139"></a></span>
<span id="cb26-140"><a href="#cb26-140"></a><span class="fu">### Frequency Data</span></span>
<span id="cb26-141"><a href="#cb26-141"></a></span>
<span id="cb26-142"><a href="#cb26-142"></a>Data in frequency form has already been tabulated, by counting over the</span>
<span id="cb26-143"><a href="#cb26-143"></a>(combinations of ) categories of the table variables. When the data are</span>
<span id="cb26-144"><a href="#cb26-144"></a>in **case form**, we can always trace any observation back to its</span>
<span id="cb26-145"><a href="#cb26-145"></a>individual identifier or data record, since each row is a unique</span>
<span id="cb26-146"><a href="#cb26-146"></a>observation or *case*; the reverse is rarely possible.</span>
<span id="cb26-147"><a href="#cb26-147"></a></span>
<span id="cb26-148"><a href="#cb26-148"></a>Frequency Data is usually a data frame, with columns of categorical</span>
<span id="cb26-149"><a href="#cb26-149"></a>variables and at least one column containing <span class="in">`frequency`</span> or <span class="in">`count`</span></span>
<span id="cb26-150"><a href="#cb26-150"></a>information.</span>
<span id="cb26-151"><a href="#cb26-151"></a></span>
<span id="cb26-154"><a href="#cb26-154"></a><span class="in">```{r}</span></span>
<span id="cb26-155"><a href="#cb26-155"></a><span class="fu">str</span>(GSS)</span>
<span id="cb26-156"><a href="#cb26-156"></a>GSS <span class="sc">%&gt;%</span> </span>
<span id="cb26-157"><a href="#cb26-157"></a>  <span class="fu">kbl</span>(<span class="at">caption =</span> <span class="st">"General Social Survey"</span>,<span class="at">centering =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb26-158"><a href="#cb26-158"></a>  <span class="fu">kable_classic_2</span>(<span class="at">html_font =</span> <span class="st">"Cambria"</span>, <span class="at">full_width =</span> F,)</span>
<span id="cb26-159"><a href="#cb26-159"></a></span>
<span id="cb26-160"><a href="#cb26-160"></a><span class="in">```</span></span>
<span id="cb26-161"><a href="#cb26-161"></a></span>
<span id="cb26-162"><a href="#cb26-162"></a>Respondents in the GSS survey were classified by <span class="in">`sex`</span> and <span class="in">`party`</span></span>
<span id="cb26-163"><a href="#cb26-163"></a>identification.</span>
<span id="cb26-164"><a href="#cb26-164"></a></span>
<span id="cb26-165"><a href="#cb26-165"></a><span class="fu">### Table form</span></span>
<span id="cb26-166"><a href="#cb26-166"></a></span>
<span id="cb26-167"><a href="#cb26-167"></a><span class="at">&gt; Table Form Data can be a </span><span class="in">`matrix`</span><span class="at">, </span><span class="in">`array`</span><span class="at"> or </span><span class="in">`table object`</span><span class="at">, whose</span></span>
<span id="cb26-168"><a href="#cb26-168"></a><span class="at">&gt; elements are the frequencies in an **n-way table**. The variable names</span></span>
<span id="cb26-169"><a href="#cb26-169"></a><span class="at">&gt; (factors) and their levels are given by </span><span class="in">`dimnames(X)`</span><span class="at">.</span></span>
<span id="cb26-170"><a href="#cb26-170"></a></span>
<span id="cb26-171"><a href="#cb26-171"></a><span class="in">```{r Table-Form, results='hold'}</span></span>
<span id="cb26-172"><a href="#cb26-172"></a></span>
<span id="cb26-173"><a href="#cb26-173"></a>HairEyeColor</span>
<span id="cb26-174"><a href="#cb26-174"></a><span class="fu">class</span>(HairEyeColor)</span>
<span id="cb26-175"><a href="#cb26-175"></a></span>
<span id="cb26-176"><a href="#cb26-176"></a><span class="in">```</span></span>
<span id="cb26-177"><a href="#cb26-177"></a></span>
<span id="cb26-178"><a href="#cb26-178"></a><span class="in">`HairEyeColor`</span> is a "two-way" table, consisting of **two tables**, one</span>
<span id="cb26-179"><a href="#cb26-179"></a>for <span class="in">`Sex = Female`</span> and the other for <span class="in">`Sex = Male`</span>. The total number of</span>
<span id="cb26-180"><a href="#cb26-180"></a>observations is <span class="in">`sum(X)`</span>. The number of dimensions of the table is</span>
<span id="cb26-181"><a href="#cb26-181"></a><span class="in">`length(dimnames(X))`</span>, and the table sizes are given by</span>
<span id="cb26-182"><a href="#cb26-182"></a><span class="in">`sapply(dimnames(X), length)`</span>. The data looks like a n-dimensional cube</span>
<span id="cb26-183"><a href="#cb26-183"></a>and needs n-way tables to represent.</span>
<span id="cb26-184"><a href="#cb26-184"></a></span>
<span id="cb26-185"><a href="#cb26-185"></a><span class="in">```{r exploring-tables,results='hold'}</span></span>
<span id="cb26-186"><a href="#cb26-186"></a></span>
<span id="cb26-187"><a href="#cb26-187"></a><span class="fu">sum</span>(HairEyeColor)</span>
<span id="cb26-188"><a href="#cb26-188"></a><span class="fu">dimnames</span>(HairEyeColor)</span>
<span id="cb26-189"><a href="#cb26-189"></a><span class="fu">sapply</span>(<span class="fu">dimnames</span>(HairEyeColor), length)</span>
<span id="cb26-190"><a href="#cb26-190"></a></span>
<span id="cb26-191"><a href="#cb26-191"></a><span class="in">```</span></span>
<span id="cb26-192"><a href="#cb26-192"></a></span>
<span id="cb26-193"><a href="#cb26-193"></a>We may need to convert the (multiple) tables into a data frame:</span>
<span id="cb26-194"><a href="#cb26-194"></a></span>
<span id="cb26-195"><a href="#cb26-195"></a><span class="in">```{r tables-to-data-frame}</span></span>
<span id="cb26-196"><a href="#cb26-196"></a></span>
<span id="cb26-197"><a href="#cb26-197"></a><span class="do">## Convert the two tables into a data frame</span></span>
<span id="cb26-198"><a href="#cb26-198"></a>HairEyeColor <span class="sc">%&gt;%</span> </span>
<span id="cb26-199"><a href="#cb26-199"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> <span class="co"># Convert</span></span>
<span id="cb26-200"><a href="#cb26-200"></a>  <span class="fu">head</span>() <span class="sc">%&gt;%</span> <span class="co"># Take first few rows to show</span></span>
<span id="cb26-201"><a href="#cb26-201"></a>  <span class="fu">kbl</span>(<span class="at">caption =</span> <span class="st">"Hair Eye and Color (First 6 Entries)"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb26-202"><a href="#cb26-202"></a>  <span class="fu">kable_classic_2</span>(<span class="at">html_font =</span> <span class="st">"Cambria"</span>, <span class="at">full_width =</span> F)</span>
<span id="cb26-203"><a href="#cb26-203"></a></span>
<span id="cb26-204"><a href="#cb26-204"></a><span class="in">```</span></span>
<span id="cb26-205"><a href="#cb26-205"></a></span>
<span id="cb26-206"><a href="#cb26-206"></a><span class="fu">## Creating Contingency Tables</span></span>
<span id="cb26-207"><a href="#cb26-207"></a></span>
<span id="cb26-208"><a href="#cb26-208"></a>Most plots for Categorical Data ( as we shall see ) require that the data be converted into a *Contigency Table*; even Statistical tests for Proportions ( the $ \chi^2 $ test ) need Contingency Tables. The *Frequency Table* we encountered earlier is very close to being a full-fledged Contingency Table. </span>
<span id="cb26-209"><a href="#cb26-209"></a></span>
<span id="cb26-210"><a href="#cb26-210"></a>In this section we understand how to make Contingency Tables from each of the three forms.</span>
<span id="cb26-211"><a href="#cb26-211"></a></span>
<span id="cb26-212"><a href="#cb26-212"></a></span>
<span id="cb26-213"><a href="#cb26-213"></a><span class="fu">## What sort of Plots can we make for Categorical Data?</span></span>
<span id="cb26-214"><a href="#cb26-214"></a></span>
<span id="cb26-215"><a href="#cb26-215"></a>We have already seen bar plots, which allow us to plot counts of categorical data. However, if there are a large number* of categorical variables or if thecategorical variables have many levels, the bar plot is not adequate. </span>
<span id="cb26-216"><a href="#cb26-216"></a></span>
<span id="cb26-217"><a href="#cb26-217"></a>From Michael Friendly:</span>
<span id="cb26-218"><a href="#cb26-218"></a></span>
<span id="cb26-219"><a href="#cb26-219"></a><span class="at">&gt; The familiar techniques for displaying raw data are often</span></span>
<span id="cb26-220"><a href="#cb26-220"></a><span class="at">&gt; disappointing when applied to categorical data. The simple</span></span>
<span id="cb26-221"><a href="#cb26-221"></a><span class="at">&gt; scatterplot, for example, widely used to show the relation between</span></span>
<span id="cb26-222"><a href="#cb26-222"></a><span class="at">&gt; quantitative response and predictors, when applied to discrete</span></span>
<span id="cb26-223"><a href="#cb26-223"></a><span class="at">&gt; variables, gives a display of the category combinations, with all</span></span>
<span id="cb26-224"><a href="#cb26-224"></a><span class="at">&gt; identical values overplotted, and no representation of their</span></span>
<span id="cb26-225"><a href="#cb26-225"></a><span class="at">&gt; frequency.</span></span>
<span id="cb26-226"><a href="#cb26-226"></a></span>
<span id="cb26-227"><a href="#cb26-227"></a><span class="at">&gt; Instead, frequencies of categorical variables are often best</span></span>
<span id="cb26-228"><a href="#cb26-228"></a><span class="at">&gt; represented graphically using **areas** rather than as **position</span></span>
<span id="cb26-229"><a href="#cb26-229"></a><span class="at">&gt; along a scale**. Using the visual attribute:</span></span>
<span id="cb26-230"><a href="#cb26-230"></a></span>
<span id="cb26-231"><a href="#cb26-231"></a>$$\pmb{area \sim frequency}$$</span>
<span id="cb26-232"><a href="#cb26-232"></a></span>
<span id="cb26-233"><a href="#cb26-233"></a><span class="at">&gt; allows creating novel graphical displays of frequency data for special</span></span>
<span id="cb26-234"><a href="#cb26-234"></a><span class="at">&gt; circumstances.</span></span>
<span id="cb26-235"><a href="#cb26-235"></a></span>
<span id="cb26-236"><a href="#cb26-236"></a>Let us not look at some sample plots that embody this "area-frequency<span class="sc">\*</span></span>
<span id="cb26-237"><a href="#cb26-237"></a>principle.</span>
<span id="cb26-238"><a href="#cb26-238"></a></span>
<span id="cb26-239"><a href="#cb26-239"></a><span class="fu">### Mosaic Plots</span></span>
<span id="cb26-240"><a href="#cb26-240"></a></span>
<span id="cb26-241"><a href="#cb26-241"></a>A mosaicplot is basically an area-proportional visualization of (typically observed) frequencies, consisting of tiles (corresponding to the cells) created by vertically and horizontally splitting a rectangle recursively. Thus, the area of each tile is proportional to the corresponding cell entry given the dimensions of previous splits.</span>
<span id="cb26-242"><a href="#cb26-242"></a></span>
<span id="cb26-243"><a href="#cb26-243"></a>The <span class="in">`vcd::mosaic()`</span> function needs the data in *contingency table* form. We will use <span class="in">`vcd::structable()`</span> function to construct one:</span>
<span id="cb26-244"><a href="#cb26-244"></a></span>
<span id="cb26-245"><a href="#cb26-245"></a><span class="in">```{r mosaic-plot-using-vcd}</span></span>
<span id="cb26-246"><a href="#cb26-246"></a></span>
<span id="cb26-247"><a href="#cb26-247"></a>art <span class="ot">&lt;-</span> vcd<span class="sc">::</span><span class="fu">structable</span>(<span class="sc">~</span> Treatment <span class="sc">+</span> Improved, <span class="at">data =</span> Arthritis)</span>
<span id="cb26-248"><a href="#cb26-248"></a>art</span>
<span id="cb26-249"><a href="#cb26-249"></a>vcd<span class="sc">::</span><span class="fu">mosaic</span>(art, <span class="at">gp =</span> shading_max)</span>
<span id="cb26-250"><a href="#cb26-250"></a></span>
<span id="cb26-251"><a href="#cb26-251"></a><span class="do">### Or</span></span>
<span id="cb26-252"><a href="#cb26-252"></a><span class="do">### vcd::mosaic(structable(~ Treatment + Improved, data = Arthritis), gp = shading_max, split_vertical = TRUE)</span></span>
<span id="cb26-253"><a href="#cb26-253"></a> </span>
<span id="cb26-254"><a href="#cb26-254"></a></span>
<span id="cb26-255"><a href="#cb26-255"></a><span class="in">```</span></span>
<span id="cb26-256"><a href="#cb26-256"></a></span>
<span id="cb26-257"><a href="#cb26-257"></a><span class="fu">### Balloon Plots</span></span>
<span id="cb26-258"><a href="#cb26-258"></a></span>
<span id="cb26-259"><a href="#cb26-259"></a><span class="in">```{r balloon-plot-using-ggpubr}</span></span>
<span id="cb26-260"><a href="#cb26-260"></a>housetasks <span class="ot">&lt;-</span> <span class="fu">read.delim</span>(</span>
<span id="cb26-261"><a href="#cb26-261"></a>  <span class="fu">system.file</span>(<span class="st">"demo-data/housetasks.txt"</span>, <span class="at">package =</span> <span class="st">"ggpubr"</span>),</span>
<span id="cb26-262"><a href="#cb26-262"></a>  <span class="at">row.names =</span> <span class="dv">1</span></span>
<span id="cb26-263"><a href="#cb26-263"></a>  )</span>
<span id="cb26-264"><a href="#cb26-264"></a><span class="fu">head</span>(housetasks, <span class="dv">4</span>)</span>
<span id="cb26-265"><a href="#cb26-265"></a></span>
<span id="cb26-266"><a href="#cb26-266"></a><span class="fu">ggballoonplot</span>(housetasks, <span class="at">fill =</span> <span class="st">"value"</span>)<span class="sc">+</span></span>
<span id="cb26-267"><a href="#cb26-267"></a>  <span class="fu">scale_fill_viridis_c</span>(<span class="at">option =</span> <span class="st">"C"</span>)</span>
<span id="cb26-268"><a href="#cb26-268"></a></span>
<span id="cb26-269"><a href="#cb26-269"></a></span>
<span id="cb26-270"><a href="#cb26-270"></a><span class="in">```</span></span>
<span id="cb26-271"><a href="#cb26-271"></a></span>
<span id="cb26-274"><a href="#cb26-274"></a><span class="in">```{r}</span></span>
<span id="cb26-275"><a href="#cb26-275"></a>df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(HairEyeColor)</span>
<span id="cb26-276"><a href="#cb26-276"></a><span class="fu">ggballoonplot</span>(df, <span class="at">x =</span> <span class="st">"Hair"</span>, <span class="at">y =</span> <span class="st">"Eye"</span>, <span class="at">size =</span> <span class="st">"Freq"</span>,</span>
<span id="cb26-277"><a href="#cb26-277"></a>              <span class="at">fill =</span> <span class="st">"Freq"</span>, <span class="at">facet.by =</span> <span class="st">"Sex"</span>,</span>
<span id="cb26-278"><a href="#cb26-278"></a>              <span class="at">ggtheme =</span> <span class="fu">theme_bw</span>()) <span class="sc">+</span></span>
<span id="cb26-279"><a href="#cb26-279"></a>  <span class="fu">scale_fill_viridis_c</span>(<span class="at">option =</span> <span class="st">"C"</span>)</span>
<span id="cb26-280"><a href="#cb26-280"></a></span>
<span id="cb26-281"><a href="#cb26-281"></a><span class="in">```</span></span>
<span id="cb26-282"><a href="#cb26-282"></a></span>
<span id="cb26-283"><a href="#cb26-283"></a><span class="fu">### Plots for Likert Data</span></span>
<span id="cb26-284"><a href="#cb26-284"></a></span>
<span id="cb26-285"><a href="#cb26-285"></a>In many business situations, we perform surveys to get Likert scale</span>
<span id="cb26-286"><a href="#cb26-286"></a>data, where several respondents rate a product or a service on a scale</span>
<span id="cb26-287"><a href="#cb26-287"></a>of <span class="in">`Very much like`</span>, <span class="in">`somewhat like`</span>, <span class="in">`neutral`</span>, <span class="in">`Dislike`</span> and</span>
<span id="cb26-288"><a href="#cb26-288"></a><span class="in">`Very much dislike`</span>. Such data may look for example as follows:</span>
<span id="cb26-289"><a href="#cb26-289"></a></span>
<span id="cb26-292"><a href="#cb26-292"></a><span class="in">```{r}</span></span>
<span id="cb26-293"><a href="#cb26-293"></a><span class="fu">data</span>(efc)</span>
<span id="cb26-294"><a href="#cb26-294"></a><span class="fu">head</span>(efc, <span class="dv">20</span>)</span>
<span id="cb26-295"><a href="#cb26-295"></a><span class="in">```</span></span>
<span id="cb26-296"><a href="#cb26-296"></a></span>
<span id="cb26-297"><a href="#cb26-297"></a><span class="in">`efc`</span> is a German data set from a European study on family care of older people.  Following a common protocol, data were collected from national samples of approximately 1,000 family carers (i.e. caregivers) per country and clustered into comparable subgroups to facilitate cross-national analysis. One of the *research questions* in [**this EUROFAM study**](https://doi.org/10.1093/geront/48.6.752) was:</span>
<span id="cb26-298"><a href="#cb26-298"></a></span>
<span id="cb26-299"><a href="#cb26-299"></a><span class="at">&gt; What are the main difficulties carers experience accessing the services</span></span>
<span id="cb26-300"><a href="#cb26-300"></a><span class="at">used? </span></span>
<span id="cb26-301"><a href="#cb26-301"></a><span class="at">What prevents carers from accessing unused</span></span>
<span id="cb26-302"><a href="#cb26-302"></a><span class="at">supports that they need? </span></span>
<span id="cb26-303"><a href="#cb26-303"></a><span class="at">What causes them to stop using still-needed services?</span></span>
<span id="cb26-304"><a href="#cb26-304"></a></span>
<span id="cb26-305"><a href="#cb26-305"></a>We will select the variables from the <span class="in">`efc`</span> data set that related to *coping* (on part of care-givers) and plot their responses after inspecting them:</span>
<span id="cb26-306"><a href="#cb26-306"></a></span>
<span id="cb26-309"><a href="#cb26-309"></a><span class="in">```{r}</span></span>
<span id="cb26-310"><a href="#cb26-310"></a>efc <span class="sc">%&gt;%</span> <span class="fu">select</span>(dplyr<span class="sc">::</span><span class="fu">contains</span>(<span class="st">"cop"</span>)) <span class="sc">%&gt;%</span> <span class="fu">str</span>()</span>
<span id="cb26-311"><a href="#cb26-311"></a></span>
<span id="cb26-312"><a href="#cb26-312"></a><span class="in">```</span></span>
<span id="cb26-313"><a href="#cb26-313"></a></span>
<span id="cb26-314"><a href="#cb26-314"></a>The <span class="in">`cop`</span>ing related variables have responses on the Likert Scale <span class="in">`(1,2,3,4)`</span> which correspong to <span class="in">`(never, sometimes, often, always)`</span>,  **and** each variable also has a <span class="in">`label`</span> defining each variable. We can plot this data using the <span class="in">`plot_likert`</span> function from package <span class="in">`sjPlot`</span>:</span>
<span id="cb26-315"><a href="#cb26-315"></a></span>
<span id="cb26-318"><a href="#cb26-318"></a><span class="in">```{r}</span></span>
<span id="cb26-319"><a href="#cb26-319"></a>efc <span class="sc">%&gt;%</span> <span class="fu">select</span>(dplyr<span class="sc">::</span><span class="fu">contains</span>(<span class="st">"cop"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb26-320"><a href="#cb26-320"></a>  sjPlot<span class="sc">::</span><span class="fu">plot_likert</span>(<span class="at">title =</span> <span class="st">"Caregiver Survey from EUROFAM"</span>)</span>
<span id="cb26-321"><a href="#cb26-321"></a></span>
<span id="cb26-322"><a href="#cb26-322"></a><span class="in">```</span></span>
<span id="cb26-323"><a href="#cb26-323"></a></span>
<span id="cb26-324"><a href="#cb26-324"></a>So there we are with Categorical data ! There are a few other plots with this type of data, which are useful in very specialized circumstances. One example of this is the <span class="in">`agreement plot`</span> which captures the agreement between two (sets) of evaluators, on ratings given on a shared ordinal scale to a set of items. An example from the field of medical diagnosis is the opinions of two specialists on a common set of patients. </span>
<span id="cb26-325"><a href="#cb26-325"></a></span>
<span id="cb26-326"><a href="#cb26-326"></a><span class="fu">## Conclusion</span></span>
<span id="cb26-327"><a href="#cb26-327"></a></span>
<span id="cb26-328"><a href="#cb26-328"></a>How are these bar plots different from histograms? </span>
<span id="cb26-329"><a href="#cb26-329"></a>Why don't "regular" plots simply work for Categorical data?</span>
<span id="cb26-330"><a href="#cb26-330"></a>Discuss!</span>
<span id="cb26-331"><a href="#cb26-331"></a></span>
<span id="cb26-332"><a href="#cb26-332"></a></span>
<span id="cb26-333"><a href="#cb26-333"></a><span class="fu">## References</span></span>
<span id="cb26-334"><a href="#cb26-334"></a></span>
<span id="cb26-335"><a href="#cb26-335"></a><span class="ss">1. </span>Using the <span class="in">`strcplot`</span> command from <span class="in">`vcd`</span>, <span class="ot">&lt;https://cran.r-project.org/web/packages/vcd/vignettes/strucplot.pdf&gt;</span></span>
<span id="cb26-336"><a href="#cb26-336"></a></span>
<span id="cb26-337"><a href="#cb26-337"></a><span class="ss">1. </span>Creating Frequency Tables with <span class="in">`vcd`</span>, <span class="ot">&lt;https://cran.r-project.org/web/packages/vcdExtra/vignettes/A_creating.html&gt;</span></span>
<span id="cb26-338"><a href="#cb26-338"></a></span>
<span id="cb26-339"><a href="#cb26-339"></a><span class="ss">1. </span>Creating mosaic plots with <span class="in">`vcd`</span>, <span class="ot">&lt;https://cran.r-project.org/web/packages/vcdExtra/vignettes/D_mosaics.html&gt;</span></span>
<span id="cb26-340"><a href="#cb26-340"></a></span>
<span id="cb26-341"><a href="#cb26-341"></a><span class="ss">1. </span></span>
<span id="cb26-342"><a href="#cb26-342"></a></span>
<span id="cb26-343"><a href="#cb26-343"></a></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



<script src="../../../../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>